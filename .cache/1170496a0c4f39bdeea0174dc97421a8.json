{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/common/view/viewEvents.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/common/view/viewEvents.ts","mtime":1555102316000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar errors = require(\"vs/base/common/errors\");\nvar lifecycle_1 = require(\"vs/base/common/lifecycle\");\nvar ViewEventType;\n(function (ViewEventType) {\n    ViewEventType[ViewEventType[\"ViewConfigurationChanged\"] = 1] = \"ViewConfigurationChanged\";\n    ViewEventType[ViewEventType[\"ViewCursorStateChanged\"] = 2] = \"ViewCursorStateChanged\";\n    ViewEventType[ViewEventType[\"ViewDecorationsChanged\"] = 3] = \"ViewDecorationsChanged\";\n    ViewEventType[ViewEventType[\"ViewFlushed\"] = 4] = \"ViewFlushed\";\n    ViewEventType[ViewEventType[\"ViewFocusChanged\"] = 5] = \"ViewFocusChanged\";\n    ViewEventType[ViewEventType[\"ViewLineMappingChanged\"] = 6] = \"ViewLineMappingChanged\";\n    ViewEventType[ViewEventType[\"ViewLinesChanged\"] = 7] = \"ViewLinesChanged\";\n    ViewEventType[ViewEventType[\"ViewLinesDeleted\"] = 8] = \"ViewLinesDeleted\";\n    ViewEventType[ViewEventType[\"ViewLinesInserted\"] = 9] = \"ViewLinesInserted\";\n    ViewEventType[ViewEventType[\"ViewRevealRangeRequest\"] = 10] = \"ViewRevealRangeRequest\";\n    ViewEventType[ViewEventType[\"ViewScrollChanged\"] = 11] = \"ViewScrollChanged\";\n    ViewEventType[ViewEventType[\"ViewTokensChanged\"] = 12] = \"ViewTokensChanged\";\n    ViewEventType[ViewEventType[\"ViewTokensColorsChanged\"] = 13] = \"ViewTokensColorsChanged\";\n    ViewEventType[ViewEventType[\"ViewZonesChanged\"] = 14] = \"ViewZonesChanged\";\n    ViewEventType[ViewEventType[\"ViewThemeChanged\"] = 15] = \"ViewThemeChanged\";\n    ViewEventType[ViewEventType[\"ViewLanguageConfigurationChanged\"] = 16] = \"ViewLanguageConfigurationChanged\";\n})(ViewEventType = exports.ViewEventType || (exports.ViewEventType = {}));\nvar ViewConfigurationChangedEvent = /** @class */ (function () {\n    function ViewConfigurationChangedEvent(source) {\n        this.type = ViewEventType.ViewConfigurationChanged;\n        this.canUseLayerHinting = source.canUseLayerHinting;\n        this.pixelRatio = source.pixelRatio;\n        this.editorClassName = source.editorClassName;\n        this.lineHeight = source.lineHeight;\n        this.readOnly = source.readOnly;\n        this.accessibilitySupport = source.accessibilitySupport;\n        this.emptySelectionClipboard = source.emptySelectionClipboard;\n        this.copyWithSyntaxHighlighting = source.copyWithSyntaxHighlighting;\n        this.layoutInfo = source.layoutInfo;\n        this.fontInfo = source.fontInfo;\n        this.viewInfo = source.viewInfo;\n        this.wrappingInfo = source.wrappingInfo;\n    }\n    return ViewConfigurationChangedEvent;\n}());\nexports.ViewConfigurationChangedEvent = ViewConfigurationChangedEvent;\nvar ViewCursorStateChangedEvent = /** @class */ (function () {\n    function ViewCursorStateChangedEvent(selections) {\n        this.type = ViewEventType.ViewCursorStateChanged;\n        this.selections = selections;\n    }\n    return ViewCursorStateChangedEvent;\n}());\nexports.ViewCursorStateChangedEvent = ViewCursorStateChangedEvent;\nvar ViewDecorationsChangedEvent = /** @class */ (function () {\n    function ViewDecorationsChangedEvent() {\n        this.type = ViewEventType.ViewDecorationsChanged;\n        // Nothing to do\n    }\n    return ViewDecorationsChangedEvent;\n}());\nexports.ViewDecorationsChangedEvent = ViewDecorationsChangedEvent;\nvar ViewFlushedEvent = /** @class */ (function () {\n    function ViewFlushedEvent() {\n        this.type = ViewEventType.ViewFlushed;\n        // Nothing to do\n    }\n    return ViewFlushedEvent;\n}());\nexports.ViewFlushedEvent = ViewFlushedEvent;\nvar ViewFocusChangedEvent = /** @class */ (function () {\n    function ViewFocusChangedEvent(isFocused) {\n        this.type = ViewEventType.ViewFocusChanged;\n        this.isFocused = isFocused;\n    }\n    return ViewFocusChangedEvent;\n}());\nexports.ViewFocusChangedEvent = ViewFocusChangedEvent;\nvar ViewLineMappingChangedEvent = /** @class */ (function () {\n    function ViewLineMappingChangedEvent() {\n        this.type = ViewEventType.ViewLineMappingChanged;\n        // Nothing to do\n    }\n    return ViewLineMappingChangedEvent;\n}());\nexports.ViewLineMappingChangedEvent = ViewLineMappingChangedEvent;\nvar ViewLinesChangedEvent = /** @class */ (function () {\n    function ViewLinesChangedEvent(fromLineNumber, toLineNumber) {\n        this.type = ViewEventType.ViewLinesChanged;\n        this.fromLineNumber = fromLineNumber;\n        this.toLineNumber = toLineNumber;\n    }\n    return ViewLinesChangedEvent;\n}());\nexports.ViewLinesChangedEvent = ViewLinesChangedEvent;\nvar ViewLinesDeletedEvent = /** @class */ (function () {\n    function ViewLinesDeletedEvent(fromLineNumber, toLineNumber) {\n        this.type = ViewEventType.ViewLinesDeleted;\n        this.fromLineNumber = fromLineNumber;\n        this.toLineNumber = toLineNumber;\n    }\n    return ViewLinesDeletedEvent;\n}());\nexports.ViewLinesDeletedEvent = ViewLinesDeletedEvent;\nvar ViewLinesInsertedEvent = /** @class */ (function () {\n    function ViewLinesInsertedEvent(fromLineNumber, toLineNumber) {\n        this.type = ViewEventType.ViewLinesInserted;\n        this.fromLineNumber = fromLineNumber;\n        this.toLineNumber = toLineNumber;\n    }\n    return ViewLinesInsertedEvent;\n}());\nexports.ViewLinesInsertedEvent = ViewLinesInsertedEvent;\nvar VerticalRevealType;\n(function (VerticalRevealType) {\n    VerticalRevealType[VerticalRevealType[\"Simple\"] = 0] = \"Simple\";\n    VerticalRevealType[VerticalRevealType[\"Center\"] = 1] = \"Center\";\n    VerticalRevealType[VerticalRevealType[\"CenterIfOutsideViewport\"] = 2] = \"CenterIfOutsideViewport\";\n    VerticalRevealType[VerticalRevealType[\"Top\"] = 3] = \"Top\";\n    VerticalRevealType[VerticalRevealType[\"Bottom\"] = 4] = \"Bottom\";\n})(VerticalRevealType = exports.VerticalRevealType || (exports.VerticalRevealType = {}));\nvar ViewRevealRangeRequestEvent = /** @class */ (function () {\n    function ViewRevealRangeRequestEvent(range, verticalType, revealHorizontal, scrollType) {\n        this.type = ViewEventType.ViewRevealRangeRequest;\n        this.range = range;\n        this.verticalType = verticalType;\n        this.revealHorizontal = revealHorizontal;\n        this.scrollType = scrollType;\n    }\n    return ViewRevealRangeRequestEvent;\n}());\nexports.ViewRevealRangeRequestEvent = ViewRevealRangeRequestEvent;\nvar ViewScrollChangedEvent = /** @class */ (function () {\n    function ViewScrollChangedEvent(source) {\n        this.type = ViewEventType.ViewScrollChanged;\n        this.scrollWidth = source.scrollWidth;\n        this.scrollLeft = source.scrollLeft;\n        this.scrollHeight = source.scrollHeight;\n        this.scrollTop = source.scrollTop;\n        this.scrollWidthChanged = source.scrollWidthChanged;\n        this.scrollLeftChanged = source.scrollLeftChanged;\n        this.scrollHeightChanged = source.scrollHeightChanged;\n        this.scrollTopChanged = source.scrollTopChanged;\n    }\n    return ViewScrollChangedEvent;\n}());\nexports.ViewScrollChangedEvent = ViewScrollChangedEvent;\nvar ViewTokensChangedEvent = /** @class */ (function () {\n    function ViewTokensChangedEvent(ranges) {\n        this.type = ViewEventType.ViewTokensChanged;\n        this.ranges = ranges;\n    }\n    return ViewTokensChangedEvent;\n}());\nexports.ViewTokensChangedEvent = ViewTokensChangedEvent;\nvar ViewThemeChangedEvent = /** @class */ (function () {\n    function ViewThemeChangedEvent() {\n        this.type = ViewEventType.ViewThemeChanged;\n    }\n    return ViewThemeChangedEvent;\n}());\nexports.ViewThemeChangedEvent = ViewThemeChangedEvent;\nvar ViewTokensColorsChangedEvent = /** @class */ (function () {\n    function ViewTokensColorsChangedEvent() {\n        this.type = ViewEventType.ViewTokensColorsChanged;\n        // Nothing to do\n    }\n    return ViewTokensColorsChangedEvent;\n}());\nexports.ViewTokensColorsChangedEvent = ViewTokensColorsChangedEvent;\nvar ViewZonesChangedEvent = /** @class */ (function () {\n    function ViewZonesChangedEvent() {\n        this.type = ViewEventType.ViewZonesChanged;\n        // Nothing to do\n    }\n    return ViewZonesChangedEvent;\n}());\nexports.ViewZonesChangedEvent = ViewZonesChangedEvent;\nvar ViewLanguageConfigurationEvent = /** @class */ (function () {\n    function ViewLanguageConfigurationEvent() {\n        this.type = ViewEventType.ViewLanguageConfigurationChanged;\n    }\n    return ViewLanguageConfigurationEvent;\n}());\nexports.ViewLanguageConfigurationEvent = ViewLanguageConfigurationEvent;\nvar ViewEventEmitter = /** @class */ (function (_super) {\n    tslib_1.__extends(ViewEventEmitter, _super);\n    function ViewEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._listeners = [];\n        _this._collector = null;\n        _this._collectorCnt = 0;\n        return _this;\n    }\n    ViewEventEmitter.prototype.dispose = function () {\n        this._listeners = [];\n        _super.prototype.dispose.call(this);\n    };\n    ViewEventEmitter.prototype._beginEmit = function () {\n        this._collectorCnt++;\n        if (this._collectorCnt === 1) {\n            this._collector = new ViewEventsCollector();\n        }\n        return this._collector;\n    };\n    ViewEventEmitter.prototype._endEmit = function () {\n        this._collectorCnt--;\n        if (this._collectorCnt === 0) {\n            var events = this._collector.finalize();\n            this._collector = null;\n            if (events.length > 0) {\n                this._emit(events);\n            }\n        }\n    };\n    ViewEventEmitter.prototype._emit = function (events) {\n        var listeners = this._listeners.slice(0);\n        for (var i = 0, len = listeners.length; i < len; i++) {\n            safeInvokeListener(listeners[i], events);\n        }\n    };\n    ViewEventEmitter.prototype.addEventListener = function (listener) {\n        var _this = this;\n        this._listeners.push(listener);\n        return lifecycle_1.toDisposable(function () {\n            var listeners = _this._listeners;\n            for (var i = 0, len = listeners.length; i < len; i++) {\n                if (listeners[i] === listener) {\n                    listeners.splice(i, 1);\n                    break;\n                }\n            }\n        });\n    };\n    return ViewEventEmitter;\n}(lifecycle_1.Disposable));\nexports.ViewEventEmitter = ViewEventEmitter;\nvar ViewEventsCollector = /** @class */ (function () {\n    function ViewEventsCollector() {\n        this._eventsLen = 0;\n        this._events = [];\n        this._eventsLen = 0;\n    }\n    ViewEventsCollector.prototype.emit = function (event) {\n        this._events[this._eventsLen++] = event;\n    };\n    ViewEventsCollector.prototype.finalize = function () {\n        var result = this._events;\n        this._events = [];\n        return result;\n    };\n    return ViewEventsCollector;\n}());\nexports.ViewEventsCollector = ViewEventsCollector;\nfunction safeInvokeListener(listener, events) {\n    try {\n        listener(events);\n    }\n    catch (e) {\n        errors.onUnexpectedError(e);\n    }\n}\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/common/view/viewEvents.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/common/view/viewEvents.ts"],"names":[],"mappings":";AAAA;;;gGAGgG;;;AAEhG,8CAAgD;AAChD,sDAAiF;AAOjF,IAAkB,aAiBjB;AAjBD,WAAkB,aAAa;IAC9B,yFAA4B,CAAA;IAC5B,qFAA0B,CAAA;IAC1B,qFAA0B,CAAA;IAC1B,+DAAe,CAAA;IACf,yEAAoB,CAAA;IACpB,qFAA0B,CAAA;IAC1B,yEAAoB,CAAA;IACpB,yEAAoB,CAAA;IACpB,2EAAqB,CAAA;IACrB,sFAA2B,CAAA;IAC3B,4EAAsB,CAAA;IACtB,4EAAsB,CAAA;IACtB,wFAA4B,CAAA;IAC5B,0EAAqB,CAAA;IACrB,0EAAqB,CAAA;IACrB,0GAAqC,CAAA;AACtC,CAAC,EAjBiB,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAiB9B;AAED;IAiBC,uCAAY,MAAkC;QAf9B,SAAI,GAAG,aAAa,CAAC,wBAAwB,CAAC;QAgB7D,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB,CAAC;QACpD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;QACpC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;QAC9C,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,MAAM,CAAC,oBAAoB,CAAC;QACxD,IAAI,CAAC,uBAAuB,GAAG,MAAM,CAAC,uBAAuB,CAAC;QAC9D,IAAI,CAAC,0BAA0B,GAAG,MAAM,CAAC,0BAA0B,CAAC;QACpE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;QACpC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;IACzC,CAAC;IACF,oCAAC;AAAD,CAAC,AA/BD,IA+BC;AA/BY,sEAA6B;AAiC1C;IASC,qCAAY,UAAuB;QAPnB,SAAI,GAAG,aAAa,CAAC,sBAAsB,CAAC;QAQ3D,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC9B,CAAC;IACF,kCAAC;AAAD,CAAC,AAZD,IAYC;AAZY,kEAA2B;AAcxC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,sBAAsB,CAAC;QAG3D,gBAAgB;IACjB,CAAC;IACF,kCAAC;AAAD,CAAC,AAPD,IAOC;AAPY,kEAA2B;AASxC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,WAAW,CAAC;QAGhD,gBAAgB;IACjB,CAAC;IACF,uBAAC;AAAD,CAAC,AAPD,IAOC;AAPY,4CAAgB;AAS7B;IAMC,+BAAY,SAAkB;QAJd,SAAI,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAKrD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC5B,CAAC;IACF,4BAAC;AAAD,CAAC,AATD,IASC;AATY,sDAAqB;AAWlC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,sBAAsB,CAAC;QAG3D,gBAAgB;IACjB,CAAC;IACF,kCAAC;AAAD,CAAC,AAPD,IAOC;AAPY,kEAA2B;AASxC;IAaC,+BAAY,cAAsB,EAAE,YAAoB;QAXxC,SAAI,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAYrD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IAClC,CAAC;IACF,4BAAC;AAAD,CAAC,AAjBD,IAiBC;AAjBY,sDAAqB;AAmBlC;IAaC,+BAAY,cAAsB,EAAE,YAAoB;QAXxC,SAAI,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAYrD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IAClC,CAAC;IACF,4BAAC;AAAD,CAAC,AAjBD,IAiBC;AAjBY,sDAAqB;AAmBlC;IAaC,gCAAY,cAAsB,EAAE,YAAoB;QAXxC,SAAI,GAAG,aAAa,CAAC,iBAAiB,CAAC;QAYtD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IAClC,CAAC;IACF,6BAAC;AAAD,CAAC,AAjBD,IAiBC;AAjBY,wDAAsB;AAmBnC,IAAkB,kBAMjB;AAND,WAAkB,kBAAkB;IACnC,+DAAU,CAAA;IACV,+DAAU,CAAA;IACV,iGAA2B,CAAA;IAC3B,yDAAO,CAAA;IACP,+DAAU,CAAA;AACX,CAAC,EANiB,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAMnC;AAED;IAkBC,qCAAY,KAAY,EAAE,YAAgC,EAAE,gBAAyB,EAAE,UAAsB;QAhB7F,SAAI,GAAG,aAAa,CAAC,sBAAsB,CAAC;QAiB3D,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IAC9B,CAAC;IACF,kCAAC;AAAD,CAAC,AAxBD,IAwBC;AAxBY,kEAA2B;AA0BxC;IAcC,gCAAY,MAAmB;QAZf,SAAI,GAAG,aAAa,CAAC,iBAAiB,CAAC;QAatD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;QACpC,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAElC,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB,CAAC;QACpD,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC;QAClD,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,mBAAmB,CAAC;QACtD,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;IACjD,CAAC;IACF,6BAAC;AAAD,CAAC,AAzBD,IAyBC;AAzBY,wDAAsB;AA2BnC;IAeC,gCAAY,MAA2D;QAbvD,SAAI,GAAG,aAAa,CAAC,iBAAiB,CAAC;QActD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACtB,CAAC;IACF,6BAAC;AAAD,CAAC,AAlBD,IAkBC;AAlBY,wDAAsB;AAoBnC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,gBAAgB,CAAC;IAGtD,CAAC;IACF,4BAAC;AAAD,CAAC,AAND,IAMC;AANY,sDAAqB;AAQlC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,uBAAuB,CAAC;QAG5D,gBAAgB;IACjB,CAAC;IACF,mCAAC;AAAD,CAAC,AAPD,IAOC;AAPY,oEAA4B;AASzC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAGrD,gBAAgB;IACjB,CAAC;IACF,4BAAC;AAAD,CAAC,AAPD,IAOC;AAPY,sDAAqB;AASlC;IAIC;QAFgB,SAAI,GAAG,aAAa,CAAC,gCAAgC,CAAC;IAGtE,CAAC;IACF,qCAAC;AAAD,CAAC,AAND,IAMC;AANY,wEAA8B;AA+B3C;IAAsC,4CAAU;IAK/C;QAAA,YACC,iBAAO,SAIP;QAHA,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,KAAI,CAAC,aAAa,GAAG,CAAC,CAAC;;IACxB,CAAC;IAEM,kCAAO,GAAd;QACC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,iBAAM,OAAO,WAAE,CAAC;IACjB,CAAC;IAES,qCAAU,GAApB;QACC,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,EAAE;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,mBAAmB,EAAE,CAAC;SAC5C;QACD,OAAO,IAAI,CAAC,UAAW,CAAC;IACzB,CAAC;IAES,mCAAQ,GAAlB;QACC,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,EAAE;YAC7B,IAAM,MAAM,GAAG,IAAI,CAAC,UAAW,CAAC,QAAQ,EAAE,CAAC;YAC3C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aACnB;SACD;IACF,CAAC;IAEO,gCAAK,GAAb,UAAc,MAAmB;QAChC,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACrD,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;SACzC;IACF,CAAC;IAEM,2CAAgB,GAAvB,UAAwB,QAAuC;QAA/D,iBAWC;QAVA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/B,OAAO,wBAAY,CAAC;YACnB,IAAI,SAAS,GAAG,KAAI,CAAC,UAAU,CAAC;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACrD,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;oBAC9B,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvB,MAAM;iBACN;aACD;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IACF,uBAAC;AAAD,CAAC,AAvDD,CAAsC,sBAAU,GAuD/C;AAvDY,4CAAgB;AAyD7B;IAKC;QAFQ,eAAU,GAAG,CAAC,CAAC;QAGtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACrB,CAAC;IAEM,kCAAI,GAAX,UAAY,KAAgB;QAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,KAAK,CAAC;IACzC,CAAC;IAEM,sCAAQ,GAAf;QACC,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,OAAO,MAAM,CAAC;IACf,CAAC;IAEF,0BAAC;AAAD,CAAC,AApBD,IAoBC;AApBY,kDAAmB;AAsBhC,SAAS,kBAAkB,CAAC,QAA4B,EAAE,MAAmB;IAC5E,IAAI;QACH,QAAQ,CAAC,MAAM,CAAC,CAAC;KACjB;IAAC,OAAO,CAAC,EAAE;QACX,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;KAC5B;AACF,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as errors from 'vs/base/common/errors';\nimport { Disposable, IDisposable, toDisposable } from 'vs/base/common/lifecycle';\nimport { ScrollEvent } from 'vs/base/common/scrollable';\nimport { IConfigurationChangedEvent } from 'vs/editor/common/config/editorOptions';\nimport { Range } from 'vs/editor/common/core/range';\nimport { Selection } from 'vs/editor/common/core/selection';\nimport { ScrollType } from 'vs/editor/common/editorCommon';\n\nexport const enum ViewEventType {\n\tViewConfigurationChanged = 1,\n\tViewCursorStateChanged = 2,\n\tViewDecorationsChanged = 3,\n\tViewFlushed = 4,\n\tViewFocusChanged = 5,\n\tViewLineMappingChanged = 6,\n\tViewLinesChanged = 7,\n\tViewLinesDeleted = 8,\n\tViewLinesInserted = 9,\n\tViewRevealRangeRequest = 10,\n\tViewScrollChanged = 11,\n\tViewTokensChanged = 12,\n\tViewTokensColorsChanged = 13,\n\tViewZonesChanged = 14,\n\tViewThemeChanged = 15,\n\tViewLanguageConfigurationChanged = 16\n}\n\nexport class ViewConfigurationChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewConfigurationChanged;\n\n\tpublic readonly canUseLayerHinting: boolean;\n\tpublic readonly pixelRatio: boolean;\n\tpublic readonly editorClassName: boolean;\n\tpublic readonly lineHeight: boolean;\n\tpublic readonly readOnly: boolean;\n\tpublic readonly accessibilitySupport: boolean;\n\tpublic readonly emptySelectionClipboard: boolean;\n\tpublic readonly copyWithSyntaxHighlighting: boolean;\n\tpublic readonly layoutInfo: boolean;\n\tpublic readonly fontInfo: boolean;\n\tpublic readonly viewInfo: boolean;\n\tpublic readonly wrappingInfo: boolean;\n\n\tconstructor(source: IConfigurationChangedEvent) {\n\t\tthis.canUseLayerHinting = source.canUseLayerHinting;\n\t\tthis.pixelRatio = source.pixelRatio;\n\t\tthis.editorClassName = source.editorClassName;\n\t\tthis.lineHeight = source.lineHeight;\n\t\tthis.readOnly = source.readOnly;\n\t\tthis.accessibilitySupport = source.accessibilitySupport;\n\t\tthis.emptySelectionClipboard = source.emptySelectionClipboard;\n\t\tthis.copyWithSyntaxHighlighting = source.copyWithSyntaxHighlighting;\n\t\tthis.layoutInfo = source.layoutInfo;\n\t\tthis.fontInfo = source.fontInfo;\n\t\tthis.viewInfo = source.viewInfo;\n\t\tthis.wrappingInfo = source.wrappingInfo;\n\t}\n}\n\nexport class ViewCursorStateChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewCursorStateChanged;\n\n\t/**\n\t * The primary selection is always at index 0.\n\t */\n\tpublic readonly selections: Selection[];\n\n\tconstructor(selections: Selection[]) {\n\t\tthis.selections = selections;\n\t}\n}\n\nexport class ViewDecorationsChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewDecorationsChanged;\n\n\tconstructor() {\n\t\t// Nothing to do\n\t}\n}\n\nexport class ViewFlushedEvent {\n\n\tpublic readonly type = ViewEventType.ViewFlushed;\n\n\tconstructor() {\n\t\t// Nothing to do\n\t}\n}\n\nexport class ViewFocusChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewFocusChanged;\n\n\tpublic readonly isFocused: boolean;\n\n\tconstructor(isFocused: boolean) {\n\t\tthis.isFocused = isFocused;\n\t}\n}\n\nexport class ViewLineMappingChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewLineMappingChanged;\n\n\tconstructor() {\n\t\t// Nothing to do\n\t}\n}\n\nexport class ViewLinesChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewLinesChanged;\n\n\t/**\n\t * The first line that has changed.\n\t */\n\tpublic readonly fromLineNumber: number;\n\t/**\n\t * The last line that has changed.\n\t */\n\tpublic readonly toLineNumber: number;\n\n\tconstructor(fromLineNumber: number, toLineNumber: number) {\n\t\tthis.fromLineNumber = fromLineNumber;\n\t\tthis.toLineNumber = toLineNumber;\n\t}\n}\n\nexport class ViewLinesDeletedEvent {\n\n\tpublic readonly type = ViewEventType.ViewLinesDeleted;\n\n\t/**\n\t * At what line the deletion began (inclusive).\n\t */\n\tpublic readonly fromLineNumber: number;\n\t/**\n\t * At what line the deletion stopped (inclusive).\n\t */\n\tpublic readonly toLineNumber: number;\n\n\tconstructor(fromLineNumber: number, toLineNumber: number) {\n\t\tthis.fromLineNumber = fromLineNumber;\n\t\tthis.toLineNumber = toLineNumber;\n\t}\n}\n\nexport class ViewLinesInsertedEvent {\n\n\tpublic readonly type = ViewEventType.ViewLinesInserted;\n\n\t/**\n\t * Before what line did the insertion begin\n\t */\n\tpublic readonly fromLineNumber: number;\n\t/**\n\t * `toLineNumber` - `fromLineNumber` + 1 denotes the number of lines that were inserted\n\t */\n\tpublic readonly toLineNumber: number;\n\n\tconstructor(fromLineNumber: number, toLineNumber: number) {\n\t\tthis.fromLineNumber = fromLineNumber;\n\t\tthis.toLineNumber = toLineNumber;\n\t}\n}\n\nexport const enum VerticalRevealType {\n\tSimple = 0,\n\tCenter = 1,\n\tCenterIfOutsideViewport = 2,\n\tTop = 3,\n\tBottom = 4\n}\n\nexport class ViewRevealRangeRequestEvent {\n\n\tpublic readonly type = ViewEventType.ViewRevealRangeRequest;\n\n\t/**\n\t * Range to be reavealed.\n\t */\n\tpublic readonly range: Range;\n\n\tpublic readonly verticalType: VerticalRevealType;\n\t/**\n\t * If true: there should be a horizontal & vertical revealing\n\t * If false: there should be just a vertical revealing\n\t */\n\tpublic readonly revealHorizontal: boolean;\n\n\tpublic readonly scrollType: ScrollType;\n\n\tconstructor(range: Range, verticalType: VerticalRevealType, revealHorizontal: boolean, scrollType: ScrollType) {\n\t\tthis.range = range;\n\t\tthis.verticalType = verticalType;\n\t\tthis.revealHorizontal = revealHorizontal;\n\t\tthis.scrollType = scrollType;\n\t}\n}\n\nexport class ViewScrollChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewScrollChanged;\n\n\tpublic readonly scrollWidth: number;\n\tpublic readonly scrollLeft: number;\n\tpublic readonly scrollHeight: number;\n\tpublic readonly scrollTop: number;\n\n\tpublic readonly scrollWidthChanged: boolean;\n\tpublic readonly scrollLeftChanged: boolean;\n\tpublic readonly scrollHeightChanged: boolean;\n\tpublic readonly scrollTopChanged: boolean;\n\n\tconstructor(source: ScrollEvent) {\n\t\tthis.scrollWidth = source.scrollWidth;\n\t\tthis.scrollLeft = source.scrollLeft;\n\t\tthis.scrollHeight = source.scrollHeight;\n\t\tthis.scrollTop = source.scrollTop;\n\n\t\tthis.scrollWidthChanged = source.scrollWidthChanged;\n\t\tthis.scrollLeftChanged = source.scrollLeftChanged;\n\t\tthis.scrollHeightChanged = source.scrollHeightChanged;\n\t\tthis.scrollTopChanged = source.scrollTopChanged;\n\t}\n}\n\nexport class ViewTokensChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewTokensChanged;\n\n\tpublic readonly ranges: {\n\t\t/**\n\t\t * Start line number of range\n\t\t */\n\t\treadonly fromLineNumber: number;\n\t\t/**\n\t\t * End line number of range\n\t\t */\n\t\treadonly toLineNumber: number;\n\t}[];\n\n\tconstructor(ranges: { fromLineNumber: number; toLineNumber: number; }[]) {\n\t\tthis.ranges = ranges;\n\t}\n}\n\nexport class ViewThemeChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewThemeChanged;\n\n\tconstructor() {\n\t}\n}\n\nexport class ViewTokensColorsChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewTokensColorsChanged;\n\n\tconstructor() {\n\t\t// Nothing to do\n\t}\n}\n\nexport class ViewZonesChangedEvent {\n\n\tpublic readonly type = ViewEventType.ViewZonesChanged;\n\n\tconstructor() {\n\t\t// Nothing to do\n\t}\n}\n\nexport class ViewLanguageConfigurationEvent {\n\n\tpublic readonly type = ViewEventType.ViewLanguageConfigurationChanged;\n\n\tconstructor() {\n\t}\n}\n\nexport type ViewEvent = (\n\tViewConfigurationChangedEvent\n\t| ViewCursorStateChangedEvent\n\t| ViewDecorationsChangedEvent\n\t| ViewFlushedEvent\n\t| ViewFocusChangedEvent\n\t| ViewLinesChangedEvent\n\t| ViewLineMappingChangedEvent\n\t| ViewLinesDeletedEvent\n\t| ViewLinesInsertedEvent\n\t| ViewRevealRangeRequestEvent\n\t| ViewScrollChangedEvent\n\t| ViewTokensChangedEvent\n\t| ViewTokensColorsChangedEvent\n\t| ViewZonesChangedEvent\n\t| ViewThemeChangedEvent\n\t| ViewLanguageConfigurationEvent\n);\n\nexport interface IViewEventListener {\n\t(events: ViewEvent[]): void;\n}\n\nexport class ViewEventEmitter extends Disposable {\n\tprivate _listeners: IViewEventListener[];\n\tprivate _collector: ViewEventsCollector | null;\n\tprivate _collectorCnt: number;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._listeners = [];\n\t\tthis._collector = null;\n\t\tthis._collectorCnt = 0;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis._listeners = [];\n\t\tsuper.dispose();\n\t}\n\n\tprotected _beginEmit(): ViewEventsCollector {\n\t\tthis._collectorCnt++;\n\t\tif (this._collectorCnt === 1) {\n\t\t\tthis._collector = new ViewEventsCollector();\n\t\t}\n\t\treturn this._collector!;\n\t}\n\n\tprotected _endEmit(): void {\n\t\tthis._collectorCnt--;\n\t\tif (this._collectorCnt === 0) {\n\t\t\tconst events = this._collector!.finalize();\n\t\t\tthis._collector = null;\n\t\t\tif (events.length > 0) {\n\t\t\t\tthis._emit(events);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _emit(events: ViewEvent[]): void {\n\t\tconst listeners = this._listeners.slice(0);\n\t\tfor (let i = 0, len = listeners.length; i < len; i++) {\n\t\t\tsafeInvokeListener(listeners[i], events);\n\t\t}\n\t}\n\n\tpublic addEventListener(listener: (events: ViewEvent[]) => void): IDisposable {\n\t\tthis._listeners.push(listener);\n\t\treturn toDisposable(() => {\n\t\t\tlet listeners = this._listeners;\n\t\t\tfor (let i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\tif (listeners[i] === listener) {\n\t\t\t\t\tlisteners.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class ViewEventsCollector {\n\n\tprivate _events: ViewEvent[];\n\tprivate _eventsLen = 0;\n\n\tconstructor() {\n\t\tthis._events = [];\n\t\tthis._eventsLen = 0;\n\t}\n\n\tpublic emit(event: ViewEvent) {\n\t\tthis._events[this._eventsLen++] = event;\n\t}\n\n\tpublic finalize(): ViewEvent[] {\n\t\tlet result = this._events;\n\t\tthis._events = [];\n\t\treturn result;\n\t}\n\n}\n\nfunction safeInvokeListener(listener: IViewEventListener, events: ViewEvent[]): void {\n\ttry {\n\t\tlistener(events);\n\t} catch (e) {\n\t\terrors.onUnexpectedError(e);\n\t}\n}\n"]}]}