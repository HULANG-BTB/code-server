{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/highlightedlabel/highlightedLabel.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/highlightedlabel/highlightedLabel.ts","mtime":1555102316000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom = require(\"vs/base/browser/dom\");\nvar objects = require(\"vs/base/common/objects\");\nvar octiconLabel_1 = require(\"vs/base/browser/ui/octiconLabel/octiconLabel\");\nvar strings_1 = require(\"vs/base/common/strings\");\nvar HighlightedLabel = /** @class */ (function () {\n    function HighlightedLabel(container, supportOcticons) {\n        this.supportOcticons = supportOcticons;\n        this.domNode = document.createElement('span');\n        this.domNode.className = 'monaco-highlighted-label';\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    Object.defineProperty(HighlightedLabel.prototype, \"element\", {\n        get: function () {\n            return this.domNode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HighlightedLabel.prototype.set = function (text, highlights, title, escapeNewLines) {\n        if (highlights === void 0) { highlights = []; }\n        if (title === void 0) { title = ''; }\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        if (!Array.isArray(highlights)) {\n            highlights = [];\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    };\n    HighlightedLabel.prototype.render = function () {\n        dom.clearNode(this.domNode);\n        var htmlContent = [];\n        var pos = 0;\n        for (var _i = 0, _a = this.highlights; _i < _a.length; _i++) {\n            var highlight = _a[_i];\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                htmlContent.push('<span>');\n                var substring_1 = this.text.substring(pos, highlight.start);\n                htmlContent.push(this.supportOcticons ? octiconLabel_1.renderOcticons(substring_1) : strings_1.escape(substring_1));\n                htmlContent.push('</span>');\n                pos = highlight.end;\n            }\n            htmlContent.push('<span class=\"highlight\">');\n            var substring = this.text.substring(highlight.start, highlight.end);\n            htmlContent.push(this.supportOcticons ? octiconLabel_1.renderOcticons(substring) : strings_1.escape(substring));\n            htmlContent.push('</span>');\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            htmlContent.push('<span>');\n            var substring = this.text.substring(pos);\n            htmlContent.push(this.supportOcticons ? octiconLabel_1.renderOcticons(substring) : strings_1.escape(substring));\n            htmlContent.push('</span>');\n        }\n        this.domNode.innerHTML = htmlContent.join('');\n        this.domNode.title = this.title;\n        this.didEverRender = true;\n    };\n    HighlightedLabel.escapeNewLines = function (text, highlights) {\n        var total = 0;\n        var extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, function (match, offset) {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (var _i = 0, highlights_1 = highlights; _i < highlights_1.length; _i++) {\n                var highlight = highlights_1[_i];\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    };\n    return HighlightedLabel;\n}());\nexports.HighlightedLabel = HighlightedLabel;\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/highlightedlabel/highlightedLabel.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/highlightedlabel/highlightedLabel.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport * as objects from 'vs/base/common/objects';\nimport { renderOcticons } from 'vs/base/browser/ui/octiconLabel/octiconLabel';\nimport { escape } from 'vs/base/common/strings';\n\nexport interface IHighlight {\n\tstart: number;\n\tend: number;\n}\n\nexport class HighlightedLabel {\n\n\tprivate domNode: HTMLElement;\n\tprivate text: string;\n\tprivate title: string;\n\tprivate highlights: IHighlight[];\n\tprivate didEverRender: boolean;\n\n\tconstructor(container: HTMLElement, private supportOcticons: boolean) {\n\t\tthis.domNode = document.createElement('span');\n\t\tthis.domNode.className = 'monaco-highlighted-label';\n\t\tthis.didEverRender = false;\n\t\tcontainer.appendChild(this.domNode);\n\t}\n\n\tget element(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tset(text: string | undefined, highlights: IHighlight[] = [], title: string = '', escapeNewLines?: boolean) {\n\t\tif (!text) {\n\t\t\ttext = '';\n\t\t}\n\t\tif (escapeNewLines) {\n\t\t\t// adjusts highlights inplace\n\t\t\ttext = HighlightedLabel.escapeNewLines(text, highlights);\n\t\t}\n\t\tif (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!Array.isArray(highlights)) {\n\t\t\thighlights = [];\n\t\t}\n\n\t\tthis.text = text;\n\t\tthis.title = title;\n\t\tthis.highlights = highlights;\n\t\tthis.render();\n\t}\n\n\tprivate render() {\n\t\tdom.clearNode(this.domNode);\n\n\t\tlet htmlContent: string[] = [];\n\t\tlet pos = 0;\n\n\t\tfor (const highlight of this.highlights) {\n\t\t\tif (highlight.end === highlight.start) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (pos < highlight.start) {\n\t\t\t\thtmlContent.push('<span>');\n\t\t\t\tconst substring = this.text.substring(pos, highlight.start);\n\t\t\t\thtmlContent.push(this.supportOcticons ? renderOcticons(substring) : escape(substring));\n\t\t\t\thtmlContent.push('</span>');\n\t\t\t\tpos = highlight.end;\n\t\t\t}\n\t\t\thtmlContent.push('<span class=\"highlight\">');\n\t\t\tconst substring = this.text.substring(highlight.start, highlight.end);\n\t\t\thtmlContent.push(this.supportOcticons ? renderOcticons(substring) : escape(substring));\n\t\t\thtmlContent.push('</span>');\n\t\t\tpos = highlight.end;\n\t\t}\n\n\t\tif (pos < this.text.length) {\n\t\t\thtmlContent.push('<span>');\n\t\t\tconst substring = this.text.substring(pos);\n\t\t\thtmlContent.push(this.supportOcticons ? renderOcticons(substring) : escape(substring));\n\t\t\thtmlContent.push('</span>');\n\t\t}\n\n\t\tthis.domNode.innerHTML = htmlContent.join('');\n\t\tthis.domNode.title = this.title;\n\t\tthis.didEverRender = true;\n\t}\n\n\tstatic escapeNewLines(text: string, highlights: IHighlight[]): string {\n\n\t\tlet total = 0;\n\t\tlet extra = 0;\n\n\t\treturn text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n\t\t\textra = match === '\\r\\n' ? -1 : 0;\n\t\t\toffset += total;\n\n\t\t\tfor (const highlight of highlights) {\n\t\t\t\tif (highlight.end <= offset) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (highlight.start >= offset) {\n\t\t\t\t\thighlight.start += extra;\n\t\t\t\t}\n\t\t\t\tif (highlight.end >= offset) {\n\t\t\t\t\thighlight.end += extra;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttotal += extra;\n\t\t\treturn '\\u23CE';\n\t\t});\n\t}\n}\n"]}]}