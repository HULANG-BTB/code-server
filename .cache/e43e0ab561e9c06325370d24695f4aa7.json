{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true}!/home/coding/workspace/packages/app/browser/src/app.ts","dependencies":[{"path":"/home/coding/workspace/packages/app/browser/src/app.ts","mtime":1555846034228},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//@ts-ignore\nconst textfield_1 = require(\"@material/textfield\");\n//@ts-ignore\nconst checkbox_1 = require(\"@material/checkbox\");\nrequire(\"material-components-web/dist/material-components-web.css\");\nrequire(\"./app.scss\");\ndocument.querySelectorAll(\".mdc-text-field\").forEach((d) => new textfield_1.MDCTextField(d));\ndocument.querySelectorAll(\".mdc-checkbox\").forEach((d) => new checkbox_1.MDCCheckbox(d));\nwindow.addEventListener(\"message\", (event) => {\n    if (event.data === \"app\") {\n        document.body.classList.add(\"in-app\");\n        const back = document.querySelector(\".back\");\n        back.addEventListener(\"click\", () => {\n            event.source.postMessage(\"back\", event.origin);\n        });\n    }\n});\nconst password = document.getElementById(\"password\");\nconst username = document.getElementById(\"username\");\nconst form = document.getElementById(\"login-form\");\nif (!form) {\n    throw new Error(\"No password form found\");\n}\nform.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    document.cookie = `password=${password.value}; `\n        + `path=${location.pathname.replace(/\\/login\\/?$/, \"/\")}; `\n        + `domain=${location.hostname}`;\n    document.cookie += `username=${password.value}; `\n        + `path=${location.pathname.replace(/\\/login\\/?$/, \"/\")}; `\n        + `domain=${location.hostname}`;\n    location.reload();\n});\n/**\n * Notify user on load of page if previous password was unsuccessful\n */\nconst reg = new RegExp(`password=(\\\\w+);?`);\nconst matches = document.cookie.match(reg);\nconst errorDisplay = document.getElementById(\"error-display\");\nif (document.referrer === document.location.href && matches) {\n    errorDisplay.innerText = \"Password is incorrect!\";\n}\n",{"version":3,"file":"/home/coding/workspace/packages/app/browser/src/app.ts","sourceRoot":"","sources":["/home/coding/workspace/packages/app/browser/src/app.ts"],"names":[],"mappings":";;AAAA,YAAY;AACZ,mDAAmD;AACnD,YAAY;AACZ,iDAAiD;AACjD,oEAAkE;AAClE,sBAAoB;AAEpB,QAAQ,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,wBAAY,CAAC,CAAC,CAAC,CAAC,CAAC;AACjF,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,sBAAW,CAAC,CAAC,CAAC,CAAC,CAAC;AAE9E,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,EAAE;IAC5C,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK,EAAE;QACzB,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEtC,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC;QAC9C,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;YAClC,KAAK,CAAC,MAAiB,CAAC,WAAW,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;KACH;AACF,CAAC,CAAC,CAAC;AAEH,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAqB,CAAC;AACzE,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAqB,CAAC;AACzE,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAoB,CAAC;AAEtE,IAAI,CAAC,IAAI,EAAE;IACV,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;CAC1C;AAED,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE;IACrC,CAAC,CAAC,cAAc,EAAE,CAAC;IACnB,QAAQ,CAAC,MAAM,GAAG,YAAY,QAAQ,CAAC,KAAK,IAAI;UAC7C,QAAQ,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,GAAG,CAAC,IAAI;UACzD,UAAU,QAAQ,CAAC,QAAQ,EAAE,CAAC;IACjC,QAAQ,CAAC,MAAM,IAAI,YAAY,QAAQ,CAAC,KAAK,IAAI;UAC9C,QAAQ,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,GAAG,CAAC,IAAI;UACzD,UAAU,QAAQ,CAAC,QAAQ,EAAE,CAAC;IACjC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACnB,CAAC,CAAC,CAAC;AAEH;;GAEG;AACH,MAAM,GAAG,GAAG,IAAI,MAAM,CAAC,mBAAmB,CAAC,CAAC;AAC5C,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC3C,MAAM,YAAY,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAmB,CAAC;AAEhF,IAAI,QAAQ,CAAC,QAAQ,KAAK,QAAQ,CAAC,QAAQ,CAAC,IAAI,IAAI,OAAO,EAAE;IAC5D,YAAY,CAAC,SAAS,GAAG,wBAAwB,CAAC;CAClD","sourcesContent":["//@ts-ignore\nimport { MDCTextField } from \"@material/textfield\";\n//@ts-ignore\nimport { MDCCheckbox } from \"@material/checkbox\";\nimport \"material-components-web/dist/material-components-web.css\";\nimport \"./app.scss\";\n\ndocument.querySelectorAll(\".mdc-text-field\").forEach((d) => new MDCTextField(d));\ndocument.querySelectorAll(\".mdc-checkbox\").forEach((d) => new MDCCheckbox(d));\n\nwindow.addEventListener(\"message\", (event) => {\n\tif (event.data === \"app\") {\n\t\tdocument.body.classList.add(\"in-app\");\n\n\t\tconst back = document.querySelector(\".back\")!;\n\t\tback.addEventListener(\"click\", () => {\n\t\t\t(event.source as Window).postMessage(\"back\", event.origin);\n\t\t});\n\t}\n});\n\nconst password = document.getElementById(\"password\") as HTMLInputElement;\nconst username = document.getElementById(\"username\") as HTMLInputElement;\nconst form = document.getElementById(\"login-form\") as HTMLFormElement;\n\nif (!form) {\n\tthrow new Error(\"No password form found\");\n}\n\nform.addEventListener(\"submit\", (e) => {\n\te.preventDefault();\n\tdocument.cookie = `password=${password.value}; `\n\t\t+ `path=${location.pathname.replace(/\\/login\\/?$/, \"/\")}; `\n\t\t+ `domain=${location.hostname}`;\n\tdocument.cookie += `username=${password.value}; `\n\t\t+ `path=${location.pathname.replace(/\\/login\\/?$/, \"/\")}; `\n\t\t+ `domain=${location.hostname}`;\n\tlocation.reload();\n});\n\n/**\n * Notify user on load of page if previous password was unsuccessful\n */\nconst reg = new RegExp(`password=(\\\\w+);?`);\nconst matches = document.cookie.match(reg);\nconst errorDisplay = document.getElementById(\"error-display\") as HTMLDivElement;\n\nif (document.referrer === document.location.href && matches) {\n\terrorDisplay.innerText = \"Password is incorrect!\";\n}\n"]}]}