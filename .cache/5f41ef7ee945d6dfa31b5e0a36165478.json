{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/extensions/electron-browser/extensionEditor.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/extensions/electron-browser/extensionEditor.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nrequire(\"vs/css!./media/extensionEditor\");\nvar nls_1 = require(\"vs/nls\");\nvar marked = require(\"vs/base/common/marked/marked\");\nvar async_1 = require(\"vs/base/common/async\");\nvar arrays = require(\"vs/base/common/arrays\");\nvar platform_1 = require(\"vs/base/common/platform\");\nvar event_1 = require(\"vs/base/common/event\");\nvar cache_1 = require(\"vs/base/common/cache\");\nvar actions_1 = require(\"vs/base/common/actions\");\nvar errors_1 = require(\"vs/base/common/errors\");\nvar lifecycle_1 = require(\"vs/base/common/lifecycle\");\nvar event_2 = require(\"vs/base/browser/event\");\nvar dom_1 = require(\"vs/base/browser/dom\");\nvar baseEditor_1 = require(\"vs/workbench/browser/parts/editor/baseEditor\");\nvar viewlet_1 = require(\"vs/workbench/services/viewlet/browser/viewlet\");\nvar telemetry_1 = require(\"vs/platform/telemetry/common/telemetry\");\nvar instantiation_1 = require(\"vs/platform/instantiation/common/instantiation\");\nvar extensionManagement_1 = require(\"vs/platform/extensionManagement/common/extensionManagement\");\nvar extensions_1 = require(\"vs/platform/extensions/common/extensions\");\nvar keyCodes_1 = require(\"vs/base/common/keyCodes\");\nvar extensions_2 = require(\"vs/workbench/contrib/extensions/common/extensions\");\nvar extensionsWidgets_1 = require(\"vs/workbench/contrib/extensions/electron-browser/extensionsWidgets\");\nvar actionbar_1 = require(\"vs/base/browser/ui/actionbar/actionbar\");\nvar extensionsActions_1 = require(\"vs/workbench/contrib/extensions/electron-browser/extensionsActions\");\nvar webviewElement_1 = require(\"vs/workbench/contrib/webview/electron-browser/webviewElement\");\nvar keybinding_1 = require(\"vs/platform/keybinding/common/keybinding\");\nvar scrollableElement_1 = require(\"vs/base/browser/ui/scrollbar/scrollableElement\");\nvar opener_1 = require(\"vs/platform/opener/common/opener\");\nvar layoutService_1 = require(\"vs/workbench/services/layout/browser/layoutService\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar keybindingLabel_1 = require(\"vs/base/browser/ui/keybindingLabel/keybindingLabel\");\nvar contextkey_1 = require(\"vs/platform/contextkey/common/contextkey\");\nvar editorExtensions_1 = require(\"vs/editor/browser/editorExtensions\");\nvar editorService_1 = require(\"vs/workbench/services/editor/common/editorService\");\nvar keybindingsRegistry_1 = require(\"vs/platform/keybinding/common/keybindingsRegistry\");\nvar color_1 = require(\"vs/base/common/color\");\nvar objects_1 = require(\"vs/base/common/objects\");\nvar notification_1 = require(\"vs/platform/notification/common/notification\");\nvar cancellation_1 = require(\"vs/base/common/cancellation\");\nvar extensionsViewer_1 = require(\"vs/workbench/contrib/extensions/browser/extensionsViewer\");\nvar update_1 = require(\"vs/workbench/contrib/update/electron-browser/update\");\nvar keybindingParser_1 = require(\"vs/base/common/keybindingParser\");\nvar storage_1 = require(\"vs/platform/storage/common/storage\");\nvar extensions_3 = require(\"vs/workbench/services/extensions/common/extensions\");\nvar configurationRegistry_1 = require(\"vs/platform/configuration/common/configurationRegistry\");\nvar types_1 = require(\"vs/base/common/types\");\nvar workbenchThemeService_1 = require(\"vs/workbench/services/themes/common/workbenchThemeService\");\nfunction renderBody(body) {\n    var styleSheetPath = require.toUrl('./media/markdown.css').replace('file://', 'vscode-core-resource://');\n    return \"<!DOCTYPE html>\\n\\t\\t<html>\\n\\t\\t\\t<head>\\n\\t\\t\\t\\t<meta http-equiv=\\\"Content-type\\\" content=\\\"text/html;charset=UTF-8\\\">\\n\\t\\t\\t\\t<meta http-equiv=\\\"Content-Security-Policy\\\" content=\\\"default-src 'none'; img-src https: data:; media-src https:; script-src 'none'; style-src vscode-core-resource:; child-src 'none'; frame-src 'none';\\\">\\n\\t\\t\\t\\t<link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\" + styleSheetPath + \"\\\">\\n\\t\\t\\t</head>\\n\\t\\t\\t<body>\\n\\t\\t\\t\\t<a id=\\\"scroll-to-top\\\" role=\\\"button\\\" aria-label=\\\"scroll to top\\\" href=\\\"#\\\"><span class=\\\"icon\\\"></span></a>\\n\\t\\t\\t\\t\" + body + \"\\n\\t\\t\\t</body>\\n\\t\\t</html>\";\n}\nfunction removeEmbeddedSVGs(documentContent) {\n    var newDocument = new DOMParser().parseFromString(documentContent, 'text/html');\n    // remove all inline svgs\n    var allSVGs = newDocument.documentElement.querySelectorAll('svg');\n    if (allSVGs) {\n        for (var i = 0; i < allSVGs.length; i++) {\n            var svg = allSVGs[i];\n            if (svg.parentNode) {\n                svg.parentNode.removeChild(allSVGs[i]);\n            }\n        }\n    }\n    return newDocument.documentElement.outerHTML;\n}\nvar NavBar = /** @class */ (function () {\n    function NavBar(container) {\n        this._onChange = new event_1.Emitter();\n        this.currentId = null;\n        var element = dom_1.append(container, dom_1.$('.navbar'));\n        this.actions = [];\n        this.actionbar = new actionbar_1.ActionBar(element, { animated: false });\n    }\n    Object.defineProperty(NavBar.prototype, \"onChange\", {\n        get: function () { return this._onChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    NavBar.prototype.push = function (id, label, tooltip) {\n        var _this = this;\n        var action = new actions_1.Action(id, label, undefined, true, function () { return _this._update(id, true); });\n        action.tooltip = tooltip;\n        this.actions.push(action);\n        this.actionbar.push(action);\n        if (this.actions.length === 1) {\n            this._update(id);\n        }\n    };\n    NavBar.prototype.clear = function () {\n        this.actions = lifecycle_1.dispose(this.actions);\n        this.actionbar.clear();\n    };\n    NavBar.prototype.update = function () {\n        this._update(this.currentId);\n    };\n    NavBar.prototype._update = function (id, focus) {\n        if (id === void 0) { id = this.currentId; }\n        this.currentId = id;\n        this._onChange.fire({ id: id, focus: !!focus });\n        this.actions.forEach(function (a) { return a.enabled = a.id !== id; });\n        return Promise.resolve(undefined);\n    };\n    NavBar.prototype.dispose = function () {\n        this.actionbar = lifecycle_1.dispose(this.actionbar);\n    };\n    return NavBar;\n}());\nvar NavbarSection = {\n    Readme: 'readme',\n    Contributions: 'contributions',\n    Changelog: 'changelog',\n    Dependencies: 'dependencies',\n    ExtensionPack: 'extensionPack'\n};\nvar ExtensionEditor = /** @class */ (function (_super) {\n    tslib_1.__extends(ExtensionEditor, _super);\n    function ExtensionEditor(telemetryService, instantiationService, viewletService, extensionsWorkbenchService, themeService, keybindingService, notificationService, openerService, layoutService, extensionTipsService, storageService, extensionService, workbenchThemeService) {\n        var _this = _super.call(this, ExtensionEditor.ID, telemetryService, themeService, storageService) || this;\n        _this.instantiationService = instantiationService;\n        _this.viewletService = viewletService;\n        _this.extensionsWorkbenchService = extensionsWorkbenchService;\n        _this.themeService = themeService;\n        _this.keybindingService = keybindingService;\n        _this.notificationService = notificationService;\n        _this.openerService = openerService;\n        _this.layoutService = layoutService;\n        _this.extensionTipsService = extensionTipsService;\n        _this.extensionService = extensionService;\n        _this.workbenchThemeService = workbenchThemeService;\n        _this.layoutParticipants = [];\n        _this.contentDisposables = [];\n        _this.transientDisposables = [];\n        _this.editorLoadComplete = false;\n        _this.disposables = [];\n        _this.extensionReadme = null;\n        _this.extensionChangelog = null;\n        _this.extensionManifest = null;\n        _this.extensionDependencies = null;\n        return _this;\n    }\n    ExtensionEditor.prototype.createEditor = function (parent) {\n        var root = dom_1.append(parent, dom_1.$('.extension-editor'));\n        this.header = dom_1.append(root, dom_1.$('.header'));\n        this.iconContainer = dom_1.append(this.header, dom_1.$('.icon-container'));\n        this.icon = dom_1.append(this.iconContainer, dom_1.$('img.icon', { draggable: false }));\n        var details = dom_1.append(this.header, dom_1.$('.details'));\n        var title = dom_1.append(details, dom_1.$('.title'));\n        this.name = dom_1.append(title, dom_1.$('span.name.clickable', { title: nls_1.localize('name', \"Extension name\") }));\n        this.identifier = dom_1.append(title, dom_1.$('span.identifier', { title: nls_1.localize('extension id', \"Extension identifier\") }));\n        this.preview = dom_1.append(title, dom_1.$('span.preview', { title: nls_1.localize('preview', \"Preview\") }));\n        this.preview.textContent = nls_1.localize('preview', \"Preview\");\n        this.builtin = dom_1.append(title, dom_1.$('span.builtin'));\n        this.builtin.textContent = nls_1.localize('builtin', \"Built-in\");\n        var subtitle = dom_1.append(details, dom_1.$('.subtitle'));\n        this.publisher = dom_1.append(subtitle, dom_1.$('span.publisher.clickable', { title: nls_1.localize('publisher', \"Publisher name\") }));\n        this.installCount = dom_1.append(subtitle, dom_1.$('span.install', { title: nls_1.localize('install count', \"Install count\") }));\n        this.rating = dom_1.append(subtitle, dom_1.$('span.rating.clickable', { title: nls_1.localize('rating', \"Rating\") }));\n        this.repository = dom_1.append(subtitle, dom_1.$('span.repository.clickable'));\n        this.repository.textContent = nls_1.localize('repository', 'Repository');\n        this.repository.style.display = 'none';\n        this.license = dom_1.append(subtitle, dom_1.$('span.license.clickable'));\n        this.license.textContent = nls_1.localize('license', 'License');\n        this.license.style.display = 'none';\n        this.description = dom_1.append(details, dom_1.$('.description'));\n        var extensionActions = dom_1.append(details, dom_1.$('.actions'));\n        this.extensionActionBar = new actionbar_1.ActionBar(extensionActions, {\n            animated: false,\n            actionItemProvider: function (action) {\n                if (action instanceof extensionsActions_1.ExtensionEditorDropDownAction) {\n                    return action.createActionItem();\n                }\n                return undefined;\n            }\n        });\n        this.subtextContainer = dom_1.append(details, dom_1.$('.subtext-container'));\n        this.subtext = dom_1.append(this.subtextContainer, dom_1.$('.subtext'));\n        this.ignoreActionbar = new actionbar_1.ActionBar(this.subtextContainer, { animated: false });\n        this.disposables.push(this.extensionActionBar);\n        this.disposables.push(this.ignoreActionbar);\n        event_1.Event.chain(this.extensionActionBar.onDidRun)\n            .map(function (_a) {\n            var error = _a.error;\n            return error;\n        })\n            .filter(function (error) { return !!error; })\n            .on(this.onError, this, this.disposables);\n        event_1.Event.chain(this.ignoreActionbar.onDidRun)\n            .map(function (_a) {\n            var error = _a.error;\n            return error;\n        })\n            .filter(function (error) { return !!error; })\n            .on(this.onError, this, this.disposables);\n        var body = dom_1.append(root, dom_1.$('.body'));\n        this.navbar = new NavBar(body);\n        this.content = dom_1.append(body, dom_1.$('.content'));\n    };\n    ExtensionEditor.prototype.setInput = function (input, options, token) {\n        return tslib_1.__awaiter(this, void 0, Promise, function () {\n            var _a, runningExtensions, colorThemes, fileIconThemes, extension, remoteBadge, onError, extRecommendations, recommendationsData, widgets, reloadAction, actions, extensionContainers;\n            var _this = this;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.extensionService.getExtensions()];\n                    case 1:\n                        runningExtensions = _b.sent();\n                        return [4 /*yield*/, this.workbenchThemeService.getColorThemes()];\n                    case 2:\n                        colorThemes = _b.sent();\n                        return [4 /*yield*/, this.workbenchThemeService.getFileIconThemes()];\n                    case 3:\n                        fileIconThemes = _b.sent();\n                        this.activeElement = null;\n                        this.editorLoadComplete = false;\n                        extension = input.extension;\n                        this.transientDisposables = lifecycle_1.dispose(this.transientDisposables);\n                        this.extensionReadme = new cache_1.Cache(function () { return async_1.createCancelablePromise(function (token) { return extension.getReadme(token); }); });\n                        this.extensionChangelog = new cache_1.Cache(function () { return async_1.createCancelablePromise(function (token) { return extension.getChangelog(token); }); });\n                        this.extensionManifest = new cache_1.Cache(function () { return async_1.createCancelablePromise(function (token) { return extension.getManifest(token); }); });\n                        this.extensionDependencies = new cache_1.Cache(function () { return async_1.createCancelablePromise(function (token) { return _this.extensionsWorkbenchService.loadDependencies(extension, token); }); });\n                        remoteBadge = this.instantiationService.createInstance(extensionsWidgets_1.RemoteBadgeWidget, this.iconContainer);\n                        onError = event_1.Event.once(event_2.domEvent(this.icon, 'error'));\n                        onError(function () { return _this.icon.src = extension.iconUrlFallback; }, null, this.transientDisposables);\n                        this.icon.src = extension.iconUrl;\n                        this.name.textContent = extension.displayName;\n                        this.identifier.textContent = extension.identifier.id;\n                        this.preview.style.display = extension.preview ? 'inherit' : 'none';\n                        this.builtin.style.display = extension.type === extensions_1.ExtensionType.System ? 'inherit' : 'none';\n                        this.publisher.textContent = extension.publisherDisplayName;\n                        this.description.textContent = extension.description;\n                        extRecommendations = this.extensionTipsService.getAllRecommendationsWithReason();\n                        recommendationsData = {};\n                        if (extRecommendations[extension.identifier.id.toLowerCase()]) {\n                            recommendationsData = { recommendationReason: extRecommendations[extension.identifier.id.toLowerCase()].reasonId };\n                        }\n                        /* __GDPR__\n                        \"extensionGallery:openExtension\" : {\n                            \"recommendationReason\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n                            \"${include}\": [\n                                \"${GalleryExtensionTelemetryData}\"\n                            ]\n                        }\n                        */\n                        this.telemetryService.publicLog('extensionGallery:openExtension', objects_1.assign(extension.telemetryData, recommendationsData));\n                        dom_1.toggleClass(this.name, 'clickable', !!extension.url);\n                        dom_1.toggleClass(this.publisher, 'clickable', !!extension.url);\n                        dom_1.toggleClass(this.rating, 'clickable', !!extension.url);\n                        if (extension.url) {\n                            this.name.onclick = dom_1.finalHandler(function () { return window.open(extension.url); });\n                            this.rating.onclick = dom_1.finalHandler(function () { return window.open(extension.url + \"#review-details\"); });\n                            this.publisher.onclick = dom_1.finalHandler(function () {\n                                _this.viewletService.openViewlet(extensions_2.VIEWLET_ID, true)\n                                    .then(function (viewlet) { return viewlet; })\n                                    .then(function (viewlet) { return viewlet.search(\"publisher:\\\"\" + extension.publisherDisplayName + \"\\\"\"); });\n                            });\n                            if (extension.licenseUrl) {\n                                this.license.onclick = dom_1.finalHandler(function () { return window.open(extension.licenseUrl); });\n                                this.license.style.display = 'initial';\n                            }\n                            else {\n                                this.license.onclick = null;\n                                this.license.style.display = 'none';\n                            }\n                        }\n                        else {\n                            this.name.onclick = null;\n                            this.rating.onclick = null;\n                            this.publisher.onclick = null;\n                            this.license.onclick = null;\n                            this.license.style.display = 'none';\n                        }\n                        if (extension.repository) {\n                            this.repository.onclick = dom_1.finalHandler(function () { return window.open(extension.repository); });\n                            this.repository.style.display = 'initial';\n                        }\n                        else {\n                            this.repository.onclick = null;\n                            this.repository.style.display = 'none';\n                        }\n                        widgets = [\n                            remoteBadge,\n                            this.instantiationService.createInstance(extensionsWidgets_1.InstallCountWidget, this.installCount, false),\n                            this.instantiationService.createInstance(extensionsWidgets_1.RatingsWidget, this.rating, false)\n                        ];\n                        reloadAction = this.instantiationService.createInstance(extensionsActions_1.ReloadAction);\n                        actions = [\n                            reloadAction,\n                            this.instantiationService.createInstance(extensionsActions_1.StatusLabelAction),\n                            this.instantiationService.createInstance(extensionsActions_1.UpdateAction),\n                            this.instantiationService.createInstance(extensionsActions_1.SetColorThemeAction, colorThemes),\n                            this.instantiationService.createInstance(extensionsActions_1.SetFileIconThemeAction, fileIconThemes),\n                            this.instantiationService.createInstance(extensionsActions_1.EnableDropDownAction),\n                            this.instantiationService.createInstance(extensionsActions_1.DisableDropDownAction, runningExtensions),\n                            this.instantiationService.createInstance(extensionsActions_1.CombinedInstallAction),\n                            this.instantiationService.createInstance(extensionsActions_1.MaliciousStatusLabelAction, true),\n                        ];\n                        extensionContainers = this.instantiationService.createInstance(extensions_2.ExtensionContainers, actions.concat(widgets));\n                        extensionContainers.extension = extension;\n                        this.extensionActionBar.clear();\n                        this.extensionActionBar.push(actions, { icon: true, label: true });\n                        (_a = this.transientDisposables).push.apply(_a, actions.concat(widgets, [extensionContainers]));\n                        this.setSubText(extension, reloadAction);\n                        this.content.innerHTML = ''; // Clear content before setting navbar actions.\n                        this.navbar.clear();\n                        this.navbar.onChange(this.onNavbarChange.bind(this, extension), this, this.transientDisposables);\n                        if (extension.hasReadme()) {\n                            this.navbar.push(NavbarSection.Readme, nls_1.localize('details', \"Details\"), nls_1.localize('detailstooltip', \"Extension details, rendered from the extension's 'README.md' file\"));\n                        }\n                        this.extensionManifest.get()\n                            .promise\n                            .then(function (manifest) {\n                            if (extension.extensionPack.length) {\n                                _this.navbar.push(NavbarSection.ExtensionPack, nls_1.localize('extensionPack', \"Extension Pack\"), nls_1.localize('extensionsPack', \"Set of extensions that can be installed together\"));\n                            }\n                            if (manifest && manifest.contributes) {\n                                _this.navbar.push(NavbarSection.Contributions, nls_1.localize('contributions', \"Contributions\"), nls_1.localize('contributionstooltip', \"Lists contributions to VS Code by this extension\"));\n                            }\n                            if (extension.hasChangelog()) {\n                                _this.navbar.push(NavbarSection.Changelog, nls_1.localize('changelog', \"Changelog\"), nls_1.localize('changelogtooltip', \"Extension update history, rendered from the extension's 'CHANGELOG.md' file\"));\n                            }\n                            if (extension.dependencies.length) {\n                                _this.navbar.push(NavbarSection.Dependencies, nls_1.localize('dependencies', \"Dependencies\"), nls_1.localize('dependenciestooltip', \"Lists extensions this extension depends on\"));\n                            }\n                            _this.editorLoadComplete = true;\n                        });\n                        return [2 /*return*/, _super.prototype.setInput.call(this, input, options, token)];\n                }\n            });\n        });\n    };\n    ExtensionEditor.prototype.setSubText = function (extension, reloadAction) {\n        var _this = this;\n        dom_1.hide(this.subtextContainer);\n        var ignoreAction = this.instantiationService.createInstance(extensionsActions_1.IgnoreExtensionRecommendationAction);\n        var undoIgnoreAction = this.instantiationService.createInstance(extensionsActions_1.UndoIgnoreExtensionRecommendationAction);\n        ignoreAction.extension = extension;\n        undoIgnoreAction.extension = extension;\n        ignoreAction.enabled = false;\n        undoIgnoreAction.enabled = false;\n        this.ignoreActionbar.clear();\n        this.ignoreActionbar.push([ignoreAction, undoIgnoreAction], { icon: true, label: true });\n        this.transientDisposables.push(ignoreAction, undoIgnoreAction);\n        var extRecommendations = this.extensionTipsService.getAllRecommendationsWithReason();\n        if (extRecommendations[extension.identifier.id.toLowerCase()]) {\n            ignoreAction.enabled = true;\n            this.subtext.textContent = extRecommendations[extension.identifier.id.toLowerCase()].reasonText;\n            dom_1.show(this.subtextContainer);\n        }\n        else if (this.extensionTipsService.getAllIgnoredRecommendations().global.indexOf(extension.identifier.id.toLowerCase()) !== -1) {\n            undoIgnoreAction.enabled = true;\n            this.subtext.textContent = nls_1.localize('recommendationHasBeenIgnored', \"You have chosen not to receive recommendations for this extension.\");\n            dom_1.show(this.subtextContainer);\n        }\n        else {\n            this.subtext.textContent = '';\n        }\n        this.extensionTipsService.onRecommendationChange(function (change) {\n            if (change.extensionId.toLowerCase() === extension.identifier.id.toLowerCase()) {\n                if (change.isRecommended) {\n                    undoIgnoreAction.enabled = false;\n                    var extRecommendations_1 = _this.extensionTipsService.getAllRecommendationsWithReason();\n                    if (extRecommendations_1[extension.identifier.id.toLowerCase()]) {\n                        ignoreAction.enabled = true;\n                        _this.subtext.textContent = extRecommendations_1[extension.identifier.id.toLowerCase()].reasonText;\n                    }\n                }\n                else {\n                    undoIgnoreAction.enabled = true;\n                    ignoreAction.enabled = false;\n                    _this.subtext.textContent = nls_1.localize('recommendationHasBeenIgnored', \"You have chosen not to receive recommendations for this extension.\");\n                }\n            }\n        });\n        this.transientDisposables.push(reloadAction.onDidChange(function (e) {\n            if (e.tooltip) {\n                _this.subtext.textContent = reloadAction.tooltip;\n                dom_1.show(_this.subtextContainer);\n                ignoreAction.enabled = false;\n                undoIgnoreAction.enabled = false;\n            }\n            if (e.enabled === true) {\n                dom_1.show(_this.subtextContainer);\n            }\n            if (e.enabled === false) {\n                dom_1.hide(_this.subtextContainer);\n            }\n        }));\n    };\n    ExtensionEditor.prototype.focus = function () {\n        if (this.activeElement) {\n            this.activeElement.focus();\n        }\n    };\n    ExtensionEditor.prototype.showFind = function () {\n        if (this.activeElement instanceof webviewElement_1.WebviewElement) {\n            this.activeElement.showFind();\n        }\n    };\n    ExtensionEditor.prototype.onNavbarChange = function (extension, _a) {\n        var _this = this;\n        var id = _a.id, focus = _a.focus;\n        if (this.editorLoadComplete) {\n            /* __GDPR__\n                \"extensionEditor:navbarChange\" : {\n                    \"navItem\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                    \"${include}\": [\n                        \"${GalleryExtensionTelemetryData}\"\n                    ]\n                }\n            */\n            this.telemetryService.publicLog('extensionEditor:navbarChange', objects_1.assign(extension.telemetryData, { navItem: id }));\n        }\n        this.contentDisposables = lifecycle_1.dispose(this.contentDisposables);\n        this.content.innerHTML = '';\n        this.activeElement = null;\n        this.open(id, extension)\n            .then(function (activeElement) {\n            _this.activeElement = activeElement;\n            if (focus) {\n                _this.focus();\n            }\n        });\n    };\n    ExtensionEditor.prototype.open = function (id, extension) {\n        switch (id) {\n            case NavbarSection.Readme: return this.openReadme();\n            case NavbarSection.Contributions: return this.openContributions();\n            case NavbarSection.Changelog: return this.openChangelog();\n            case NavbarSection.Dependencies: return this.openDependencies(extension);\n            case NavbarSection.ExtensionPack: return this.openExtensionPack(extension);\n        }\n        return Promise.resolve(null);\n    };\n    ExtensionEditor.prototype.openMarkdown = function (cacheResult, noContentCopy) {\n        var _this = this;\n        return this.loadContents(function () { return cacheResult; })\n            .then(marked.parse)\n            .then(renderBody)\n            .then(removeEmbeddedSVGs)\n            .then(function (body) {\n            var wbeviewElement = _this.instantiationService.createInstance(webviewElement_1.WebviewElement, _this.layoutService.getContainer(layoutService_1.Parts.EDITOR_PART), {\n                enableFindWidget: true,\n            }, {\n                svgWhiteList: _this.extensionsWorkbenchService.allowedBadgeProviders\n            });\n            wbeviewElement.mountTo(_this.content);\n            var removeLayoutParticipant = arrays.insert(_this.layoutParticipants, wbeviewElement);\n            _this.contentDisposables.push(lifecycle_1.toDisposable(removeLayoutParticipant));\n            wbeviewElement.contents = body;\n            wbeviewElement.onDidClickLink(function (link) {\n                if (!link) {\n                    return;\n                }\n                // Whitelist supported schemes for links\n                if (['http', 'https', 'mailto'].indexOf(link.scheme) >= 0 || (link.scheme === 'command' && link.path === update_1.ShowCurrentReleaseNotesAction.ID)) {\n                    _this.openerService.open(link);\n                }\n            }, null, _this.contentDisposables);\n            _this.contentDisposables.push(wbeviewElement);\n            return wbeviewElement;\n        })\n            .then(undefined, function () {\n            var p = dom_1.append(_this.content, dom_1.$('p.nocontent'));\n            p.textContent = noContentCopy;\n            return p;\n        });\n    };\n    ExtensionEditor.prototype.openReadme = function () {\n        return this.openMarkdown(this.extensionReadme.get(), nls_1.localize('noReadme', \"No README available.\"));\n    };\n    ExtensionEditor.prototype.openChangelog = function () {\n        return this.openMarkdown(this.extensionChangelog.get(), nls_1.localize('noChangelog', \"No Changelog available.\"));\n    };\n    ExtensionEditor.prototype.openContributions = function () {\n        var _this = this;\n        var content = dom_1.$('div', { class: 'subcontent', tabindex: '0' });\n        return this.loadContents(function () { return _this.extensionManifest.get(); })\n            .then(function (manifest) {\n            if (!manifest) {\n                return content;\n            }\n            var scrollableContent = new scrollableElement_1.DomScrollableElement(content, {});\n            var layout = function () { return scrollableContent.scanDomNode(); };\n            var removeLayoutParticipant = arrays.insert(_this.layoutParticipants, { layout: layout });\n            _this.contentDisposables.push(lifecycle_1.toDisposable(removeLayoutParticipant));\n            var renders = [\n                _this.renderSettings(content, manifest, layout),\n                _this.renderCommands(content, manifest, layout),\n                _this.renderLanguages(content, manifest, layout),\n                _this.renderColorThemes(content, manifest, layout),\n                _this.renderIconThemes(content, manifest, layout),\n                _this.renderColors(content, manifest, layout),\n                _this.renderJSONValidation(content, manifest, layout),\n                _this.renderDebuggers(content, manifest, layout),\n                _this.renderViewContainers(content, manifest, layout),\n                _this.renderViews(content, manifest, layout),\n                _this.renderLocalizations(content, manifest, layout)\n            ];\n            var isEmpty = !renders.reduce(function (v, r) { return r || v; }, false);\n            scrollableContent.scanDomNode();\n            if (isEmpty) {\n                dom_1.append(content, dom_1.$('p.nocontent')).textContent = nls_1.localize('noContributions', \"No Contributions\");\n                dom_1.append(_this.content, content);\n            }\n            else {\n                dom_1.append(_this.content, scrollableContent.getDomNode());\n                _this.contentDisposables.push(scrollableContent);\n            }\n            return content;\n        }, function () {\n            dom_1.append(content, dom_1.$('p.nocontent')).textContent = nls_1.localize('noContributions', \"No Contributions\");\n            dom_1.append(_this.content, content);\n            return content;\n        });\n    };\n    ExtensionEditor.prototype.openDependencies = function (extension) {\n        var _this = this;\n        if (extension.dependencies.length === 0) {\n            dom_1.append(this.content, dom_1.$('p.nocontent')).textContent = nls_1.localize('noDependencies', \"No Dependencies\");\n            return Promise.resolve(this.content);\n        }\n        return this.loadContents(function () { return _this.extensionDependencies.get(); })\n            .then(function (extensionDependencies) {\n            if (extensionDependencies) {\n                var content = dom_1.$('div', { class: 'subcontent' });\n                var scrollableContent_1 = new scrollableElement_1.DomScrollableElement(content, {});\n                dom_1.append(_this.content, scrollableContent_1.getDomNode());\n                _this.contentDisposables.push(scrollableContent_1);\n                var dependenciesTree_1 = _this.renderDependencies(content, extensionDependencies);\n                var layout = function () {\n                    scrollableContent_1.scanDomNode();\n                    var scrollDimensions = scrollableContent_1.getScrollDimensions();\n                    dependenciesTree_1.layout(scrollDimensions.height);\n                };\n                var removeLayoutParticipant = arrays.insert(_this.layoutParticipants, { layout: layout });\n                _this.contentDisposables.push(lifecycle_1.toDisposable(removeLayoutParticipant));\n                _this.contentDisposables.push(dependenciesTree_1);\n                scrollableContent_1.scanDomNode();\n                return { focus: function () { dependenciesTree_1.domFocus(); } };\n            }\n            else {\n                dom_1.append(_this.content, dom_1.$('p.nocontent')).textContent = nls_1.localize('noDependencies', \"No Dependencies\");\n                return Promise.resolve(_this.content);\n            }\n        }, function (error) {\n            dom_1.append(_this.content, dom_1.$('p.nocontent')).textContent = error;\n            _this.notificationService.error(error);\n            return _this.content;\n        });\n    };\n    ExtensionEditor.prototype.renderDependencies = function (container, extensionDependencies) {\n        var ExtensionData = /** @class */ (function () {\n            function ExtensionData(extensionDependencies) {\n                this.extensionDependencies = extensionDependencies;\n            }\n            Object.defineProperty(ExtensionData.prototype, \"extension\", {\n                get: function () {\n                    return this.extensionDependencies.extension;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(ExtensionData.prototype, \"parent\", {\n                get: function () {\n                    return this.extensionDependencies.dependent ? new ExtensionData(this.extensionDependencies.dependent) : null;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(ExtensionData.prototype, \"hasChildren\", {\n                get: function () {\n                    return this.extensionDependencies.hasDependencies;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ExtensionData.prototype.getChildren = function () {\n                return this.extensionDependencies.dependencies ? Promise.resolve(this.extensionDependencies.dependencies.map(function (d) { return new ExtensionData(d); })) : Promise.resolve(null);\n            };\n            return ExtensionData;\n        }());\n        return this.instantiationService.createInstance(extensionsViewer_1.ExtensionsTree, new ExtensionData(extensionDependencies), container);\n    };\n    ExtensionEditor.prototype.openExtensionPack = function (extension) {\n        var content = dom_1.$('div', { class: 'subcontent' });\n        var scrollableContent = new scrollableElement_1.DomScrollableElement(content, {});\n        dom_1.append(this.content, scrollableContent.getDomNode());\n        this.contentDisposables.push(scrollableContent);\n        var extensionsPackTree = this.renderExtensionPack(content, extension);\n        var layout = function () {\n            scrollableContent.scanDomNode();\n            var scrollDimensions = scrollableContent.getScrollDimensions();\n            extensionsPackTree.layout(scrollDimensions.height);\n        };\n        var removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout: layout });\n        this.contentDisposables.push(lifecycle_1.toDisposable(removeLayoutParticipant));\n        this.contentDisposables.push(extensionsPackTree);\n        scrollableContent.scanDomNode();\n        return Promise.resolve({ focus: function () { extensionsPackTree.domFocus(); } });\n    };\n    ExtensionEditor.prototype.renderExtensionPack = function (container, extension) {\n        var extensionsWorkbenchService = this.extensionsWorkbenchService;\n        var ExtensionData = /** @class */ (function () {\n            function ExtensionData(extension, parent) {\n                this.extension = extension;\n                this.parent = types_1.withUndefinedAsNull(parent);\n            }\n            Object.defineProperty(ExtensionData.prototype, \"hasChildren\", {\n                get: function () {\n                    return this.extension.extensionPack.length > 0;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ExtensionData.prototype.getChildren = function () {\n                var _this = this;\n                if (this.hasChildren) {\n                    var names = arrays.distinct(this.extension.extensionPack, function (e) { return e.toLowerCase(); });\n                    return extensionsWorkbenchService.queryGallery({ names: names, pageSize: names.length }, cancellation_1.CancellationToken.None)\n                        .then(function (result) { return result.firstPage.map(function (extension) { return new ExtensionData(extension, _this); }); });\n                }\n                return Promise.resolve(null);\n            };\n            return ExtensionData;\n        }());\n        return this.instantiationService.createInstance(extensionsViewer_1.ExtensionsTree, new ExtensionData(extension), container);\n    };\n    ExtensionEditor.prototype.renderSettings = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var configuration = contributes && contributes.configuration;\n        var properties = {};\n        if (Array.isArray(configuration)) {\n            configuration.forEach(function (config) {\n                properties = tslib_1.__assign({}, properties, config.properties);\n            });\n        }\n        else if (configuration) {\n            properties = configuration.properties;\n        }\n        var contrib = properties ? Object.keys(properties) : [];\n        if (!contrib.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('settings', \"Settings ({0})\", contrib.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('setting name', \"Name\")), dom_1.$('th', undefined, nls_1.localize('description', \"Description\")), dom_1.$('th', undefined, nls_1.localize('default', \"Default\")))].concat(contrib.map(function (key) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, dom_1.$('code', undefined, key)), dom_1.$('td', undefined, properties[key].description), dom_1.$('td', undefined, dom_1.$('code', undefined, \"\" + (types_1.isUndefined(properties[key].default) ? configurationRegistry_1.getDefaultValue(properties[key].type) : properties[key].default)))); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderDebuggers = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var contrib = contributes && contributes.debuggers || [];\n        if (!contrib.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('debuggers', \"Debuggers ({0})\", contrib.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('debugger name', \"Name\")), dom_1.$('th', undefined, nls_1.localize('debugger type', \"Type\")))].concat(contrib.map(function (d) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, d.label), dom_1.$('td', undefined, d.type)); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderViewContainers = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var contrib = contributes && contributes.viewsContainers || {};\n        var viewContainers = Object.keys(contrib).reduce(function (result, location) {\n            var viewContainersForLocation = contrib[location];\n            result.push.apply(result, viewContainersForLocation.map(function (viewContainer) { return (tslib_1.__assign({}, viewContainer, { location: location })); }));\n            return result;\n        }, []);\n        if (!viewContainers.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('viewContainers', \"View Containers ({0})\", viewContainers.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('view container id', \"ID\")), dom_1.$('th', undefined, nls_1.localize('view container title', \"Title\")), dom_1.$('th', undefined, nls_1.localize('view container location', \"Where\")))].concat(viewContainers.map(function (viewContainer) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, viewContainer.id), dom_1.$('td', undefined, viewContainer.title), dom_1.$('td', undefined, viewContainer.location)); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderViews = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var contrib = contributes && contributes.views || {};\n        var views = Object.keys(contrib).reduce(function (result, location) {\n            var viewsForLocation = contrib[location];\n            result.push.apply(result, viewsForLocation.map(function (view) { return (tslib_1.__assign({}, view, { location: location })); }));\n            return result;\n        }, []);\n        if (!views.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('views', \"Views ({0})\", views.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('view id', \"ID\")), dom_1.$('th', undefined, nls_1.localize('view name', \"Name\")), dom_1.$('th', undefined, nls_1.localize('view location', \"Where\")))].concat(views.map(function (view) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, view.id), dom_1.$('td', undefined, view.name), dom_1.$('td', undefined, view.location)); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderLocalizations = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var localizations = contributes && contributes.localizations || [];\n        if (!localizations.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('localizations', \"Localizations ({0})\", localizations.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('localizations language id', \"Language Id\")), dom_1.$('th', undefined, nls_1.localize('localizations language name', \"Language Name\")), dom_1.$('th', undefined, nls_1.localize('localizations localized language name', \"Language Name (Localized)\")))].concat(localizations.map(function (localization) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, localization.languageId), dom_1.$('td', undefined, localization.languageName || ''), dom_1.$('td', undefined, localization.localizedLanguageName || '')); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderColorThemes = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var contrib = contributes && contributes.themes || [];\n        if (!contrib.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('colorThemes', \"Color Themes ({0})\", contrib.length)), dom_1.$.apply(void 0, ['ul', undefined].concat(contrib.map(function (theme) { return dom_1.$('li', undefined, theme.label); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderIconThemes = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var contrib = contributes && contributes.iconThemes || [];\n        if (!contrib.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('iconThemes', \"Icon Themes ({0})\", contrib.length)), dom_1.$.apply(void 0, ['ul', undefined].concat(contrib.map(function (theme) { return dom_1.$('li', undefined, theme.label); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderColors = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var colors = contributes && contributes.colors;\n        if (!colors || !colors.length) {\n            return false;\n        }\n        function colorPreview(colorReference) {\n            var result = [];\n            if (colorReference && colorReference[0] === '#') {\n                var color = color_1.Color.fromHex(colorReference);\n                if (color) {\n                    result.push(dom_1.$('span', { class: 'colorBox', style: 'background-color: ' + color_1.Color.Format.CSS.format(color) }, ''));\n                }\n            }\n            result.push(dom_1.$('code', undefined, colorReference));\n            return result;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('colors', \"Colors ({0})\", colors.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('colorId', \"Id\")), dom_1.$('th', undefined, nls_1.localize('description', \"Description\")), dom_1.$('th', undefined, nls_1.localize('defaultDark', \"Dark Default\")), dom_1.$('th', undefined, nls_1.localize('defaultLight', \"Light Default\")), dom_1.$('th', undefined, nls_1.localize('defaultHC', \"High Contrast Default\")))].concat(colors.map(function (color) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, dom_1.$('code', undefined, color.id)), dom_1.$('td', undefined, color.description), dom_1.$.apply(void 0, ['td', undefined].concat(colorPreview(color.defaults.dark))), dom_1.$.apply(void 0, ['td', undefined].concat(colorPreview(color.defaults.light))), dom_1.$.apply(void 0, ['td', undefined].concat(colorPreview(color.defaults.highContrast)))); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderJSONValidation = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var contrib = contributes && contributes.jsonValidation || [];\n        if (!contrib.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('JSON Validation', \"JSON Validation ({0})\", contrib.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('fileMatch', \"File Match\")), dom_1.$('th', undefined, nls_1.localize('schema', \"Schema\")))].concat(contrib.map(function (v) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, dom_1.$('code', undefined, v.fileMatch)), dom_1.$('td', undefined, v.url)); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderCommands = function (container, manifest, onDetailsToggle) {\n        var _this = this;\n        var contributes = manifest.contributes;\n        var rawCommands = contributes && contributes.commands || [];\n        var commands = rawCommands.map(function (c) { return ({\n            id: c.command,\n            title: c.title,\n            keybindings: [],\n            menus: []\n        }); });\n        var byId = arrays.index(commands, function (c) { return c.id; });\n        var menus = contributes && contributes.menus || {};\n        Object.keys(menus).forEach(function (context) {\n            menus[context].forEach(function (menu) {\n                var command = byId[menu.command];\n                if (!command) {\n                    command = { id: menu.command, title: '', keybindings: [], menus: [context] };\n                    byId[command.id] = command;\n                    commands.push(command);\n                }\n                else {\n                    command.menus.push(context);\n                }\n            });\n        });\n        var rawKeybindings = contributes && contributes.keybindings ? (Array.isArray(contributes.keybindings) ? contributes.keybindings : [contributes.keybindings]) : [];\n        rawKeybindings.forEach(function (rawKeybinding) {\n            var keybinding = _this.resolveKeybinding(rawKeybinding);\n            if (!keybinding) {\n                return;\n            }\n            var command = byId[rawKeybinding.command];\n            if (!command) {\n                command = { id: rawKeybinding.command, title: '', keybindings: [keybinding], menus: [] };\n                byId[command.id] = command;\n                commands.push(command);\n            }\n            else {\n                command.keybindings.push(keybinding);\n            }\n        });\n        if (!commands.length) {\n            return false;\n        }\n        var renderKeybinding = function (keybinding) {\n            var element = dom_1.$('');\n            new keybindingLabel_1.KeybindingLabel(element, platform_1.OS).set(keybinding);\n            return element;\n        };\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('commands', \"Commands ({0})\", commands.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('command name', \"Name\")), dom_1.$('th', undefined, nls_1.localize('description', \"Description\")), dom_1.$('th', undefined, nls_1.localize('keyboard shortcuts', \"Keyboard Shortcuts\")), dom_1.$('th', undefined, nls_1.localize('menuContexts', \"Menu Contexts\")))].concat(commands.map(function (c) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, dom_1.$('code', undefined, c.id)), dom_1.$('td', undefined, c.title), dom_1.$.apply(void 0, ['td', undefined].concat(c.keybindings.map(function (keybinding) { return renderKeybinding(keybinding); }))), dom_1.$.apply(void 0, ['td', undefined].concat(c.menus.map(function (context) { return dom_1.$('code', undefined, context); })))); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.renderLanguages = function (container, manifest, onDetailsToggle) {\n        var contributes = manifest.contributes;\n        var rawLanguages = contributes && contributes.languages || [];\n        var languages = rawLanguages.map(function (l) { return ({\n            id: l.id,\n            name: (l.aliases || [])[0] || l.id,\n            extensions: l.extensions || [],\n            hasGrammar: false,\n            hasSnippets: false\n        }); });\n        var byId = arrays.index(languages, function (l) { return l.id; });\n        var grammars = contributes && contributes.grammars || [];\n        grammars.forEach(function (grammar) {\n            var language = byId[grammar.language];\n            if (!language) {\n                language = { id: grammar.language, name: grammar.language, extensions: [], hasGrammar: true, hasSnippets: false };\n                byId[language.id] = language;\n                languages.push(language);\n            }\n            else {\n                language.hasGrammar = true;\n            }\n        });\n        var snippets = contributes && contributes.snippets || [];\n        snippets.forEach(function (snippet) {\n            var language = byId[snippet.language];\n            if (!language) {\n                language = { id: snippet.language, name: snippet.language, extensions: [], hasGrammar: false, hasSnippets: true };\n                byId[language.id] = language;\n                languages.push(language);\n            }\n            else {\n                language.hasSnippets = true;\n            }\n        });\n        if (!languages.length) {\n            return false;\n        }\n        var details = dom_1.$('details', { open: true, ontoggle: onDetailsToggle }, dom_1.$('summary', undefined, nls_1.localize('languages', \"Languages ({0})\", languages.length)), dom_1.$.apply(void 0, ['table', undefined,\n            dom_1.$('tr', undefined, dom_1.$('th', undefined, nls_1.localize('language id', \"ID\")), dom_1.$('th', undefined, nls_1.localize('language name', \"Name\")), dom_1.$('th', undefined, nls_1.localize('file extensions', \"File Extensions\")), dom_1.$('th', undefined, nls_1.localize('grammar', \"Grammar\")), dom_1.$('th', undefined, nls_1.localize('snippets', \"Snippets\")))].concat(languages.map(function (l) { return dom_1.$('tr', undefined, dom_1.$('td', undefined, l.id), dom_1.$('td', undefined, l.name), dom_1.$.apply(void 0, ['td', undefined].concat(dom_1.join(l.extensions.map(function (ext) { return dom_1.$('code', undefined, ext); }), ' '))), dom_1.$('td', undefined, document.createTextNode(l.hasGrammar ? '✔︎' : '—')), dom_1.$('td', undefined, document.createTextNode(l.hasSnippets ? '✔︎' : '—'))); }))));\n        dom_1.append(container, details);\n        return true;\n    };\n    ExtensionEditor.prototype.resolveKeybinding = function (rawKeyBinding) {\n        var key;\n        switch (process.platform) {\n            case 'win32':\n                key = rawKeyBinding.win;\n                break;\n            case 'linux':\n                key = rawKeyBinding.linux;\n                break;\n            case 'darwin':\n                key = rawKeyBinding.mac;\n                break;\n        }\n        var keyBinding = keybindingParser_1.KeybindingParser.parseKeybinding(key || rawKeyBinding.key, platform_1.OS);\n        if (!keyBinding) {\n            return null;\n        }\n        return this.keybindingService.resolveKeybinding(keyBinding)[0];\n    };\n    ExtensionEditor.prototype.loadContents = function (loadingTask) {\n        var _this = this;\n        dom_1.addClass(this.content, 'loading');\n        var result = loadingTask();\n        var onDone = function () { return dom_1.removeClass(_this.content, 'loading'); };\n        result.promise.then(onDone, onDone);\n        this.contentDisposables.push(lifecycle_1.toDisposable(function () { return result.dispose(); }));\n        return result.promise;\n    };\n    ExtensionEditor.prototype.layout = function () {\n        this.layoutParticipants.forEach(function (p) { return p.layout(); });\n    };\n    ExtensionEditor.prototype.onError = function (err) {\n        if (errors_1.isPromiseCanceledError(err)) {\n            return;\n        }\n        this.notificationService.error(err);\n    };\n    ExtensionEditor.prototype.dispose = function () {\n        this.transientDisposables = lifecycle_1.dispose(this.transientDisposables);\n        this.disposables = lifecycle_1.dispose(this.disposables);\n        _super.prototype.dispose.call(this);\n    };\n    ExtensionEditor.ID = 'workbench.editor.extension';\n    ExtensionEditor = tslib_1.__decorate([\n        tslib_1.__param(0, telemetry_1.ITelemetryService),\n        tslib_1.__param(1, instantiation_1.IInstantiationService),\n        tslib_1.__param(2, viewlet_1.IViewletService),\n        tslib_1.__param(3, extensions_2.IExtensionsWorkbenchService),\n        tslib_1.__param(4, themeService_1.IThemeService),\n        tslib_1.__param(5, keybinding_1.IKeybindingService),\n        tslib_1.__param(6, notification_1.INotificationService),\n        tslib_1.__param(7, opener_1.IOpenerService),\n        tslib_1.__param(8, layoutService_1.IWorkbenchLayoutService),\n        tslib_1.__param(9, extensionManagement_1.IExtensionTipsService),\n        tslib_1.__param(10, storage_1.IStorageService),\n        tslib_1.__param(11, extensions_3.IExtensionService),\n        tslib_1.__param(12, workbenchThemeService_1.IWorkbenchThemeService)\n    ], ExtensionEditor);\n    return ExtensionEditor;\n}(baseEditor_1.BaseEditor));\nexports.ExtensionEditor = ExtensionEditor;\nvar ShowExtensionEditorFindCommand = /** @class */ (function (_super) {\n    tslib_1.__extends(ShowExtensionEditorFindCommand, _super);\n    function ShowExtensionEditorFindCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ShowExtensionEditorFindCommand.prototype.runCommand = function (accessor, args) {\n        var extensionEditor = this.getExtensionEditor(accessor);\n        if (extensionEditor) {\n            extensionEditor.showFind();\n        }\n    };\n    ShowExtensionEditorFindCommand.prototype.getExtensionEditor = function (accessor) {\n        var activeControl = accessor.get(editorService_1.IEditorService).activeControl;\n        if (activeControl instanceof ExtensionEditor) {\n            return activeControl;\n        }\n        return null;\n    };\n    return ShowExtensionEditorFindCommand;\n}(editorExtensions_1.Command));\nvar showCommand = new ShowExtensionEditorFindCommand({\n    id: 'editor.action.extensioneditor.showfind',\n    precondition: contextkey_1.ContextKeyExpr.equals('activeEditor', ExtensionEditor.ID),\n    kbOpts: {\n        primary: keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyCode.KEY_F,\n        weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n    }\n});\nshowCommand.register();\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/extensions/electron-browser/extensionEditor.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/extensions/electron-browser/extensionEditor.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./media/extensionEditor';\nimport { localize } from 'vs/nls';\nimport * as marked from 'vs/base/common/marked/marked';\nimport { createCancelablePromise } from 'vs/base/common/async';\nimport * as arrays from 'vs/base/common/arrays';\nimport { OS } from 'vs/base/common/platform';\nimport { Event, Emitter } from 'vs/base/common/event';\nimport { Cache, CacheResult } from 'vs/base/common/cache';\nimport { Action } from 'vs/base/common/actions';\nimport { isPromiseCanceledError } from 'vs/base/common/errors';\nimport { IDisposable, dispose, toDisposable } from 'vs/base/common/lifecycle';\nimport { domEvent } from 'vs/base/browser/event';\nimport { append, $, addClass, removeClass, finalHandler, join, toggleClass, hide, show } from 'vs/base/browser/dom';\nimport { BaseEditor } from 'vs/workbench/browser/parts/editor/baseEditor';\nimport { IViewletService } from 'vs/workbench/services/viewlet/browser/viewlet';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IInstantiationService, ServicesAccessor } from 'vs/platform/instantiation/common/instantiation';\nimport { IExtensionTipsService } from 'vs/platform/extensionManagement/common/extensionManagement';\nimport { IExtensionManifest, IKeyBinding, IView, IViewContainer, ExtensionType } from 'vs/platform/extensions/common/extensions';\nimport { ResolvedKeybinding, KeyMod, KeyCode } from 'vs/base/common/keyCodes';\nimport { ExtensionsInput } from 'vs/workbench/contrib/extensions/common/extensionsInput';\nimport { IExtensionsWorkbenchService, IExtensionsViewlet, VIEWLET_ID, IExtension, IExtensionDependencies, ExtensionContainers } from 'vs/workbench/contrib/extensions/common/extensions';\nimport { RatingsWidget, InstallCountWidget, RemoteBadgeWidget } from 'vs/workbench/contrib/extensions/electron-browser/extensionsWidgets';\nimport { EditorOptions } from 'vs/workbench/common/editor';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { CombinedInstallAction, UpdateAction, ExtensionEditorDropDownAction, ReloadAction, MaliciousStatusLabelAction, IgnoreExtensionRecommendationAction, UndoIgnoreExtensionRecommendationAction, EnableDropDownAction, DisableDropDownAction, StatusLabelAction, SetFileIconThemeAction, SetColorThemeAction } from 'vs/workbench/contrib/extensions/electron-browser/extensionsActions';\nimport { WebviewElement } from 'vs/workbench/contrib/webview/electron-browser/webviewElement';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport { Tree } from 'vs/base/parts/tree/browser/treeImpl';\nimport { IWorkbenchLayoutService, Parts } from 'vs/workbench/services/layout/browser/layoutService';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { KeybindingLabel } from 'vs/base/browser/ui/keybindingLabel/keybindingLabel';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { Command } from 'vs/editor/browser/editorExtensions';\nimport { IEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { Color } from 'vs/base/common/color';\nimport { assign } from 'vs/base/common/objects';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { ExtensionsTree, IExtensionData } from 'vs/workbench/contrib/extensions/browser/extensionsViewer';\nimport { ShowCurrentReleaseNotesAction } from 'vs/workbench/contrib/update/electron-browser/update';\nimport { KeybindingParser } from 'vs/base/common/keybindingParser';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { IExtensionService } from 'vs/workbench/services/extensions/common/extensions';\nimport { getDefaultValue } from 'vs/platform/configuration/common/configurationRegistry';\nimport { isUndefined, withUndefinedAsNull } from 'vs/base/common/types';\nimport { IWorkbenchThemeService } from 'vs/workbench/services/themes/common/workbenchThemeService';\n\nfunction renderBody(body: string): string {\n\tconst styleSheetPath = require.toUrl('./media/markdown.css').replace('file://', 'vscode-core-resource://');\n\treturn `<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\">\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src https: data:; media-src https:; script-src 'none'; style-src vscode-core-resource:; child-src 'none'; frame-src 'none';\">\n\t\t\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"${styleSheetPath}\">\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<a id=\"scroll-to-top\" role=\"button\" aria-label=\"scroll to top\" href=\"#\"><span class=\"icon\"></span></a>\n\t\t\t\t${body}\n\t\t\t</body>\n\t\t</html>`;\n}\n\nfunction removeEmbeddedSVGs(documentContent: string): string {\n\tconst newDocument = new DOMParser().parseFromString(documentContent, 'text/html');\n\n\t// remove all inline svgs\n\tconst allSVGs = newDocument.documentElement.querySelectorAll('svg');\n\tif (allSVGs) {\n\t\tfor (let i = 0; i < allSVGs.length; i++) {\n\t\t\tconst svg = allSVGs[i];\n\t\t\tif (svg.parentNode) {\n\t\t\t\tsvg.parentNode.removeChild(allSVGs[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newDocument.documentElement.outerHTML;\n}\n\nclass NavBar {\n\n\tprivate _onChange = new Emitter<{ id: string | null, focus: boolean }>();\n\tget onChange(): Event<{ id: string | null, focus: boolean }> { return this._onChange.event; }\n\n\tprivate currentId: string | null = null;\n\tprivate actions: Action[];\n\tprivate actionbar: ActionBar;\n\n\tconstructor(container: HTMLElement) {\n\t\tconst element = append(container, $('.navbar'));\n\t\tthis.actions = [];\n\t\tthis.actionbar = new ActionBar(element, { animated: false });\n\t}\n\n\tpush(id: string, label: string, tooltip: string): void {\n\t\tconst action = new Action(id, label, undefined, true, () => this._update(id, true));\n\n\t\taction.tooltip = tooltip;\n\n\t\tthis.actions.push(action);\n\t\tthis.actionbar.push(action);\n\n\t\tif (this.actions.length === 1) {\n\t\t\tthis._update(id);\n\t\t}\n\t}\n\n\tclear(): void {\n\t\tthis.actions = dispose(this.actions);\n\t\tthis.actionbar.clear();\n\t}\n\n\tupdate(): void {\n\t\tthis._update(this.currentId);\n\t}\n\n\t_update(id: string | null = this.currentId, focus?: boolean): Promise<void> {\n\t\tthis.currentId = id;\n\t\tthis._onChange.fire({ id, focus: !!focus });\n\t\tthis.actions.forEach(a => a.enabled = a.id !== id);\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tdispose(): void {\n\t\tthis.actionbar = dispose(this.actionbar);\n\t}\n}\n\nconst NavbarSection = {\n\tReadme: 'readme',\n\tContributions: 'contributions',\n\tChangelog: 'changelog',\n\tDependencies: 'dependencies',\n\tExtensionPack: 'extensionPack'\n};\n\ninterface ILayoutParticipant {\n\tlayout(): void;\n}\n\ninterface IActiveElement {\n\tfocus(): void;\n}\n\nexport class ExtensionEditor extends BaseEditor {\n\n\tstatic readonly ID: string = 'workbench.editor.extension';\n\n\tprivate iconContainer: HTMLElement;\n\tprivate icon: HTMLImageElement;\n\tprivate name: HTMLElement;\n\tprivate identifier: HTMLElement;\n\tprivate preview: HTMLElement;\n\tprivate builtin: HTMLElement;\n\tprivate license: HTMLElement;\n\tprivate publisher: HTMLElement;\n\tprivate installCount: HTMLElement;\n\tprivate rating: HTMLElement;\n\tprivate repository: HTMLElement;\n\tprivate description: HTMLElement;\n\tprivate extensionActionBar: ActionBar;\n\tprivate navbar: NavBar;\n\tprivate content: HTMLElement;\n\tprivate subtextContainer: HTMLElement;\n\tprivate subtext: HTMLElement;\n\tprivate ignoreActionbar: ActionBar;\n\tprivate header: HTMLElement;\n\n\tprivate extensionReadme: Cache<string> | null;\n\tprivate extensionChangelog: Cache<string> | null;\n\tprivate extensionManifest: Cache<IExtensionManifest | null> | null;\n\tprivate extensionDependencies: Cache<IExtensionDependencies | null> | null;\n\n\tprivate layoutParticipants: ILayoutParticipant[] = [];\n\tprivate contentDisposables: IDisposable[] = [];\n\tprivate transientDisposables: IDisposable[] = [];\n\tprivate disposables: IDisposable[];\n\tprivate activeElement: IActiveElement | null;\n\tprivate editorLoadComplete: boolean = false;\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IViewletService private readonly viewletService: IViewletService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IThemeService protected themeService: IThemeService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IExtensionTipsService private readonly extensionTipsService: IExtensionTipsService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IWorkbenchThemeService private readonly workbenchThemeService: IWorkbenchThemeService\n\n\t) {\n\t\tsuper(ExtensionEditor.ID, telemetryService, themeService, storageService);\n\t\tthis.disposables = [];\n\t\tthis.extensionReadme = null;\n\t\tthis.extensionChangelog = null;\n\t\tthis.extensionManifest = null;\n\t\tthis.extensionDependencies = null;\n\t}\n\n\tcreateEditor(parent: HTMLElement): void {\n\t\tconst root = append(parent, $('.extension-editor'));\n\t\tthis.header = append(root, $('.header'));\n\n\t\tthis.iconContainer = append(this.header, $('.icon-container'));\n\t\tthis.icon = append(this.iconContainer, $<HTMLImageElement>('img.icon', { draggable: false }));\n\n\t\tconst details = append(this.header, $('.details'));\n\t\tconst title = append(details, $('.title'));\n\t\tthis.name = append(title, $('span.name.clickable', { title: localize('name', \"Extension name\") }));\n\t\tthis.identifier = append(title, $('span.identifier', { title: localize('extension id', \"Extension identifier\") }));\n\n\t\tthis.preview = append(title, $('span.preview', { title: localize('preview', \"Preview\") }));\n\t\tthis.preview.textContent = localize('preview', \"Preview\");\n\n\t\tthis.builtin = append(title, $('span.builtin'));\n\t\tthis.builtin.textContent = localize('builtin', \"Built-in\");\n\n\t\tconst subtitle = append(details, $('.subtitle'));\n\t\tthis.publisher = append(subtitle, $('span.publisher.clickable', { title: localize('publisher', \"Publisher name\") }));\n\n\t\tthis.installCount = append(subtitle, $('span.install', { title: localize('install count', \"Install count\") }));\n\n\t\tthis.rating = append(subtitle, $('span.rating.clickable', { title: localize('rating', \"Rating\") }));\n\n\t\tthis.repository = append(subtitle, $('span.repository.clickable'));\n\t\tthis.repository.textContent = localize('repository', 'Repository');\n\t\tthis.repository.style.display = 'none';\n\n\t\tthis.license = append(subtitle, $('span.license.clickable'));\n\t\tthis.license.textContent = localize('license', 'License');\n\t\tthis.license.style.display = 'none';\n\n\t\tthis.description = append(details, $('.description'));\n\n\t\tconst extensionActions = append(details, $('.actions'));\n\t\tthis.extensionActionBar = new ActionBar(extensionActions, {\n\t\t\tanimated: false,\n\t\t\tactionItemProvider: (action: Action) => {\n\t\t\t\tif (action instanceof ExtensionEditorDropDownAction) {\n\t\t\t\t\treturn action.createActionItem();\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\tthis.subtextContainer = append(details, $('.subtext-container'));\n\t\tthis.subtext = append(this.subtextContainer, $('.subtext'));\n\t\tthis.ignoreActionbar = new ActionBar(this.subtextContainer, { animated: false });\n\n\t\tthis.disposables.push(this.extensionActionBar);\n\t\tthis.disposables.push(this.ignoreActionbar);\n\n\t\tEvent.chain(this.extensionActionBar.onDidRun)\n\t\t\t.map(({ error }) => error)\n\t\t\t.filter(error => !!error)\n\t\t\t.on(this.onError, this, this.disposables);\n\n\t\tEvent.chain(this.ignoreActionbar.onDidRun)\n\t\t\t.map(({ error }) => error)\n\t\t\t.filter(error => !!error)\n\t\t\t.on(this.onError, this, this.disposables);\n\n\t\tconst body = append(root, $('.body'));\n\t\tthis.navbar = new NavBar(body);\n\n\t\tthis.content = append(body, $('.content'));\n\t}\n\n\tasync setInput(input: ExtensionsInput, options: EditorOptions, token: CancellationToken): Promise<void> {\n\t\tconst runningExtensions = await this.extensionService.getExtensions();\n\t\tconst colorThemes = await this.workbenchThemeService.getColorThemes();\n\t\tconst fileIconThemes = await this.workbenchThemeService.getFileIconThemes();\n\n\t\tthis.activeElement = null;\n\t\tthis.editorLoadComplete = false;\n\t\tconst extension = input.extension;\n\n\t\tthis.transientDisposables = dispose(this.transientDisposables);\n\n\t\tthis.extensionReadme = new Cache(() => createCancelablePromise(token => extension.getReadme(token)));\n\t\tthis.extensionChangelog = new Cache(() => createCancelablePromise(token => extension.getChangelog(token)));\n\t\tthis.extensionManifest = new Cache(() => createCancelablePromise(token => extension.getManifest(token)));\n\t\tthis.extensionDependencies = new Cache(() => createCancelablePromise(token => this.extensionsWorkbenchService.loadDependencies(extension, token)));\n\n\t\tconst remoteBadge = this.instantiationService.createInstance(RemoteBadgeWidget, this.iconContainer);\n\t\tconst onError = Event.once(domEvent(this.icon, 'error'));\n\t\tonError(() => this.icon.src = extension.iconUrlFallback, null, this.transientDisposables);\n\t\tthis.icon.src = extension.iconUrl;\n\n\t\tthis.name.textContent = extension.displayName;\n\t\tthis.identifier.textContent = extension.identifier.id;\n\t\tthis.preview.style.display = extension.preview ? 'inherit' : 'none';\n\t\tthis.builtin.style.display = extension.type === ExtensionType.System ? 'inherit' : 'none';\n\n\t\tthis.publisher.textContent = extension.publisherDisplayName;\n\t\tthis.description.textContent = extension.description;\n\n\t\tconst extRecommendations = this.extensionTipsService.getAllRecommendationsWithReason();\n\t\tlet recommendationsData = {};\n\t\tif (extRecommendations[extension.identifier.id.toLowerCase()]) {\n\t\t\trecommendationsData = { recommendationReason: extRecommendations[extension.identifier.id.toLowerCase()].reasonId };\n\t\t}\n\n\t\t/* __GDPR__\n\t\t\"extensionGallery:openExtension\" : {\n\t\t\t\"recommendationReason\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\"${include}\": [\n\t\t\t\t\"${GalleryExtensionTelemetryData}\"\n\t\t\t]\n\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog('extensionGallery:openExtension', assign(extension.telemetryData, recommendationsData));\n\n\t\ttoggleClass(this.name, 'clickable', !!extension.url);\n\t\ttoggleClass(this.publisher, 'clickable', !!extension.url);\n\t\ttoggleClass(this.rating, 'clickable', !!extension.url);\n\t\tif (extension.url) {\n\t\t\tthis.name.onclick = finalHandler(() => window.open(extension.url));\n\t\t\tthis.rating.onclick = finalHandler(() => window.open(`${extension.url}#review-details`));\n\t\t\tthis.publisher.onclick = finalHandler(() => {\n\t\t\t\tthis.viewletService.openViewlet(VIEWLET_ID, true)\n\t\t\t\t\t.then(viewlet => viewlet as IExtensionsViewlet)\n\t\t\t\t\t.then(viewlet => viewlet.search(`publisher:\"${extension.publisherDisplayName}\"`));\n\t\t\t});\n\n\t\t\tif (extension.licenseUrl) {\n\t\t\t\tthis.license.onclick = finalHandler(() => window.open(extension.licenseUrl));\n\t\t\t\tthis.license.style.display = 'initial';\n\t\t\t} else {\n\t\t\t\tthis.license.onclick = null;\n\t\t\t\tthis.license.style.display = 'none';\n\t\t\t}\n\t\t} else {\n\t\t\tthis.name.onclick = null;\n\t\t\tthis.rating.onclick = null;\n\t\t\tthis.publisher.onclick = null;\n\t\t\tthis.license.onclick = null;\n\t\t\tthis.license.style.display = 'none';\n\t\t}\n\n\t\tif (extension.repository) {\n\t\t\tthis.repository.onclick = finalHandler(() => window.open(extension.repository));\n\t\t\tthis.repository.style.display = 'initial';\n\t\t}\n\t\telse {\n\t\t\tthis.repository.onclick = null;\n\t\t\tthis.repository.style.display = 'none';\n\t\t}\n\n\t\tconst widgets = [\n\t\t\tremoteBadge,\n\t\t\tthis.instantiationService.createInstance(InstallCountWidget, this.installCount, false),\n\t\t\tthis.instantiationService.createInstance(RatingsWidget, this.rating, false)\n\t\t];\n\t\tconst reloadAction = this.instantiationService.createInstance(ReloadAction);\n\t\tconst actions = [\n\t\t\treloadAction,\n\t\t\tthis.instantiationService.createInstance(StatusLabelAction),\n\t\t\tthis.instantiationService.createInstance(UpdateAction),\n\t\t\tthis.instantiationService.createInstance(SetColorThemeAction, colorThemes),\n\t\t\tthis.instantiationService.createInstance(SetFileIconThemeAction, fileIconThemes),\n\t\t\tthis.instantiationService.createInstance(EnableDropDownAction),\n\t\t\tthis.instantiationService.createInstance(DisableDropDownAction, runningExtensions),\n\t\t\tthis.instantiationService.createInstance(CombinedInstallAction),\n\t\t\tthis.instantiationService.createInstance(MaliciousStatusLabelAction, true),\n\t\t];\n\t\tconst extensionContainers: ExtensionContainers = this.instantiationService.createInstance(ExtensionContainers, [...actions, ...widgets]);\n\t\textensionContainers.extension = extension;\n\n\t\tthis.extensionActionBar.clear();\n\t\tthis.extensionActionBar.push(actions, { icon: true, label: true });\n\t\tthis.transientDisposables.push(...[...actions, ...widgets, extensionContainers]);\n\n\t\tthis.setSubText(extension, reloadAction);\n\t\tthis.content.innerHTML = ''; // Clear content before setting navbar actions.\n\n\t\tthis.navbar.clear();\n\t\tthis.navbar.onChange(this.onNavbarChange.bind(this, extension), this, this.transientDisposables);\n\n\t\tif (extension.hasReadme()) {\n\t\t\tthis.navbar.push(NavbarSection.Readme, localize('details', \"Details\"), localize('detailstooltip', \"Extension details, rendered from the extension's 'README.md' file\"));\n\t\t}\n\t\tthis.extensionManifest.get()\n\t\t\t.promise\n\t\t\t.then(manifest => {\n\t\t\t\tif (extension.extensionPack.length) {\n\t\t\t\t\tthis.navbar.push(NavbarSection.ExtensionPack, localize('extensionPack', \"Extension Pack\"), localize('extensionsPack', \"Set of extensions that can be installed together\"));\n\t\t\t\t}\n\t\t\t\tif (manifest && manifest.contributes) {\n\t\t\t\t\tthis.navbar.push(NavbarSection.Contributions, localize('contributions', \"Contributions\"), localize('contributionstooltip', \"Lists contributions to VS Code by this extension\"));\n\t\t\t\t}\n\t\t\t\tif (extension.hasChangelog()) {\n\t\t\t\t\tthis.navbar.push(NavbarSection.Changelog, localize('changelog', \"Changelog\"), localize('changelogtooltip', \"Extension update history, rendered from the extension's 'CHANGELOG.md' file\"));\n\t\t\t\t}\n\t\t\t\tif (extension.dependencies.length) {\n\t\t\t\t\tthis.navbar.push(NavbarSection.Dependencies, localize('dependencies', \"Dependencies\"), localize('dependenciestooltip', \"Lists extensions this extension depends on\"));\n\t\t\t\t}\n\t\t\t\tthis.editorLoadComplete = true;\n\t\t\t});\n\n\t\treturn super.setInput(input, options, token);\n\t}\n\n\tprivate setSubText(extension: IExtension, reloadAction: ReloadAction): void {\n\t\thide(this.subtextContainer);\n\n\t\tconst ignoreAction = this.instantiationService.createInstance(IgnoreExtensionRecommendationAction);\n\t\tconst undoIgnoreAction = this.instantiationService.createInstance(UndoIgnoreExtensionRecommendationAction);\n\t\tignoreAction.extension = extension;\n\t\tundoIgnoreAction.extension = extension;\n\t\tignoreAction.enabled = false;\n\t\tundoIgnoreAction.enabled = false;\n\n\t\tthis.ignoreActionbar.clear();\n\t\tthis.ignoreActionbar.push([ignoreAction, undoIgnoreAction], { icon: true, label: true });\n\t\tthis.transientDisposables.push(ignoreAction, undoIgnoreAction);\n\n\t\tconst extRecommendations = this.extensionTipsService.getAllRecommendationsWithReason();\n\t\tif (extRecommendations[extension.identifier.id.toLowerCase()]) {\n\t\t\tignoreAction.enabled = true;\n\t\t\tthis.subtext.textContent = extRecommendations[extension.identifier.id.toLowerCase()].reasonText;\n\t\t\tshow(this.subtextContainer);\n\t\t} else if (this.extensionTipsService.getAllIgnoredRecommendations().global.indexOf(extension.identifier.id.toLowerCase()) !== -1) {\n\t\t\tundoIgnoreAction.enabled = true;\n\t\t\tthis.subtext.textContent = localize('recommendationHasBeenIgnored', \"You have chosen not to receive recommendations for this extension.\");\n\t\t\tshow(this.subtextContainer);\n\t\t}\n\t\telse {\n\t\t\tthis.subtext.textContent = '';\n\t\t}\n\n\t\tthis.extensionTipsService.onRecommendationChange(change => {\n\t\t\tif (change.extensionId.toLowerCase() === extension.identifier.id.toLowerCase()) {\n\t\t\t\tif (change.isRecommended) {\n\t\t\t\t\tundoIgnoreAction.enabled = false;\n\t\t\t\t\tconst extRecommendations = this.extensionTipsService.getAllRecommendationsWithReason();\n\t\t\t\t\tif (extRecommendations[extension.identifier.id.toLowerCase()]) {\n\t\t\t\t\t\tignoreAction.enabled = true;\n\t\t\t\t\t\tthis.subtext.textContent = extRecommendations[extension.identifier.id.toLowerCase()].reasonText;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tundoIgnoreAction.enabled = true;\n\t\t\t\t\tignoreAction.enabled = false;\n\t\t\t\t\tthis.subtext.textContent = localize('recommendationHasBeenIgnored', \"You have chosen not to receive recommendations for this extension.\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.transientDisposables.push(reloadAction.onDidChange(e => {\n\t\t\tif (e.tooltip) {\n\t\t\t\tthis.subtext.textContent = reloadAction.tooltip;\n\t\t\t\tshow(this.subtextContainer);\n\t\t\t\tignoreAction.enabled = false;\n\t\t\t\tundoIgnoreAction.enabled = false;\n\t\t\t}\n\t\t\tif (e.enabled === true) {\n\t\t\t\tshow(this.subtextContainer);\n\t\t\t}\n\t\t\tif (e.enabled === false) {\n\t\t\t\thide(this.subtextContainer);\n\t\t\t}\n\t\t}));\n\t}\n\n\tfocus(): void {\n\t\tif (this.activeElement) {\n\t\t\tthis.activeElement.focus();\n\t\t}\n\t}\n\n\tshowFind(): void {\n\t\tif (this.activeElement instanceof WebviewElement) {\n\t\t\tthis.activeElement.showFind();\n\t\t}\n\t}\n\n\tprivate onNavbarChange(extension: IExtension, { id, focus }: { id: string, focus: boolean }): void {\n\t\tif (this.editorLoadComplete) {\n\t\t\t/* __GDPR__\n\t\t\t\t\"extensionEditor:navbarChange\" : {\n\t\t\t\t\t\"navItem\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\"${include}\": [\n\t\t\t\t\t\t\"${GalleryExtensionTelemetryData}\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t*/\n\t\t\tthis.telemetryService.publicLog('extensionEditor:navbarChange', assign(extension.telemetryData, { navItem: id }));\n\t\t}\n\n\t\tthis.contentDisposables = dispose(this.contentDisposables);\n\t\tthis.content.innerHTML = '';\n\t\tthis.activeElement = null;\n\t\tthis.open(id, extension)\n\t\t\t.then(activeElement => {\n\t\t\t\tthis.activeElement = activeElement;\n\t\t\t\tif (focus) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate open(id: string, extension: IExtension): Promise<IActiveElement | null> {\n\t\tswitch (id) {\n\t\t\tcase NavbarSection.Readme: return this.openReadme();\n\t\t\tcase NavbarSection.Contributions: return this.openContributions();\n\t\t\tcase NavbarSection.Changelog: return this.openChangelog();\n\t\t\tcase NavbarSection.Dependencies: return this.openDependencies(extension);\n\t\t\tcase NavbarSection.ExtensionPack: return this.openExtensionPack(extension);\n\t\t}\n\t\treturn Promise.resolve(null);\n\t}\n\n\tprivate openMarkdown(cacheResult: CacheResult<string>, noContentCopy: string): Promise<IActiveElement> {\n\t\treturn this.loadContents(() => cacheResult)\n\t\t\t.then(marked.parse)\n\t\t\t.then(renderBody)\n\t\t\t.then(removeEmbeddedSVGs)\n\t\t\t.then(body => {\n\t\t\t\tconst wbeviewElement = this.instantiationService.createInstance(WebviewElement,\n\t\t\t\t\tthis.layoutService.getContainer(Parts.EDITOR_PART),\n\t\t\t\t\t{\n\t\t\t\t\t\tenableFindWidget: true,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tsvgWhiteList: this.extensionsWorkbenchService.allowedBadgeProviders\n\t\t\t\t\t});\n\t\t\t\twbeviewElement.mountTo(this.content);\n\t\t\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, wbeviewElement);\n\t\t\t\tthis.contentDisposables.push(toDisposable(removeLayoutParticipant));\n\t\t\t\twbeviewElement.contents = body;\n\n\t\t\t\twbeviewElement.onDidClickLink(link => {\n\t\t\t\t\tif (!link) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// Whitelist supported schemes for links\n\t\t\t\t\tif (['http', 'https', 'mailto'].indexOf(link.scheme) >= 0 || (link.scheme === 'command' && link.path === ShowCurrentReleaseNotesAction.ID)) {\n\t\t\t\t\t\tthis.openerService.open(link);\n\t\t\t\t\t}\n\t\t\t\t}, null, this.contentDisposables);\n\t\t\t\tthis.contentDisposables.push(wbeviewElement);\n\t\t\t\treturn wbeviewElement;\n\t\t\t})\n\t\t\t.then(undefined, () => {\n\t\t\t\tconst p = append(this.content, $('p.nocontent'));\n\t\t\t\tp.textContent = noContentCopy;\n\t\t\t\treturn p;\n\t\t\t});\n\t}\n\n\tprivate openReadme(): Promise<IActiveElement> {\n\t\treturn this.openMarkdown(this.extensionReadme!.get(), localize('noReadme', \"No README available.\"));\n\t}\n\n\tprivate openChangelog(): Promise<IActiveElement> {\n\t\treturn this.openMarkdown(this.extensionChangelog!.get(), localize('noChangelog', \"No Changelog available.\"));\n\t}\n\n\tprivate openContributions(): Promise<IActiveElement> {\n\t\tconst content = $('div', { class: 'subcontent', tabindex: '0' });\n\t\treturn this.loadContents(() => this.extensionManifest!.get())\n\t\t\t.then(manifest => {\n\t\t\t\tif (!manifest) {\n\t\t\t\t\treturn content;\n\t\t\t\t}\n\n\t\t\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\n\t\t\t\tconst layout = () => scrollableContent.scanDomNode();\n\t\t\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout });\n\t\t\t\tthis.contentDisposables.push(toDisposable(removeLayoutParticipant));\n\n\t\t\t\tconst renders = [\n\t\t\t\t\tthis.renderSettings(content, manifest, layout),\n\t\t\t\t\tthis.renderCommands(content, manifest, layout),\n\t\t\t\t\tthis.renderLanguages(content, manifest, layout),\n\t\t\t\t\tthis.renderColorThemes(content, manifest, layout),\n\t\t\t\t\tthis.renderIconThemes(content, manifest, layout),\n\t\t\t\t\tthis.renderColors(content, manifest, layout),\n\t\t\t\t\tthis.renderJSONValidation(content, manifest, layout),\n\t\t\t\t\tthis.renderDebuggers(content, manifest, layout),\n\t\t\t\t\tthis.renderViewContainers(content, manifest, layout),\n\t\t\t\t\tthis.renderViews(content, manifest, layout),\n\t\t\t\t\tthis.renderLocalizations(content, manifest, layout)\n\t\t\t\t];\n\n\t\t\t\tconst isEmpty = !renders.reduce((v, r) => r || v, false);\n\t\t\t\tscrollableContent.scanDomNode();\n\n\t\t\t\tif (isEmpty) {\n\t\t\t\t\tappend(content, $('p.nocontent')).textContent = localize('noContributions', \"No Contributions\");\n\t\t\t\t\tappend(this.content, content);\n\t\t\t\t} else {\n\t\t\t\t\tappend(this.content, scrollableContent.getDomNode());\n\t\t\t\t\tthis.contentDisposables.push(scrollableContent);\n\t\t\t\t}\n\t\t\t\treturn content;\n\t\t\t}, () => {\n\t\t\t\tappend(content, $('p.nocontent')).textContent = localize('noContributions', \"No Contributions\");\n\t\t\t\tappend(this.content, content);\n\t\t\t\treturn content;\n\t\t\t});\n\t}\n\n\tprivate openDependencies(extension: IExtension): Promise<IActiveElement> {\n\t\tif (extension.dependencies.length === 0) {\n\t\t\tappend(this.content, $('p.nocontent')).textContent = localize('noDependencies', \"No Dependencies\");\n\t\t\treturn Promise.resolve(this.content);\n\t\t}\n\n\t\treturn this.loadContents(() => this.extensionDependencies!.get())\n\t\t\t.then<IActiveElement, IActiveElement>(extensionDependencies => {\n\t\t\t\tif (extensionDependencies) {\n\t\t\t\t\tconst content = $('div', { class: 'subcontent' });\n\t\t\t\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\t\t\t\t\tappend(this.content, scrollableContent.getDomNode());\n\t\t\t\t\tthis.contentDisposables.push(scrollableContent);\n\n\t\t\t\t\tconst dependenciesTree = this.renderDependencies(content, extensionDependencies);\n\t\t\t\t\tconst layout = () => {\n\t\t\t\t\t\tscrollableContent.scanDomNode();\n\t\t\t\t\t\tconst scrollDimensions = scrollableContent.getScrollDimensions();\n\t\t\t\t\t\tdependenciesTree.layout(scrollDimensions.height);\n\t\t\t\t\t};\n\t\t\t\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout });\n\t\t\t\t\tthis.contentDisposables.push(toDisposable(removeLayoutParticipant));\n\n\t\t\t\t\tthis.contentDisposables.push(dependenciesTree);\n\t\t\t\t\tscrollableContent.scanDomNode();\n\t\t\t\t\treturn { focus() { dependenciesTree.domFocus(); } };\n\t\t\t\t} else {\n\t\t\t\t\tappend(this.content, $('p.nocontent')).textContent = localize('noDependencies', \"No Dependencies\");\n\t\t\t\t\treturn Promise.resolve(this.content);\n\t\t\t\t}\n\t\t\t}, error => {\n\t\t\t\tappend(this.content, $('p.nocontent')).textContent = error;\n\t\t\t\tthis.notificationService.error(error);\n\t\t\t\treturn this.content;\n\t\t\t});\n\t}\n\n\tprivate renderDependencies(container: HTMLElement, extensionDependencies: IExtensionDependencies): Tree {\n\t\tclass ExtensionData implements IExtensionData {\n\n\t\t\tprivate readonly extensionDependencies: IExtensionDependencies;\n\n\t\t\tconstructor(extensionDependencies: IExtensionDependencies) {\n\t\t\t\tthis.extensionDependencies = extensionDependencies;\n\t\t\t}\n\n\t\t\tget extension(): IExtension {\n\t\t\t\treturn this.extensionDependencies.extension;\n\t\t\t}\n\n\t\t\tget parent(): IExtensionData | null {\n\t\t\t\treturn this.extensionDependencies.dependent ? new ExtensionData(this.extensionDependencies.dependent) : null;\n\t\t\t}\n\n\t\t\tget hasChildren(): boolean {\n\t\t\t\treturn this.extensionDependencies.hasDependencies;\n\t\t\t}\n\n\t\t\tgetChildren(): Promise<IExtensionData[] | null> {\n\t\t\t\treturn this.extensionDependencies.dependencies ? Promise.resolve(this.extensionDependencies.dependencies.map(d => new ExtensionData(d))) : Promise.resolve(null);\n\t\t\t}\n\t\t}\n\n\t\treturn this.instantiationService.createInstance(ExtensionsTree, new ExtensionData(extensionDependencies), container);\n\t}\n\n\tprivate openExtensionPack(extension: IExtension): Promise<IActiveElement> {\n\t\tconst content = $('div', { class: 'subcontent' });\n\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\t\tappend(this.content, scrollableContent.getDomNode());\n\t\tthis.contentDisposables.push(scrollableContent);\n\n\t\tconst extensionsPackTree = this.renderExtensionPack(content, extension);\n\t\tconst layout = () => {\n\t\t\tscrollableContent.scanDomNode();\n\t\t\tconst scrollDimensions = scrollableContent.getScrollDimensions();\n\t\t\textensionsPackTree.layout(scrollDimensions.height);\n\t\t};\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout });\n\t\tthis.contentDisposables.push(toDisposable(removeLayoutParticipant));\n\n\t\tthis.contentDisposables.push(extensionsPackTree);\n\t\tscrollableContent.scanDomNode();\n\t\treturn Promise.resolve({ focus() { extensionsPackTree.domFocus(); } });\n\t}\n\n\tprivate renderExtensionPack(container: HTMLElement, extension: IExtension): Tree {\n\t\tconst extensionsWorkbenchService = this.extensionsWorkbenchService;\n\t\tclass ExtensionData implements IExtensionData {\n\n\t\t\treadonly extension: IExtension;\n\t\t\treadonly parent: IExtensionData | null;\n\n\t\t\tconstructor(extension: IExtension, parent?: IExtensionData) {\n\t\t\t\tthis.extension = extension;\n\t\t\t\tthis.parent = withUndefinedAsNull(parent);\n\t\t\t}\n\n\t\t\tget hasChildren(): boolean {\n\t\t\t\treturn this.extension.extensionPack.length > 0;\n\t\t\t}\n\n\t\t\tgetChildren(): Promise<IExtensionData[] | null> {\n\t\t\t\tif (this.hasChildren) {\n\t\t\t\t\tconst names = arrays.distinct(this.extension.extensionPack, e => e.toLowerCase());\n\t\t\t\t\treturn extensionsWorkbenchService.queryGallery({ names, pageSize: names.length }, CancellationToken.None)\n\t\t\t\t\t\t.then(result => result.firstPage.map(extension => new ExtensionData(extension, this)));\n\t\t\t\t}\n\t\t\t\treturn Promise.resolve(null);\n\t\t\t}\n\t\t}\n\n\t\treturn this.instantiationService.createInstance(ExtensionsTree, new ExtensionData(extension), container);\n\t}\n\n\tprivate renderSettings(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst configuration = contributes && contributes.configuration;\n\t\tlet properties = {};\n\t\tif (Array.isArray(configuration)) {\n\t\t\tconfiguration.forEach(config => {\n\t\t\t\tproperties = { ...properties, ...config.properties };\n\t\t\t});\n\t\t} else if (configuration) {\n\t\t\tproperties = configuration.properties;\n\t\t}\n\t\tconst contrib = properties ? Object.keys(properties) : [];\n\n\t\tif (!contrib.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('settings', \"Settings ({0})\", contrib.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('th', undefined, localize('setting name', \"Name\")),\n\t\t\t\t\t$('th', undefined, localize('description', \"Description\")),\n\t\t\t\t\t$('th', undefined, localize('default', \"Default\"))\n\t\t\t\t),\n\t\t\t\t...contrib.map(key => $('tr', undefined,\n\t\t\t\t\t$('td', undefined, $('code', undefined, key)),\n\t\t\t\t\t$('td', undefined, properties[key].description),\n\t\t\t\t\t$('td', undefined, $('code', undefined, `${isUndefined(properties[key].default) ? getDefaultValue(properties[key].type) : properties[key].default}`))\n\t\t\t\t))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderDebuggers(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst contrib = contributes && contributes.debuggers || [];\n\n\t\tif (!contrib.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('debuggers', \"Debuggers ({0})\", contrib.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('th', undefined, localize('debugger name', \"Name\")),\n\t\t\t\t\t$('th', undefined, localize('debugger type', \"Type\")),\n\t\t\t\t),\n\t\t\t\t...contrib.map(d => $('tr', undefined,\n\t\t\t\t\t$('td', undefined, d.label!),\n\t\t\t\t\t$('td', undefined, d.type)))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderViewContainers(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst contrib = contributes && contributes.viewsContainers || {};\n\n\t\tlet viewContainers = Object.keys(contrib).reduce((result, location) => {\n\t\t\tlet viewContainersForLocation: IViewContainer[] = contrib[location];\n\t\t\tresult.push(...viewContainersForLocation.map(viewContainer => ({ ...viewContainer, location })));\n\t\t\treturn result;\n\t\t}, [] as Array<{ id: string, title: string, location: string }>);\n\n\t\tif (!viewContainers.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('viewContainers', \"View Containers ({0})\", viewContainers.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined, $('th', undefined, localize('view container id', \"ID\")), $('th', undefined, localize('view container title', \"Title\")), $('th', undefined, localize('view container location', \"Where\"))),\n\t\t\t\t...viewContainers.map(viewContainer => $('tr', undefined, $('td', undefined, viewContainer.id), $('td', undefined, viewContainer.title), $('td', undefined, viewContainer.location)))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderViews(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst contrib = contributes && contributes.views || {};\n\n\t\tlet views = Object.keys(contrib).reduce((result, location) => {\n\t\t\tlet viewsForLocation: IView[] = contrib[location];\n\t\t\tresult.push(...viewsForLocation.map(view => ({ ...view, location })));\n\t\t\treturn result;\n\t\t}, [] as Array<{ id: string, name: string, location: string }>);\n\n\t\tif (!views.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('views', \"Views ({0})\", views.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined, $('th', undefined, localize('view id', \"ID\")), $('th', undefined, localize('view name', \"Name\")), $('th', undefined, localize('view location', \"Where\"))),\n\t\t\t\t...views.map(view => $('tr', undefined, $('td', undefined, view.id), $('td', undefined, view.name), $('td', undefined, view.location)))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderLocalizations(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst localizations = contributes && contributes.localizations || [];\n\n\t\tif (!localizations.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('localizations', \"Localizations ({0})\", localizations.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined, $('th', undefined, localize('localizations language id', \"Language Id\")), $('th', undefined, localize('localizations language name', \"Language Name\")), $('th', undefined, localize('localizations localized language name', \"Language Name (Localized)\"))),\n\t\t\t\t...localizations.map(localization => $('tr', undefined, $('td', undefined, localization.languageId), $('td', undefined, localization.languageName || ''), $('td', undefined, localization.localizedLanguageName || '')))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderColorThemes(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst contrib = contributes && contributes.themes || [];\n\n\t\tif (!contrib.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('colorThemes', \"Color Themes ({0})\", contrib.length)),\n\t\t\t$('ul', undefined, ...contrib.map(theme => $('li', undefined, theme.label)))\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderIconThemes(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst contrib = contributes && contributes.iconThemes || [];\n\n\t\tif (!contrib.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('iconThemes', \"Icon Themes ({0})\", contrib.length)),\n\t\t\t$('ul', undefined, ...contrib.map(theme => $('li', undefined, theme.label)))\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderColors(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst colors = contributes && contributes.colors;\n\n\t\tif (!colors || !colors.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction colorPreview(colorReference: string): Node[] {\n\t\t\tlet result: Node[] = [];\n\t\t\tif (colorReference && colorReference[0] === '#') {\n\t\t\t\tlet color = Color.fromHex(colorReference);\n\t\t\t\tif (color) {\n\t\t\t\t\tresult.push($('span', { class: 'colorBox', style: 'background-color: ' + Color.Format.CSS.format(color) }, ''));\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult.push($('code', undefined, colorReference));\n\t\t\treturn result;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('colors', \"Colors ({0})\", colors.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('th', undefined, localize('colorId', \"Id\")),\n\t\t\t\t\t$('th', undefined, localize('description', \"Description\")),\n\t\t\t\t\t$('th', undefined, localize('defaultDark', \"Dark Default\")),\n\t\t\t\t\t$('th', undefined, localize('defaultLight', \"Light Default\")),\n\t\t\t\t\t$('th', undefined, localize('defaultHC', \"High Contrast Default\"))\n\t\t\t\t),\n\t\t\t\t...colors.map(color => $('tr', undefined,\n\t\t\t\t\t$('td', undefined, $('code', undefined, color.id)),\n\t\t\t\t\t$('td', undefined, color.description),\n\t\t\t\t\t$('td', undefined, ...colorPreview(color.defaults.dark)),\n\t\t\t\t\t$('td', undefined, ...colorPreview(color.defaults.light)),\n\t\t\t\t\t$('td', undefined, ...colorPreview(color.defaults.highContrast))\n\t\t\t\t))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\n\tprivate renderJSONValidation(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst contrib = contributes && contributes.jsonValidation || [];\n\n\t\tif (!contrib.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('JSON Validation', \"JSON Validation ({0})\", contrib.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('th', undefined, localize('fileMatch', \"File Match\")),\n\t\t\t\t\t$('th', undefined, localize('schema', \"Schema\"))\n\t\t\t\t),\n\t\t\t\t...contrib.map(v => $('tr', undefined,\n\t\t\t\t\t$('td', undefined, $('code', undefined, v.fileMatch)),\n\t\t\t\t\t$('td', undefined, v.url)\n\t\t\t\t))));\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderCommands(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst rawCommands = contributes && contributes.commands || [];\n\t\tconst commands = rawCommands.map(c => ({\n\t\t\tid: c.command,\n\t\t\ttitle: c.title,\n\t\t\tkeybindings: [] as ResolvedKeybinding[],\n\t\t\tmenus: [] as string[]\n\t\t}));\n\n\t\tconst byId = arrays.index(commands, c => c.id);\n\n\t\tconst menus = contributes && contributes.menus || {};\n\n\t\tObject.keys(menus).forEach(context => {\n\t\t\tmenus[context].forEach(menu => {\n\t\t\t\tlet command = byId[menu.command];\n\n\t\t\t\tif (!command) {\n\t\t\t\t\tcommand = { id: menu.command, title: '', keybindings: [], menus: [context] };\n\t\t\t\t\tbyId[command.id] = command;\n\t\t\t\t\tcommands.push(command);\n\t\t\t\t} else {\n\t\t\t\t\tcommand.menus.push(context);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tconst rawKeybindings = contributes && contributes.keybindings ? (Array.isArray(contributes.keybindings) ? contributes.keybindings : [contributes.keybindings]) : [];\n\n\t\trawKeybindings.forEach(rawKeybinding => {\n\t\t\tconst keybinding = this.resolveKeybinding(rawKeybinding);\n\n\t\t\tif (!keybinding) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet command = byId[rawKeybinding.command];\n\n\t\t\tif (!command) {\n\t\t\t\tcommand = { id: rawKeybinding.command, title: '', keybindings: [keybinding], menus: [] };\n\t\t\t\tbyId[command.id] = command;\n\t\t\t\tcommands.push(command);\n\t\t\t} else {\n\t\t\t\tcommand.keybindings.push(keybinding);\n\t\t\t}\n\t\t});\n\n\t\tif (!commands.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst renderKeybinding = (keybinding: ResolvedKeybinding): HTMLElement => {\n\t\t\tconst element = $('');\n\t\t\tnew KeybindingLabel(element, OS).set(keybinding);\n\t\t\treturn element;\n\t\t};\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('commands', \"Commands ({0})\", commands.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('th', undefined, localize('command name', \"Name\")),\n\t\t\t\t\t$('th', undefined, localize('description', \"Description\")),\n\t\t\t\t\t$('th', undefined, localize('keyboard shortcuts', \"Keyboard Shortcuts\")),\n\t\t\t\t\t$('th', undefined, localize('menuContexts', \"Menu Contexts\"))\n\t\t\t\t),\n\t\t\t\t...commands.map(c => $('tr', undefined,\n\t\t\t\t\t$('td', undefined, $('code', undefined, c.id)),\n\t\t\t\t\t$('td', undefined, c.title),\n\t\t\t\t\t$('td', undefined, ...c.keybindings.map(keybinding => renderKeybinding(keybinding))),\n\t\t\t\t\t$('td', undefined, ...c.menus.map(context => $('code', undefined, context)))\n\t\t\t\t))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate renderLanguages(container: HTMLElement, manifest: IExtensionManifest, onDetailsToggle: Function): boolean {\n\t\tconst contributes = manifest.contributes;\n\t\tconst rawLanguages = contributes && contributes.languages || [];\n\t\tconst languages = rawLanguages.map(l => ({\n\t\t\tid: l.id,\n\t\t\tname: (l.aliases || [])[0] || l.id,\n\t\t\textensions: l.extensions || [],\n\t\t\thasGrammar: false,\n\t\t\thasSnippets: false\n\t\t}));\n\n\t\tconst byId = arrays.index(languages, l => l.id);\n\n\t\tconst grammars = contributes && contributes.grammars || [];\n\n\t\tgrammars.forEach(grammar => {\n\t\t\tlet language = byId[grammar.language];\n\n\t\t\tif (!language) {\n\t\t\t\tlanguage = { id: grammar.language, name: grammar.language, extensions: [], hasGrammar: true, hasSnippets: false };\n\t\t\t\tbyId[language.id] = language;\n\t\t\t\tlanguages.push(language);\n\t\t\t} else {\n\t\t\t\tlanguage.hasGrammar = true;\n\t\t\t}\n\t\t});\n\n\t\tconst snippets = contributes && contributes.snippets || [];\n\n\t\tsnippets.forEach(snippet => {\n\t\t\tlet language = byId[snippet.language];\n\n\t\t\tif (!language) {\n\t\t\t\tlanguage = { id: snippet.language, name: snippet.language, extensions: [], hasGrammar: false, hasSnippets: true };\n\t\t\t\tbyId[language.id] = language;\n\t\t\t\tlanguages.push(language);\n\t\t\t} else {\n\t\t\t\tlanguage.hasSnippets = true;\n\t\t\t}\n\t\t});\n\n\t\tif (!languages.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst details = $('details', { open: true, ontoggle: onDetailsToggle },\n\t\t\t$('summary', undefined, localize('languages', \"Languages ({0})\", languages.length)),\n\t\t\t$('table', undefined,\n\t\t\t\t$('tr', undefined,\n\t\t\t\t\t$('th', undefined, localize('language id', \"ID\")),\n\t\t\t\t\t$('th', undefined, localize('language name', \"Name\")),\n\t\t\t\t\t$('th', undefined, localize('file extensions', \"File Extensions\")),\n\t\t\t\t\t$('th', undefined, localize('grammar', \"Grammar\")),\n\t\t\t\t\t$('th', undefined, localize('snippets', \"Snippets\"))\n\t\t\t\t),\n\t\t\t\t...languages.map(l => $('tr', undefined,\n\t\t\t\t\t$('td', undefined, l.id),\n\t\t\t\t\t$('td', undefined, l.name),\n\t\t\t\t\t$('td', undefined, ...join(l.extensions.map(ext => $('code', undefined, ext)), ' ')),\n\t\t\t\t\t$('td', undefined, document.createTextNode(l.hasGrammar ? '✔︎' : '—')),\n\t\t\t\t\t$('td', undefined, document.createTextNode(l.hasSnippets ? '✔︎' : '—'))\n\t\t\t\t))\n\t\t\t)\n\t\t);\n\n\t\tappend(container, details);\n\t\treturn true;\n\t}\n\n\tprivate resolveKeybinding(rawKeyBinding: IKeyBinding): ResolvedKeybinding | null {\n\t\tlet key: string | undefined;\n\n\t\tswitch (process.platform) {\n\t\t\tcase 'win32': key = rawKeyBinding.win; break;\n\t\t\tcase 'linux': key = rawKeyBinding.linux; break;\n\t\t\tcase 'darwin': key = rawKeyBinding.mac; break;\n\t\t}\n\n\t\tconst keyBinding = KeybindingParser.parseKeybinding(key || rawKeyBinding.key, OS);\n\t\tif (!keyBinding) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.keybindingService.resolveKeybinding(keyBinding)[0];\n\t}\n\n\tprivate loadContents<T>(loadingTask: () => CacheResult<T>): Promise<T> {\n\t\taddClass(this.content, 'loading');\n\n\t\tconst result = loadingTask();\n\t\tconst onDone = () => removeClass(this.content, 'loading');\n\t\tresult.promise.then(onDone, onDone);\n\n\t\tthis.contentDisposables.push(toDisposable(() => result.dispose()));\n\n\t\treturn result.promise;\n\t}\n\n\tlayout(): void {\n\t\tthis.layoutParticipants.forEach(p => p.layout());\n\t}\n\n\tprivate onError(err: any): void {\n\t\tif (isPromiseCanceledError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n\n\tdispose(): void {\n\t\tthis.transientDisposables = dispose(this.transientDisposables);\n\t\tthis.disposables = dispose(this.disposables);\n\t\tsuper.dispose();\n\t}\n}\n\nclass ShowExtensionEditorFindCommand extends Command {\n\tpublic runCommand(accessor: ServicesAccessor, args: any): void {\n\t\tconst extensionEditor = this.getExtensionEditor(accessor);\n\t\tif (extensionEditor) {\n\t\t\textensionEditor.showFind();\n\t\t}\n\t}\n\n\tprivate getExtensionEditor(accessor: ServicesAccessor): ExtensionEditor | null {\n\t\tconst activeControl = accessor.get(IEditorService).activeControl as ExtensionEditor;\n\t\tif (activeControl instanceof ExtensionEditor) {\n\t\t\treturn activeControl;\n\t\t}\n\t\treturn null;\n\t}\n}\nconst showCommand = new ShowExtensionEditorFindCommand({\n\tid: 'editor.action.extensioneditor.showfind',\n\tprecondition: ContextKeyExpr.equals('activeEditor', ExtensionEditor.ID),\n\tkbOpts: {\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_F,\n\t\tweight: KeybindingWeight.EditorContrib\n\t}\n});\nshowCommand.register();\n"]}]}