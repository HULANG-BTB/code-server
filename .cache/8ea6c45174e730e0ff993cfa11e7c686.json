{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar DOM = require(\"vs/base/browser/dom\");\nvar platform_1 = require(\"vs/platform/registry/common/platform\");\nvar baseEditor_1 = require(\"vs/workbench/browser/parts/editor/baseEditor\");\nvar telemetry_1 = require(\"vs/platform/telemetry/common/telemetry\");\nvar instantiation_1 = require(\"vs/platform/instantiation/common/instantiation\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar colorRegistry_1 = require(\"vs/platform/theme/common/colorRegistry\");\nvar editor_1 = require(\"vs/workbench/browser/editor\");\nvar splitview_1 = require(\"vs/base/browser/ui/splitview/splitview\");\nvar event_1 = require(\"vs/base/common/event\");\nvar storage_1 = require(\"vs/platform/storage/common/storage\");\nvar SideBySideEditor = /** @class */ (function (_super) {\n    tslib_1.__extends(SideBySideEditor, _super);\n    function SideBySideEditor(telemetryService, instantiationService, themeService, storageService) {\n        var _this = _super.call(this, SideBySideEditor.ID, telemetryService, themeService, storageService) || this;\n        _this.instantiationService = instantiationService;\n        _this.dimension = new DOM.Dimension(0, 0);\n        _this.onDidCreateEditors = _this._register(new event_1.Emitter());\n        _this._onDidSizeConstraintsChange = _this._register(new event_1.Relay());\n        _this.onDidSizeConstraintsChange = event_1.Event.any(_this.onDidCreateEditors.event, _this._onDidSizeConstraintsChange.event);\n        return _this;\n    }\n    Object.defineProperty(SideBySideEditor.prototype, \"minimumMasterWidth\", {\n        get: function () { return this.masterEditor ? this.masterEditor.minimumWidth : 0; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"maximumMasterWidth\", {\n        get: function () { return this.masterEditor ? this.masterEditor.maximumWidth : Number.POSITIVE_INFINITY; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"minimumMasterHeight\", {\n        get: function () { return this.masterEditor ? this.masterEditor.minimumHeight : 0; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"maximumMasterHeight\", {\n        get: function () { return this.masterEditor ? this.masterEditor.maximumHeight : Number.POSITIVE_INFINITY; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"minimumDetailsWidth\", {\n        get: function () { return this.detailsEditor ? this.detailsEditor.minimumWidth : 0; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"maximumDetailsWidth\", {\n        get: function () { return this.detailsEditor ? this.detailsEditor.maximumWidth : Number.POSITIVE_INFINITY; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"minimumDetailsHeight\", {\n        get: function () { return this.detailsEditor ? this.detailsEditor.minimumHeight : 0; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"maximumDetailsHeight\", {\n        get: function () { return this.detailsEditor ? this.detailsEditor.maximumHeight : Number.POSITIVE_INFINITY; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"minimumWidth\", {\n        get: function () { return this.minimumMasterWidth + this.minimumDetailsWidth; },\n        // these setters need to exist because this extends from BaseEditor\n        set: function (value) { },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"maximumWidth\", {\n        get: function () { return this.maximumMasterWidth + this.maximumDetailsWidth; },\n        set: function (value) { },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"minimumHeight\", {\n        get: function () { return this.minimumMasterHeight + this.minimumDetailsHeight; },\n        set: function (value) { },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SideBySideEditor.prototype, \"maximumHeight\", {\n        get: function () { return this.maximumMasterHeight + this.maximumDetailsHeight; },\n        set: function (value) { },\n        enumerable: true,\n        configurable: true\n    });\n    SideBySideEditor.prototype.createEditor = function (parent) {\n        var _this = this;\n        DOM.addClass(parent, 'side-by-side-editor');\n        this.splitview = this._register(new splitview_1.SplitView(parent, { orientation: splitview_1.Orientation.HORIZONTAL }));\n        this._register(this.splitview.onDidSashReset(function () { return _this.splitview.distributeViewSizes(); }));\n        this.detailsEditorContainer = DOM.$('.details-editor-container');\n        this.splitview.addView({\n            element: this.detailsEditorContainer,\n            layout: function (size) { return _this.detailsEditor && _this.detailsEditor.layout(new DOM.Dimension(size, _this.dimension.height)); },\n            minimumSize: 220,\n            maximumSize: Number.POSITIVE_INFINITY,\n            onDidChange: event_1.Event.None\n        }, splitview_1.Sizing.Distribute);\n        this.masterEditorContainer = DOM.$('.master-editor-container');\n        this.splitview.addView({\n            element: this.masterEditorContainer,\n            layout: function (size) { return _this.masterEditor && _this.masterEditor.layout(new DOM.Dimension(size, _this.dimension.height)); },\n            minimumSize: 220,\n            maximumSize: Number.POSITIVE_INFINITY,\n            onDidChange: event_1.Event.None\n        }, splitview_1.Sizing.Distribute);\n        this.updateStyles();\n    };\n    SideBySideEditor.prototype.setInput = function (newInput, options, token) {\n        var _this = this;\n        var oldInput = this.input;\n        return _super.prototype.setInput.call(this, newInput, options, token)\n            .then(function () { return _this.updateInput(oldInput, newInput, options, token); });\n    };\n    SideBySideEditor.prototype.setOptions = function (options) {\n        if (this.masterEditor) {\n            this.masterEditor.setOptions(options);\n        }\n    };\n    SideBySideEditor.prototype.setEditorVisible = function (visible, group) {\n        if (this.masterEditor) {\n            this.masterEditor.setVisible(visible, group);\n        }\n        if (this.detailsEditor) {\n            this.detailsEditor.setVisible(visible, group);\n        }\n        _super.prototype.setEditorVisible.call(this, visible, group);\n    };\n    SideBySideEditor.prototype.clearInput = function () {\n        if (this.masterEditor) {\n            this.masterEditor.clearInput();\n        }\n        if (this.detailsEditor) {\n            this.detailsEditor.clearInput();\n        }\n        this.disposeEditors();\n        _super.prototype.clearInput.call(this);\n    };\n    SideBySideEditor.prototype.focus = function () {\n        if (this.masterEditor) {\n            this.masterEditor.focus();\n        }\n    };\n    SideBySideEditor.prototype.layout = function (dimension) {\n        this.dimension = dimension;\n        this.splitview.layout(dimension.width);\n    };\n    SideBySideEditor.prototype.getControl = function () {\n        if (this.masterEditor) {\n            return this.masterEditor.getControl();\n        }\n        return null;\n    };\n    SideBySideEditor.prototype.getMasterEditor = function () {\n        return this.masterEditor;\n    };\n    SideBySideEditor.prototype.getDetailsEditor = function () {\n        return this.detailsEditor;\n    };\n    SideBySideEditor.prototype.updateInput = function (oldInput, newInput, options, token) {\n        if (!newInput.matches(oldInput)) {\n            if (oldInput) {\n                this.disposeEditors();\n            }\n            return this.setNewInput(newInput, options, token);\n        }\n        if (!this.detailsEditor || !this.masterEditor) {\n            return Promise.resolve();\n        }\n        return Promise.all([\n            this.detailsEditor.setInput(newInput.details, null, token),\n            this.masterEditor.setInput(newInput.master, options, token)\n        ]).then(function () { return undefined; });\n    };\n    SideBySideEditor.prototype.setNewInput = function (newInput, options, token) {\n        var detailsEditor = this.doCreateEditor(newInput.details, this.detailsEditorContainer);\n        var masterEditor = this.doCreateEditor(newInput.master, this.masterEditorContainer);\n        return this.onEditorsCreated(detailsEditor, masterEditor, newInput.details, newInput.master, options, token);\n    };\n    SideBySideEditor.prototype.doCreateEditor = function (editorInput, container) {\n        var descriptor = platform_1.Registry.as(editor_1.Extensions.Editors).getEditor(editorInput);\n        if (!descriptor) {\n            throw new Error('No descriptor for editor found');\n        }\n        var editor = descriptor.instantiate(this.instantiationService);\n        editor.create(container);\n        editor.setVisible(this.isVisible(), this.group);\n        return editor;\n    };\n    SideBySideEditor.prototype.onEditorsCreated = function (details, master, detailsInput, masterInput, options, token) {\n        var _this = this;\n        this.detailsEditor = details;\n        this.masterEditor = master;\n        this._onDidSizeConstraintsChange.input = event_1.Event.any(event_1.Event.map(details.onDidSizeConstraintsChange, function () { return undefined; }), event_1.Event.map(master.onDidSizeConstraintsChange, function () { return undefined; }));\n        this.onDidCreateEditors.fire(undefined);\n        return Promise.all([this.detailsEditor.setInput(detailsInput, null, token), this.masterEditor.setInput(masterInput, options, token)]).then(function () { return _this.focus(); });\n    };\n    SideBySideEditor.prototype.updateStyles = function () {\n        _super.prototype.updateStyles.call(this);\n        if (this.masterEditorContainer) {\n            this.masterEditorContainer.style.boxShadow = \"-6px 0 5px -5px \" + this.getColor(colorRegistry_1.scrollbarShadow);\n        }\n    };\n    SideBySideEditor.prototype.disposeEditors = function () {\n        if (this.detailsEditor) {\n            this.detailsEditor.dispose();\n            this.detailsEditor = undefined;\n        }\n        if (this.masterEditor) {\n            this.masterEditor.dispose();\n            this.masterEditor = undefined;\n        }\n        this.detailsEditorContainer.innerHTML = '';\n        this.masterEditorContainer.innerHTML = '';\n    };\n    SideBySideEditor.prototype.dispose = function () {\n        this.disposeEditors();\n        _super.prototype.dispose.call(this);\n    };\n    SideBySideEditor.ID = 'workbench.editor.sidebysideEditor';\n    SideBySideEditor = tslib_1.__decorate([\n        tslib_1.__param(0, telemetry_1.ITelemetryService),\n        tslib_1.__param(1, instantiation_1.IInstantiationService),\n        tslib_1.__param(2, themeService_1.IThemeService),\n        tslib_1.__param(3, storage_1.IStorageService)\n    ], SideBySideEditor);\n    return SideBySideEditor;\n}(baseEditor_1.BaseEditor));\nexports.SideBySideEditor = SideBySideEditor;\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/workbench/browser/parts/editor/sideBySideEditor.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from 'vs/base/browser/dom';\nimport { Registry } from 'vs/platform/registry/common/platform';\nimport { EditorInput, EditorOptions, SideBySideEditorInput, IEditorControl, IEditor } from 'vs/workbench/common/editor';\nimport { BaseEditor } from 'vs/workbench/browser/parts/editor/baseEditor';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { scrollbarShadow } from 'vs/platform/theme/common/colorRegistry';\nimport { IEditorRegistry, Extensions as EditorExtensions } from 'vs/workbench/browser/editor';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { IEditorGroup } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { SplitView, Sizing, Orientation } from 'vs/base/browser/ui/splitview/splitview';\nimport { Event, Relay, Emitter } from 'vs/base/common/event';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\n\nexport class SideBySideEditor extends BaseEditor {\n\n\tstatic readonly ID: string = 'workbench.editor.sidebysideEditor';\n\n\tget minimumMasterWidth() { return this.masterEditor ? this.masterEditor.minimumWidth : 0; }\n\tget maximumMasterWidth() { return this.masterEditor ? this.masterEditor.maximumWidth : Number.POSITIVE_INFINITY; }\n\tget minimumMasterHeight() { return this.masterEditor ? this.masterEditor.minimumHeight : 0; }\n\tget maximumMasterHeight() { return this.masterEditor ? this.masterEditor.maximumHeight : Number.POSITIVE_INFINITY; }\n\n\tget minimumDetailsWidth() { return this.detailsEditor ? this.detailsEditor.minimumWidth : 0; }\n\tget maximumDetailsWidth() { return this.detailsEditor ? this.detailsEditor.maximumWidth : Number.POSITIVE_INFINITY; }\n\tget minimumDetailsHeight() { return this.detailsEditor ? this.detailsEditor.minimumHeight : 0; }\n\tget maximumDetailsHeight() { return this.detailsEditor ? this.detailsEditor.maximumHeight : Number.POSITIVE_INFINITY; }\n\n\t// these setters need to exist because this extends from BaseEditor\n\tset minimumWidth(value: number) { /* noop */ }\n\tset maximumWidth(value: number) { /* noop */ }\n\tset minimumHeight(value: number) { /* noop */ }\n\tset maximumHeight(value: number) { /* noop */ }\n\n\tget minimumWidth() { return this.minimumMasterWidth + this.minimumDetailsWidth; }\n\tget maximumWidth() { return this.maximumMasterWidth + this.maximumDetailsWidth; }\n\tget minimumHeight() { return this.minimumMasterHeight + this.minimumDetailsHeight; }\n\tget maximumHeight() { return this.maximumMasterHeight + this.maximumDetailsHeight; }\n\n\tprotected masterEditor?: BaseEditor;\n\tprotected detailsEditor?: BaseEditor;\n\n\tprivate masterEditorContainer: HTMLElement;\n\tprivate detailsEditorContainer: HTMLElement;\n\n\tprivate splitview: SplitView;\n\tprivate dimension: DOM.Dimension = new DOM.Dimension(0, 0);\n\n\tprivate onDidCreateEditors = this._register(new Emitter<{ width: number; height: number; } | undefined>());\n\tprivate _onDidSizeConstraintsChange = this._register(new Relay<{ width: number; height: number; } | undefined>());\n\treadonly onDidSizeConstraintsChange: Event<{ width: number; height: number; } | undefined> = Event.any(this.onDidCreateEditors.event, this._onDidSizeConstraintsChange.event);\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService\n\t) {\n\t\tsuper(SideBySideEditor.ID, telemetryService, themeService, storageService);\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tDOM.addClass(parent, 'side-by-side-editor');\n\n\t\tthis.splitview = this._register(new SplitView(parent, { orientation: Orientation.HORIZONTAL }));\n\t\tthis._register(this.splitview.onDidSashReset(() => this.splitview.distributeViewSizes()));\n\n\t\tthis.detailsEditorContainer = DOM.$('.details-editor-container');\n\t\tthis.splitview.addView({\n\t\t\telement: this.detailsEditorContainer,\n\t\t\tlayout: size => this.detailsEditor && this.detailsEditor.layout(new DOM.Dimension(size, this.dimension.height)),\n\t\t\tminimumSize: 220,\n\t\t\tmaximumSize: Number.POSITIVE_INFINITY,\n\t\t\tonDidChange: Event.None\n\t\t}, Sizing.Distribute);\n\n\t\tthis.masterEditorContainer = DOM.$('.master-editor-container');\n\t\tthis.splitview.addView({\n\t\t\telement: this.masterEditorContainer,\n\t\t\tlayout: size => this.masterEditor && this.masterEditor.layout(new DOM.Dimension(size, this.dimension.height)),\n\t\t\tminimumSize: 220,\n\t\t\tmaximumSize: Number.POSITIVE_INFINITY,\n\t\t\tonDidChange: Event.None\n\t\t}, Sizing.Distribute);\n\n\t\tthis.updateStyles();\n\t}\n\n\tsetInput(newInput: SideBySideEditorInput, options: EditorOptions, token: CancellationToken): Promise<void> {\n\t\tconst oldInput = <SideBySideEditorInput>this.input;\n\t\treturn super.setInput(newInput, options, token)\n\t\t\t.then(() => this.updateInput(oldInput, newInput, options, token));\n\t}\n\n\tsetOptions(options: EditorOptions): void {\n\t\tif (this.masterEditor) {\n\t\t\tthis.masterEditor.setOptions(options);\n\t\t}\n\t}\n\n\tprotected setEditorVisible(visible: boolean, group: IEditorGroup): void {\n\t\tif (this.masterEditor) {\n\t\t\tthis.masterEditor.setVisible(visible, group);\n\t\t}\n\n\t\tif (this.detailsEditor) {\n\t\t\tthis.detailsEditor.setVisible(visible, group);\n\t\t}\n\n\t\tsuper.setEditorVisible(visible, group);\n\t}\n\n\tclearInput(): void {\n\t\tif (this.masterEditor) {\n\t\t\tthis.masterEditor.clearInput();\n\t\t}\n\n\t\tif (this.detailsEditor) {\n\t\t\tthis.detailsEditor.clearInput();\n\t\t}\n\n\t\tthis.disposeEditors();\n\n\t\tsuper.clearInput();\n\t}\n\n\tfocus(): void {\n\t\tif (this.masterEditor) {\n\t\t\tthis.masterEditor.focus();\n\t\t}\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.splitview.layout(dimension.width);\n\t}\n\n\tgetControl(): IEditorControl | null {\n\t\tif (this.masterEditor) {\n\t\t\treturn this.masterEditor.getControl();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetMasterEditor(): IEditor | undefined {\n\t\treturn this.masterEditor;\n\t}\n\n\tgetDetailsEditor(): IEditor | undefined {\n\t\treturn this.detailsEditor;\n\t}\n\n\tprivate updateInput(oldInput: SideBySideEditorInput, newInput: SideBySideEditorInput, options: EditorOptions, token: CancellationToken): Promise<void> {\n\t\tif (!newInput.matches(oldInput)) {\n\t\t\tif (oldInput) {\n\t\t\t\tthis.disposeEditors();\n\t\t\t}\n\n\t\t\treturn this.setNewInput(newInput, options, token);\n\t\t}\n\t\tif (!this.detailsEditor || !this.masterEditor) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn Promise.all([\n\t\t\tthis.detailsEditor.setInput(newInput.details, null, token),\n\t\t\tthis.masterEditor.setInput(newInput.master, options, token)]\n\t\t).then(() => undefined);\n\t}\n\n\tprivate setNewInput(newInput: SideBySideEditorInput, options: EditorOptions, token: CancellationToken): Promise<void> {\n\t\tconst detailsEditor = this.doCreateEditor(<EditorInput>newInput.details, this.detailsEditorContainer);\n\t\tconst masterEditor = this.doCreateEditor(<EditorInput>newInput.master, this.masterEditorContainer);\n\n\t\treturn this.onEditorsCreated(detailsEditor, masterEditor, newInput.details, newInput.master, options, token);\n\t}\n\n\tprivate doCreateEditor(editorInput: EditorInput, container: HTMLElement): BaseEditor {\n\t\tconst descriptor = Registry.as<IEditorRegistry>(EditorExtensions.Editors).getEditor(editorInput);\n\t\tif (!descriptor) {\n\t\t\tthrow new Error('No descriptor for editor found');\n\t\t}\n\n\t\tconst editor = descriptor.instantiate(this.instantiationService);\n\t\teditor.create(container);\n\t\teditor.setVisible(this.isVisible(), this.group);\n\n\t\treturn editor;\n\t}\n\n\tprivate onEditorsCreated(details: BaseEditor, master: BaseEditor, detailsInput: EditorInput, masterInput: EditorInput, options: EditorOptions, token: CancellationToken): Promise<void> {\n\t\tthis.detailsEditor = details;\n\t\tthis.masterEditor = master;\n\n\t\tthis._onDidSizeConstraintsChange.input = Event.any(\n\t\t\tEvent.map(details.onDidSizeConstraintsChange, () => undefined),\n\t\t\tEvent.map(master.onDidSizeConstraintsChange, () => undefined)\n\t\t);\n\n\t\tthis.onDidCreateEditors.fire(undefined);\n\n\t\treturn Promise.all([this.detailsEditor.setInput(detailsInput, null, token), this.masterEditor.setInput(masterInput, options, token)]).then(() => this.focus());\n\t}\n\n\tupdateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\tif (this.masterEditorContainer) {\n\t\t\tthis.masterEditorContainer.style.boxShadow = `-6px 0 5px -5px ${this.getColor(scrollbarShadow)}`;\n\t\t}\n\t}\n\n\tprivate disposeEditors(): void {\n\t\tif (this.detailsEditor) {\n\t\t\tthis.detailsEditor.dispose();\n\t\t\tthis.detailsEditor = undefined;\n\t\t}\n\n\t\tif (this.masterEditor) {\n\t\t\tthis.masterEditor.dispose();\n\t\t\tthis.masterEditor = undefined;\n\t\t}\n\n\t\tthis.detailsEditorContainer.innerHTML = '';\n\t\tthis.masterEditorContainer.innerHTML = '';\n\t}\n\n\tdispose(): void {\n\t\tthis.disposeEditors();\n\n\t\tsuper.dispose();\n\t}\n}\n"]}]}