{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinitionCommands.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinitionCommands.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar aria_1 = require(\"vs/base/browser/ui/aria/aria\");\nvar async_1 = require(\"vs/base/common/async\");\nvar cancellation_1 = require(\"vs/base/common/cancellation\");\nvar keyCodes_1 = require(\"vs/base/common/keyCodes\");\nvar platform = require(\"vs/base/common/platform\");\nvar editorExtensions_1 = require(\"vs/editor/browser/editorExtensions\");\nvar codeEditorService_1 = require(\"vs/editor/browser/services/codeEditorService\");\nvar range_1 = require(\"vs/editor/common/core/range\");\nvar editorContextKeys_1 = require(\"vs/editor/common/editorContextKeys\");\nvar modes_1 = require(\"vs/editor/common/modes\");\nvar messageController_1 = require(\"vs/editor/contrib/message/messageController\");\nvar peekViewWidget_1 = require(\"vs/editor/contrib/referenceSearch/peekViewWidget\");\nvar referencesController_1 = require(\"vs/editor/contrib/referenceSearch/referencesController\");\nvar referencesModel_1 = require(\"vs/editor/contrib/referenceSearch/referencesModel\");\nvar nls = require(\"vs/nls\");\nvar actions_1 = require(\"vs/platform/actions/common/actions\");\nvar contextkey_1 = require(\"vs/platform/contextkey/common/contextkey\");\nvar keybindingsRegistry_1 = require(\"vs/platform/keybinding/common/keybindingsRegistry\");\nvar notification_1 = require(\"vs/platform/notification/common/notification\");\nvar progress_1 = require(\"vs/platform/progress/common/progress\");\nvar goToDefinition_1 = require(\"./goToDefinition\");\nvar commands_1 = require(\"vs/platform/commands/common/commands\");\nvar DefinitionActionConfig = /** @class */ (function () {\n    function DefinitionActionConfig(openToSide, openInPeek, filterCurrent, showMessage) {\n        if (openToSide === void 0) { openToSide = false; }\n        if (openInPeek === void 0) { openInPeek = false; }\n        if (filterCurrent === void 0) { filterCurrent = true; }\n        if (showMessage === void 0) { showMessage = true; }\n        this.openToSide = openToSide;\n        this.openInPeek = openInPeek;\n        this.filterCurrent = filterCurrent;\n        this.showMessage = showMessage;\n        //\n    }\n    return DefinitionActionConfig;\n}());\nexports.DefinitionActionConfig = DefinitionActionConfig;\nvar DefinitionAction = /** @class */ (function (_super) {\n    tslib_1.__extends(DefinitionAction, _super);\n    function DefinitionAction(configuration, opts) {\n        var _this = _super.call(this, opts) || this;\n        _this._configuration = configuration;\n        return _this;\n    }\n    DefinitionAction.prototype.run = function (accessor, editor) {\n        var _this = this;\n        if (!editor.hasModel()) {\n            return Promise.resolve(undefined);\n        }\n        var notificationService = accessor.get(notification_1.INotificationService);\n        var editorService = accessor.get(codeEditorService_1.ICodeEditorService);\n        var progressService = accessor.get(progress_1.IProgressService);\n        var model = editor.getModel();\n        var pos = editor.getPosition();\n        var definitionPromise = this._getTargetLocationForPosition(model, pos, cancellation_1.CancellationToken.None).then(function (references) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var idxOfCurrent, result, _i, references_1, reference, newLen, info, current;\n            return tslib_1.__generator(this, function (_a) {\n                if (model.isDisposed() || editor.getModel() !== model) {\n                    // new model, no more model\n                    return [2 /*return*/];\n                }\n                idxOfCurrent = -1;\n                result = [];\n                for (_i = 0, references_1 = references; _i < references_1.length; _i++) {\n                    reference = references_1[_i];\n                    if (!reference || !reference.range) {\n                        continue;\n                    }\n                    newLen = result.push(reference);\n                    if (this._configuration.filterCurrent\n                        && reference.uri.toString() === model.uri.toString()\n                        && range_1.Range.containsPosition(reference.range, pos)\n                        && idxOfCurrent === -1) {\n                        idxOfCurrent = newLen - 1;\n                    }\n                }\n                if (result.length === 0) {\n                    // no result -> show message\n                    if (this._configuration.showMessage) {\n                        info = model.getWordAtPosition(pos);\n                        messageController_1.MessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\n                    }\n                }\n                else if (result.length === 1 && idxOfCurrent !== -1) {\n                    current = result[0];\n                    return [2 /*return*/, this._openReference(editor, editorService, current, false).then(function () { return undefined; })];\n                }\n                else {\n                    // handle multile results\n                    return [2 /*return*/, this._onResult(editorService, editor, new referencesModel_1.ReferencesModel(result))];\n                }\n                return [2 /*return*/];\n            });\n        }); }, function (err) {\n            // report an error\n            notificationService.error(err);\n        });\n        progressService.showWhile(definitionPromise, 250);\n        return definitionPromise;\n    };\n    DefinitionAction.prototype._getTargetLocationForPosition = function (model, position, token) {\n        return goToDefinition_1.getDefinitionsAtPosition(model, position, token);\n    };\n    DefinitionAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n            : nls.localize('generic.noResults', \"No definition found\");\n    };\n    DefinitionAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 ? nls.localize('meta.title', \" â€“ {0} definitions\", model.references.length) : '';\n    };\n    DefinitionAction.prototype._onResult = function (editorService, editor, model) {\n        return tslib_1.__awaiter(this, void 0, Promise, function () {\n            var msg, gotoLocation, next, targetEditor;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        msg = model.getAriaMessage();\n                        aria_1.alert(msg);\n                        gotoLocation = editor.getConfiguration().contribInfo.gotoLocation;\n                        if (!(this._configuration.openInPeek || (gotoLocation.multiple === 'peek' && model.references.length > 1))) return [3 /*break*/, 1];\n                        this._openInPeek(editorService, editor, model);\n                        return [3 /*break*/, 3];\n                    case 1:\n                        if (!editor.hasModel()) return [3 /*break*/, 3];\n                        next = model.firstReference();\n                        if (!next) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this._openReference(editor, editorService, next, this._configuration.openToSide)];\n                    case 2:\n                        targetEditor = _a.sent();\n                        if (targetEditor && model.references.length > 1 && gotoLocation.multiple === 'gotoAndPeek') {\n                            this._openInPeek(editorService, targetEditor, model);\n                        }\n                        else {\n                            model.dispose();\n                        }\n                        _a.label = 3;\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DefinitionAction.prototype._openReference = function (editor, editorService, reference, sideBySide) {\n        // range is the target-selection-range when we have one\n        // and the the fallback is the 'full' range\n        var range = undefined;\n        if (modes_1.isLocationLink(reference)) {\n            range = reference.targetSelectionRange;\n        }\n        if (!range) {\n            range = reference.range;\n        }\n        return editorService.openCodeEditor({\n            resource: reference.uri,\n            options: {\n                selection: range_1.Range.collapseToStart(range),\n                revealIfOpened: true,\n                revealInCenterIfOutsideViewport: true\n            }\n        }, editor, sideBySide);\n    };\n    DefinitionAction.prototype._openInPeek = function (editorService, target, model) {\n        var _this = this;\n        var controller = referencesController_1.ReferencesController.get(target);\n        if (controller && target.hasModel()) {\n            controller.toggleWidget(target.getSelection(), async_1.createCancelablePromise(function (_) { return Promise.resolve(model); }), {\n                getMetaTitle: function (model) {\n                    return _this._getMetaTitle(model);\n                },\n                onGoto: function (reference) {\n                    controller.closeWidget();\n                    return _this._openReference(target, editorService, reference, false);\n                }\n            });\n        }\n        else {\n            model.dispose();\n        }\n    };\n    return DefinitionAction;\n}(editorExtensions_1.EditorAction));\nexports.DefinitionAction = DefinitionAction;\nvar goToDefinitionKb = platform.isWeb\n    ? keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyCode.F12\n    : keyCodes_1.KeyCode.F12;\nvar GoToDefinitionAction = /** @class */ (function (_super) {\n    tslib_1.__extends(GoToDefinitionAction, _super);\n    function GoToDefinitionAction() {\n        var _this = _super.call(this, new DefinitionActionConfig(), {\n            id: GoToDefinitionAction.id,\n            label: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n            alias: 'Go to Definition',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasDefinitionProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: goToDefinitionKb,\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.1\n            }\n        }) || this;\n        commands_1.CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n        return _this;\n    }\n    GoToDefinitionAction.id = 'editor.action.revealDefinition';\n    return GoToDefinitionAction;\n}(DefinitionAction));\nexports.GoToDefinitionAction = GoToDefinitionAction;\nvar OpenDefinitionToSideAction = /** @class */ (function (_super) {\n    tslib_1.__extends(OpenDefinitionToSideAction, _super);\n    function OpenDefinitionToSideAction() {\n        var _this = _super.call(this, new DefinitionActionConfig(true), {\n            id: OpenDefinitionToSideAction.id,\n            label: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n            alias: 'Open Definition to the Side',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasDefinitionProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: keyCodes_1.KeyChord(keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyCode.KEY_K, goToDefinitionKb),\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            }\n        }) || this;\n        commands_1.CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n        return _this;\n    }\n    OpenDefinitionToSideAction.id = 'editor.action.revealDefinitionAside';\n    return OpenDefinitionToSideAction;\n}(DefinitionAction));\nexports.OpenDefinitionToSideAction = OpenDefinitionToSideAction;\nvar PeekDefinitionAction = /** @class */ (function (_super) {\n    tslib_1.__extends(PeekDefinitionAction, _super);\n    function PeekDefinitionAction() {\n        var _this = _super.call(this, new DefinitionActionConfig(undefined, true, false), {\n            id: PeekDefinitionAction.id,\n            label: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n            alias: 'Peek Definition',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasDefinitionProvider, peekViewWidget_1.PeekContext.notInPeekEditor, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: keyCodes_1.KeyMod.Alt | keyCodes_1.KeyCode.F12,\n                linux: { primary: keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyMod.Shift | keyCodes_1.KeyCode.F10 },\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.2\n            }\n        }) || this;\n        commands_1.CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n        return _this;\n    }\n    PeekDefinitionAction.id = 'editor.action.peekDefinition';\n    return PeekDefinitionAction;\n}(DefinitionAction));\nexports.PeekDefinitionAction = PeekDefinitionAction;\nvar DeclarationAction = /** @class */ (function (_super) {\n    tslib_1.__extends(DeclarationAction, _super);\n    function DeclarationAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DeclarationAction.prototype._getTargetLocationForPosition = function (model, position, token) {\n        return goToDefinition_1.getDeclarationsAtPosition(model, position, token);\n    };\n    DeclarationAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\n    };\n    DeclarationAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 ? nls.localize('decl.meta.title', \" â€“ {0} declarations\", model.references.length) : '';\n    };\n    return DeclarationAction;\n}(DefinitionAction));\nexports.DeclarationAction = DeclarationAction;\nvar GoToDeclarationAction = /** @class */ (function (_super) {\n    tslib_1.__extends(GoToDeclarationAction, _super);\n    function GoToDeclarationAction() {\n        return _super.call(this, new DefinitionActionConfig(), {\n            id: GoToDeclarationAction.id,\n            label: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n            alias: 'Go to Declaration',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasDeclarationProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            menuOpts: {\n                group: 'navigation',\n                order: 1.3\n            }\n        }) || this;\n    }\n    GoToDeclarationAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\n    };\n    GoToDeclarationAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 ? nls.localize('decl.meta.title', \" â€“ {0} declarations\", model.references.length) : '';\n    };\n    GoToDeclarationAction.id = 'editor.action.revealDeclaration';\n    return GoToDeclarationAction;\n}(DeclarationAction));\nexports.GoToDeclarationAction = GoToDeclarationAction;\nvar PeekDeclarationAction = /** @class */ (function (_super) {\n    tslib_1.__extends(PeekDeclarationAction, _super);\n    function PeekDeclarationAction() {\n        return _super.call(this, new DefinitionActionConfig(undefined, true, false), {\n            id: 'editor.action.peekDeclaration',\n            label: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n            alias: 'Peek Declaration',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasDeclarationProvider, peekViewWidget_1.PeekContext.notInPeekEditor, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            menuOpts: {\n                group: 'navigation',\n                order: 1.31\n            }\n        }) || this;\n    }\n    return PeekDeclarationAction;\n}(DeclarationAction));\nexports.PeekDeclarationAction = PeekDeclarationAction;\nvar ImplementationAction = /** @class */ (function (_super) {\n    tslib_1.__extends(ImplementationAction, _super);\n    function ImplementationAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ImplementationAction.prototype._getTargetLocationForPosition = function (model, position, token) {\n        return goToDefinition_1.getImplementationsAtPosition(model, position, token);\n    };\n    ImplementationAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n    };\n    ImplementationAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 ? nls.localize('meta.implementations.title', \" â€“ {0} implementations\", model.references.length) : '';\n    };\n    return ImplementationAction;\n}(DefinitionAction));\nexports.ImplementationAction = ImplementationAction;\nvar GoToImplementationAction = /** @class */ (function (_super) {\n    tslib_1.__extends(GoToImplementationAction, _super);\n    function GoToImplementationAction() {\n        return _super.call(this, new DefinitionActionConfig(), {\n            id: GoToImplementationAction.ID,\n            label: nls.localize('actions.goToImplementation.label', \"Go to Implementation\"),\n            alias: 'Go to Implementation',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasImplementationProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyCode.F12,\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            }\n        }) || this;\n    }\n    GoToImplementationAction.ID = 'editor.action.goToImplementation';\n    return GoToImplementationAction;\n}(ImplementationAction));\nexports.GoToImplementationAction = GoToImplementationAction;\nvar PeekImplementationAction = /** @class */ (function (_super) {\n    tslib_1.__extends(PeekImplementationAction, _super);\n    function PeekImplementationAction() {\n        return _super.call(this, new DefinitionActionConfig(false, true, false), {\n            id: PeekImplementationAction.ID,\n            label: nls.localize('actions.peekImplementation.label', \"Peek Implementation\"),\n            alias: 'Peek Implementation',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasImplementationProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyMod.Shift | keyCodes_1.KeyCode.F12,\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            }\n        }) || this;\n    }\n    PeekImplementationAction.ID = 'editor.action.peekImplementation';\n    return PeekImplementationAction;\n}(ImplementationAction));\nexports.PeekImplementationAction = PeekImplementationAction;\nvar TypeDefinitionAction = /** @class */ (function (_super) {\n    tslib_1.__extends(TypeDefinitionAction, _super);\n    function TypeDefinitionAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TypeDefinitionAction.prototype._getTargetLocationForPosition = function (model, position, token) {\n        return goToDefinition_1.getTypeDefinitionsAtPosition(model, position, token);\n    };\n    TypeDefinitionAction.prototype._getNoResultFoundMessage = function (info) {\n        return info && info.word\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n    };\n    TypeDefinitionAction.prototype._getMetaTitle = function (model) {\n        return model.references.length > 1 ? nls.localize('meta.typeDefinitions.title', \" â€“ {0} type definitions\", model.references.length) : '';\n    };\n    return TypeDefinitionAction;\n}(DefinitionAction));\nexports.TypeDefinitionAction = TypeDefinitionAction;\nvar GoToTypeDefinitionAction = /** @class */ (function (_super) {\n    tslib_1.__extends(GoToTypeDefinitionAction, _super);\n    function GoToTypeDefinitionAction() {\n        return _super.call(this, new DefinitionActionConfig(), {\n            id: GoToTypeDefinitionAction.ID,\n            label: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n            alias: 'Go to Type Definition',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasTypeDefinitionProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            },\n            menuOpts: {\n                group: 'navigation',\n                order: 1.4\n            }\n        }) || this;\n    }\n    GoToTypeDefinitionAction.ID = 'editor.action.goToTypeDefinition';\n    return GoToTypeDefinitionAction;\n}(TypeDefinitionAction));\nexports.GoToTypeDefinitionAction = GoToTypeDefinitionAction;\nvar PeekTypeDefinitionAction = /** @class */ (function (_super) {\n    tslib_1.__extends(PeekTypeDefinitionAction, _super);\n    function PeekTypeDefinitionAction() {\n        return _super.call(this, new DefinitionActionConfig(false, true, false), {\n            id: PeekTypeDefinitionAction.ID,\n            label: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n            alias: 'Peek Type Definition',\n            precondition: contextkey_1.ContextKeyExpr.and(editorContextKeys_1.EditorContextKeys.hasTypeDefinitionProvider, editorContextKeys_1.EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            kbOpts: {\n                kbExpr: editorContextKeys_1.EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: keybindingsRegistry_1.KeybindingWeight.EditorContrib\n            }\n        }) || this;\n    }\n    PeekTypeDefinitionAction.ID = 'editor.action.peekTypeDefinition';\n    return PeekTypeDefinitionAction;\n}(TypeDefinitionAction));\nexports.PeekTypeDefinitionAction = PeekTypeDefinitionAction;\neditorExtensions_1.registerEditorAction(GoToDefinitionAction);\neditorExtensions_1.registerEditorAction(OpenDefinitionToSideAction);\neditorExtensions_1.registerEditorAction(PeekDefinitionAction);\neditorExtensions_1.registerEditorAction(GoToDeclarationAction);\neditorExtensions_1.registerEditorAction(PeekDeclarationAction);\neditorExtensions_1.registerEditorAction(GoToImplementationAction);\neditorExtensions_1.registerEditorAction(PeekImplementationAction);\neditorExtensions_1.registerEditorAction(GoToTypeDefinitionAction);\neditorExtensions_1.registerEditorAction(PeekTypeDefinitionAction);\n// Go to menu\nactions_1.MenuRegistry.appendMenuItem(actions_1.MenuId.MenubarGoMenu, {\n    group: '4_symbol_nav',\n    command: {\n        id: 'editor.action.goToDeclaration',\n        title: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\n    },\n    order: 2\n});\nactions_1.MenuRegistry.appendMenuItem(actions_1.MenuId.MenubarGoMenu, {\n    group: '4_symbol_nav',\n    command: {\n        id: 'editor.action.goToTypeDefinition',\n        title: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\n    },\n    order: 3\n});\nactions_1.MenuRegistry.appendMenuItem(actions_1.MenuId.MenubarGoMenu, {\n    group: '4_symbol_nav',\n    command: {\n        id: 'editor.action.goToImplementation',\n        title: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementation\")\n    },\n    order: 4\n});\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinitionCommands.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinitionCommands.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from 'vs/base/browser/ui/aria/aria';\nimport { createCancelablePromise } from 'vs/base/common/async';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { KeyChord, KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport * as platform from 'vs/base/common/platform';\nimport { ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport { EditorAction, IActionOptions, registerEditorAction, ServicesAccessor } from 'vs/editor/browser/editorExtensions';\nimport { ICodeEditorService } from 'vs/editor/browser/services/codeEditorService';\nimport * as corePosition from 'vs/editor/common/core/position';\nimport { Range, IRange } from 'vs/editor/common/core/range';\nimport { EditorContextKeys } from 'vs/editor/common/editorContextKeys';\nimport { ITextModel, IWordAtPosition } from 'vs/editor/common/model';\nimport { LocationLink, Location, isLocationLink } from 'vs/editor/common/modes';\nimport { MessageController } from 'vs/editor/contrib/message/messageController';\nimport { PeekContext } from 'vs/editor/contrib/referenceSearch/peekViewWidget';\nimport { ReferencesController } from 'vs/editor/contrib/referenceSearch/referencesController';\nimport { ReferencesModel } from 'vs/editor/contrib/referenceSearch/referencesModel';\nimport * as nls from 'vs/nls';\nimport { MenuId, MenuRegistry } from 'vs/platform/actions/common/actions';\nimport { ContextKeyExpr } from 'vs/platform/contextkey/common/contextkey';\nimport { KeybindingWeight } from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { IProgressService } from 'vs/platform/progress/common/progress';\nimport { getDefinitionsAtPosition, getImplementationsAtPosition, getTypeDefinitionsAtPosition, getDeclarationsAtPosition } from './goToDefinition';\nimport { CommandsRegistry } from 'vs/platform/commands/common/commands';\n\nexport class DefinitionActionConfig {\n\n\tconstructor(\n\t\tpublic readonly openToSide = false,\n\t\tpublic readonly openInPeek = false,\n\t\tpublic readonly filterCurrent = true,\n\t\tpublic readonly showMessage = true,\n\t) {\n\t\t//\n\t}\n}\n\nexport class DefinitionAction extends EditorAction {\n\n\tprivate readonly _configuration: DefinitionActionConfig;\n\n\tconstructor(configuration: DefinitionActionConfig, opts: IActionOptions) {\n\t\tsuper(opts);\n\t\tthis._configuration = configuration;\n\t}\n\n\tpublic run(accessor: ServicesAccessor, editor: ICodeEditor): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst progressService = accessor.get(IProgressService);\n\n\t\tconst model = editor.getModel();\n\t\tconst pos = editor.getPosition();\n\n\t\tconst definitionPromise = this._getTargetLocationForPosition(model, pos, CancellationToken.None).then(async references => {\n\n\t\t\tif (model.isDisposed() || editor.getModel() !== model) {\n\t\t\t\t// new model, no more model\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// * remove falsy references\n\t\t\t// * find reference at the current pos\n\t\t\tlet idxOfCurrent = -1;\n\t\t\tconst result: LocationLink[] = [];\n\t\t\tfor (const reference of references) {\n\t\t\t\tif (!reference || !reference.range) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst newLen = result.push(reference);\n\t\t\t\tif (this._configuration.filterCurrent\n\t\t\t\t\t&& reference.uri.toString() === model.uri.toString()\n\t\t\t\t\t&& Range.containsPosition(reference.range, pos)\n\t\t\t\t\t&& idxOfCurrent === -1\n\t\t\t\t) {\n\t\t\t\t\tidxOfCurrent = newLen - 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (result.length === 0) {\n\t\t\t\t// no result -> show message\n\t\t\t\tif (this._configuration.showMessage) {\n\t\t\t\t\tconst info = model.getWordAtPosition(pos);\n\t\t\t\t\tMessageController.get(editor).showMessage(this._getNoResultFoundMessage(info), pos);\n\t\t\t\t}\n\t\t\t} else if (result.length === 1 && idxOfCurrent !== -1) {\n\t\t\t\t// only the position at which we are -> adjust selection\n\t\t\t\tlet [current] = result;\n\t\t\t\treturn this._openReference(editor, editorService, current, false).then(() => undefined);\n\n\t\t\t} else {\n\t\t\t\t// handle multile results\n\t\t\t\treturn this._onResult(editorService, editor, new ReferencesModel(result));\n\t\t\t}\n\n\t\t}, (err) => {\n\t\t\t// report an error\n\t\t\tnotificationService.error(err);\n\t\t});\n\n\t\tprogressService.showWhile(definitionPromise, 250);\n\t\treturn definitionPromise;\n\t}\n\n\tprotected _getTargetLocationForPosition(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<LocationLink[]> {\n\t\treturn getDefinitionsAtPosition(model, position, token);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('generic.noResults', \"No definition found\");\n\t}\n\n\tprotected _getMetaTitle(model: ReferencesModel): string {\n\t\treturn model.references.length > 1 ? nls.localize('meta.title', \" â€“ {0} definitions\", model.references.length) : '';\n\t}\n\n\tprivate async _onResult(editorService: ICodeEditorService, editor: ICodeEditor, model: ReferencesModel): Promise<void> {\n\n\t\tconst msg = model.getAriaMessage();\n\t\talert(msg);\n\n\t\tconst { gotoLocation } = editor.getConfiguration().contribInfo;\n\t\tif (this._configuration.openInPeek || (gotoLocation.multiple === 'peek' && model.references.length > 1)) {\n\t\t\tthis._openInPeek(editorService, editor, model);\n\n\t\t} else if (editor.hasModel()) {\n\t\t\tconst next = model.firstReference();\n\t\t\tif (!next) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst targetEditor = await this._openReference(editor, editorService, next, this._configuration.openToSide);\n\t\t\tif (targetEditor && model.references.length > 1 && gotoLocation.multiple === 'gotoAndPeek') {\n\t\t\t\tthis._openInPeek(editorService, targetEditor, model);\n\t\t\t} else {\n\t\t\t\tmodel.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _openReference(editor: ICodeEditor, editorService: ICodeEditorService, reference: Location | LocationLink, sideBySide: boolean): Promise<ICodeEditor | null> {\n\t\t// range is the target-selection-range when we have one\n\t\t// and the the fallback is the 'full' range\n\t\tlet range: IRange | undefined = undefined;\n\t\tif (isLocationLink(reference)) {\n\t\t\trange = reference.targetSelectionRange;\n\t\t}\n\t\tif (!range) {\n\t\t\trange = reference.range;\n\t\t}\n\n\t\treturn editorService.openCodeEditor({\n\t\t\tresource: reference.uri,\n\t\t\toptions: {\n\t\t\t\tselection: Range.collapseToStart(range),\n\t\t\t\trevealIfOpened: true,\n\t\t\t\trevealInCenterIfOutsideViewport: true\n\t\t\t}\n\t\t}, editor, sideBySide);\n\t}\n\n\tprivate _openInPeek(editorService: ICodeEditorService, target: ICodeEditor, model: ReferencesModel) {\n\t\tlet controller = ReferencesController.get(target);\n\t\tif (controller && target.hasModel()) {\n\t\t\tcontroller.toggleWidget(target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), {\n\t\t\t\tgetMetaTitle: (model) => {\n\t\t\t\t\treturn this._getMetaTitle(model);\n\t\t\t\t},\n\t\t\t\tonGoto: (reference) => {\n\t\t\t\t\tcontroller.closeWidget();\n\t\t\t\t\treturn this._openReference(target, editorService, reference, false);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tmodel.dispose();\n\t\t}\n\t}\n}\n\nconst goToDefinitionKb = platform.isWeb\n\t? KeyMod.CtrlCmd | KeyCode.F12\n\t: KeyCode.F12;\n\nexport class GoToDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinition';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(), {\n\t\t\tid: GoToDefinitionAction.id,\n\t\t\tlabel: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n\t\t\talias: 'Go to Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: goToDefinitionKb,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.1\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n\t}\n}\n\nexport class OpenDefinitionToSideAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinitionAside';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(true), {\n\t\t\tid: OpenDefinitionToSideAction.id,\n\t\t\tlabel: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n\t\t\talias: 'Open Definition to the Side',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KEY_K, goToDefinitionKb),\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n\t}\n}\n\nexport class PeekDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.peekDefinition';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(undefined, true, false), {\n\t\t\tid: PeekDefinitionAction.id,\n\t\t\tlabel: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n\t\t\talias: 'Peek Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.F12,\n\t\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F10 },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.2\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n\t}\n}\n\nexport class DeclarationAction extends DefinitionAction {\n\n\tprotected _getTargetLocationForPosition(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<LocationLink[]> {\n\t\treturn getDeclarationsAtPosition(model, position, token);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n\n\tprotected _getMetaTitle(model: ReferencesModel): string {\n\t\treturn model.references.length > 1 ? nls.localize('decl.meta.title', \" â€“ {0} declarations\", model.references.length) : '';\n\t}\n}\n\nexport class GoToDeclarationAction extends DeclarationAction {\n\n\tstatic readonly id = 'editor.action.revealDeclaration';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(), {\n\t\t\tid: GoToDeclarationAction.id,\n\t\t\tlabel: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n\t\t\talias: 'Go to Declaration',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tmenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.3\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n\n\tprotected _getMetaTitle(model: ReferencesModel): string {\n\t\treturn model.references.length > 1 ? nls.localize('decl.meta.title', \" â€“ {0} declarations\", model.references.length) : '';\n\t}\n}\n\nexport class PeekDeclarationAction extends DeclarationAction {\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(undefined, true, false), {\n\t\t\tid: 'editor.action.peekDeclaration',\n\t\t\tlabel: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n\t\t\talias: 'Peek Declaration',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tmenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.31\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class ImplementationAction extends DefinitionAction {\n\tprotected _getTargetLocationForPosition(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<LocationLink[]> {\n\t\treturn getImplementationsAtPosition(model, position, token);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n\t}\n\n\tprotected _getMetaTitle(model: ReferencesModel): string {\n\t\treturn model.references.length > 1 ? nls.localize('meta.implementations.title', \" â€“ {0} implementations\", model.references.length) : '';\n\t}\n}\n\nexport class GoToImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.goToImplementation';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(), {\n\t\t\tid: GoToImplementationAction.ID,\n\t\t\tlabel: nls.localize('actions.goToImplementation.label', \"Go to Implementation\"),\n\t\t\talias: 'Go to Implementation',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class PeekImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.peekImplementation';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(false, true, false), {\n\t\t\tid: PeekImplementationAction.ID,\n\t\t\tlabel: nls.localize('actions.peekImplementation.label', \"Peek Implementation\"),\n\t\t\talias: 'Peek Implementation',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class TypeDefinitionAction extends DefinitionAction {\n\tprotected _getTargetLocationForPosition(model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<LocationLink[]> {\n\t\treturn getTypeDefinitionsAtPosition(model, position, token);\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n\t}\n\n\tprotected _getMetaTitle(model: ReferencesModel): string {\n\t\treturn model.references.length > 1 ? nls.localize('meta.typeDefinitions.title', \" â€“ {0} type definitions\", model.references.length) : '';\n\t}\n}\n\nexport class GoToTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.goToTypeDefinition';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(), {\n\t\t\tid: GoToTypeDefinitionAction.ID,\n\t\t\tlabel: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n\t\t\talias: 'Go to Type Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: 0,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenuOpts: {\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.4\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport class PeekTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.peekTypeDefinition';\n\n\tconstructor() {\n\t\tsuper(new DefinitionActionConfig(false, true, false), {\n\t\t\tid: PeekTypeDefinitionAction.ID,\n\t\t\tlabel: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n\t\t\talias: 'Peek Type Definition',\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: 0,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n}\n\nregisterEditorAction(GoToDefinitionAction);\nregisterEditorAction(OpenDefinitionToSideAction);\nregisterEditorAction(PeekDefinitionAction);\nregisterEditorAction(GoToDeclarationAction);\nregisterEditorAction(PeekDeclarationAction);\nregisterEditorAction(GoToImplementationAction);\nregisterEditorAction(PeekImplementationAction);\nregisterEditorAction(GoToTypeDefinitionAction);\nregisterEditorAction(PeekTypeDefinitionAction);\n\n// Go to menu\nMenuRegistry.appendMenuItem(MenuId.MenubarGoMenu, {\n\tgroup: '4_symbol_nav',\n\tcommand: {\n\t\tid: 'editor.action.goToDeclaration',\n\t\ttitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\n\t},\n\torder: 2\n});\n\nMenuRegistry.appendMenuItem(MenuId.MenubarGoMenu, {\n\tgroup: '4_symbol_nav',\n\tcommand: {\n\t\tid: 'editor.action.goToTypeDefinition',\n\t\ttitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\n\t},\n\torder: 3\n});\n\nMenuRegistry.appendMenuItem(MenuId.MenubarGoMenu, {\n\tgroup: '4_symbol_nav',\n\tcommand: {\n\t\tid: 'editor.action.goToImplementation',\n\t\ttitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementation\")\n\t},\n\torder: 4\n});\n"]}]}