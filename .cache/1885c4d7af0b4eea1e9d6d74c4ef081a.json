{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/contrib/documentSymbols/outlineTree.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/documentSymbols/outlineTree.ts","mtime":1555102316000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _a;\nvar dom = require(\"vs/base/browser/dom\");\nvar highlightedLabel_1 = require(\"vs/base/browser/ui/highlightedlabel/highlightedLabel\");\nvar collections_1 = require(\"vs/base/common/collections\");\nvar filters_1 = require(\"vs/base/common/filters\");\nrequire(\"vs/css!./media/outlineTree\");\nrequire(\"vs/css!./media/symbol-icons\");\nvar range_1 = require(\"vs/editor/common/core/range\");\nvar modes_1 = require(\"vs/editor/common/modes\");\nvar outlineModel_1 = require(\"vs/editor/contrib/documentSymbols/outlineModel\");\nvar nls_1 = require(\"vs/nls\");\nvar keybinding_1 = require(\"vs/platform/keybinding/common/keybinding\");\nvar iconLabel_1 = require(\"vs/base/browser/ui/iconLabel/iconLabel\");\nvar configuration_1 = require(\"vs/platform/configuration/common/configuration\");\nvar outline_1 = require(\"vs/editor/contrib/documentSymbols/outline\");\nvar markers_1 = require(\"vs/platform/markers/common/markers\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar colorRegistry_1 = require(\"vs/platform/theme/common/colorRegistry\");\nvar OutlineNavigationLabelProvider = /** @class */ (function () {\n    function OutlineNavigationLabelProvider(_keybindingService) {\n        this._keybindingService = _keybindingService;\n    }\n    OutlineNavigationLabelProvider.prototype.getKeyboardNavigationLabel = function (element) {\n        if (element instanceof outlineModel_1.OutlineGroup) {\n            return element.provider.displayName || element.id;\n        }\n        else {\n            return element.symbol.name;\n        }\n    };\n    OutlineNavigationLabelProvider.prototype.mightProducePrintableCharacter = function (event) {\n        return this._keybindingService.mightProducePrintableCharacter(event);\n    };\n    OutlineNavigationLabelProvider = tslib_1.__decorate([\n        tslib_1.__param(0, keybinding_1.IKeybindingService)\n    ], OutlineNavigationLabelProvider);\n    return OutlineNavigationLabelProvider;\n}());\nexports.OutlineNavigationLabelProvider = OutlineNavigationLabelProvider;\nvar OutlineIdentityProvider = /** @class */ (function () {\n    function OutlineIdentityProvider() {\n    }\n    OutlineIdentityProvider.prototype.getId = function (element) {\n        return element.id;\n    };\n    return OutlineIdentityProvider;\n}());\nexports.OutlineIdentityProvider = OutlineIdentityProvider;\nvar OutlineGroupTemplate = /** @class */ (function () {\n    function OutlineGroupTemplate() {\n    }\n    OutlineGroupTemplate.id = 'OutlineGroupTemplate';\n    return OutlineGroupTemplate;\n}());\nexports.OutlineGroupTemplate = OutlineGroupTemplate;\nvar OutlineElementTemplate = /** @class */ (function () {\n    function OutlineElementTemplate() {\n    }\n    OutlineElementTemplate.id = 'OutlineElementTemplate';\n    return OutlineElementTemplate;\n}());\nexports.OutlineElementTemplate = OutlineElementTemplate;\nvar OutlineVirtualDelegate = /** @class */ (function () {\n    function OutlineVirtualDelegate() {\n    }\n    OutlineVirtualDelegate.prototype.getHeight = function (_element) {\n        return 22;\n    };\n    OutlineVirtualDelegate.prototype.getTemplateId = function (element) {\n        if (element instanceof outlineModel_1.OutlineGroup) {\n            return OutlineGroupTemplate.id;\n        }\n        else {\n            return OutlineElementTemplate.id;\n        }\n    };\n    return OutlineVirtualDelegate;\n}());\nexports.OutlineVirtualDelegate = OutlineVirtualDelegate;\nvar OutlineGroupRenderer = /** @class */ (function () {\n    function OutlineGroupRenderer() {\n        this.templateId = OutlineGroupTemplate.id;\n    }\n    OutlineGroupRenderer.prototype.renderTemplate = function (container) {\n        var labelContainer = dom.$('.outline-element-label');\n        dom.addClass(container, 'outline-element');\n        dom.append(container, labelContainer);\n        return { labelContainer: labelContainer, label: new highlightedLabel_1.HighlightedLabel(labelContainer, true) };\n    };\n    OutlineGroupRenderer.prototype.renderElement = function (node, index, template) {\n        template.label.set(node.element.provider.displayName || nls_1.localize('provider', \"Outline Provider\"), filters_1.createMatches(node.filterData));\n    };\n    OutlineGroupRenderer.prototype.disposeTemplate = function (_template) {\n        // nothing\n    };\n    return OutlineGroupRenderer;\n}());\nexports.OutlineGroupRenderer = OutlineGroupRenderer;\nvar OutlineElementRenderer = /** @class */ (function () {\n    function OutlineElementRenderer(_configurationService, _themeService) {\n        this._configurationService = _configurationService;\n        this._themeService = _themeService;\n        this.templateId = OutlineElementTemplate.id;\n    }\n    OutlineElementRenderer.prototype.renderTemplate = function (container) {\n        dom.addClass(container, 'outline-element');\n        var iconLabel = new iconLabel_1.IconLabel(container, { supportHighlights: true });\n        var decoration = dom.$('.outline-element-decoration');\n        container.appendChild(decoration);\n        return { container: container, iconLabel: iconLabel, decoration: decoration };\n    };\n    OutlineElementRenderer.prototype.renderElement = function (node, index, template) {\n        var element = node.element;\n        var options = {\n            matches: filters_1.createMatches(node.filterData),\n            labelEscapeNewLines: true,\n            extraClasses: [],\n            title: nls_1.localize('title.template', \"{0} ({1})\", element.symbol.name, OutlineElementRenderer._symbolKindNames[element.symbol.kind])\n        };\n        if (this._configurationService.getValue(outline_1.OutlineConfigKeys.icons)) {\n            // add styles for the icons\n            options.extraClasses.push(\"outline-element-icon \" + modes_1.symbolKindToCssClass(element.symbol.kind, true));\n        }\n        template.iconLabel.setLabel(element.symbol.name, element.symbol.detail, options);\n        this._renderMarkerInfo(element, template);\n    };\n    OutlineElementRenderer.prototype._renderMarkerInfo = function (element, template) {\n        if (!element.marker) {\n            dom.hide(template.decoration);\n            template.container.style.removeProperty('--outline-element-color');\n            return;\n        }\n        var _a = element.marker, count = _a.count, topSev = _a.topSev;\n        var color = this._themeService.getTheme().getColor(topSev === markers_1.MarkerSeverity.Error ? colorRegistry_1.listErrorForeground : colorRegistry_1.listWarningForeground);\n        var cssColor = color ? color.toString() : 'inherit';\n        // color of the label\n        if (this._configurationService.getValue(outline_1.OutlineConfigKeys.problemsColors)) {\n            template.container.style.setProperty('--outline-element-color', cssColor);\n        }\n        else {\n            template.container.style.removeProperty('--outline-element-color');\n        }\n        // badge with color/rollup\n        if (!this._configurationService.getValue(outline_1.OutlineConfigKeys.problemsBadges)) {\n            dom.hide(template.decoration);\n        }\n        else if (count > 0) {\n            dom.show(template.decoration);\n            dom.removeClass(template.decoration, 'bubble');\n            template.decoration.innerText = count < 10 ? count.toString() : '+9';\n            template.decoration.title = count === 1 ? nls_1.localize('1.problem', \"1 problem in this element\") : nls_1.localize('N.problem', \"{0} problems in this element\", count);\n            template.decoration.style.setProperty('--outline-element-color', cssColor);\n        }\n        else {\n            dom.show(template.decoration);\n            dom.addClass(template.decoration, 'bubble');\n            template.decoration.innerText = '\\uf052';\n            template.decoration.title = nls_1.localize('deep.problem', \"Contains elements with problems\");\n            template.decoration.style.setProperty('--outline-element-color', cssColor);\n        }\n    };\n    OutlineElementRenderer.prototype.disposeTemplate = function (_template) {\n        _template.iconLabel.dispose();\n    };\n    OutlineElementRenderer._symbolKindNames = (_a = {},\n        _a[modes_1.SymbolKind.Array] = nls_1.localize('Array', \"array\"),\n        _a[modes_1.SymbolKind.Boolean] = nls_1.localize('Boolean', \"boolean\"),\n        _a[modes_1.SymbolKind.Class] = nls_1.localize('Class', \"class\"),\n        _a[modes_1.SymbolKind.Constant] = nls_1.localize('Constant', \"constant\"),\n        _a[modes_1.SymbolKind.Constructor] = nls_1.localize('Constructor', \"constructor\"),\n        _a[modes_1.SymbolKind.Enum] = nls_1.localize('Enum', \"enumeration\"),\n        _a[modes_1.SymbolKind.EnumMember] = nls_1.localize('EnumMember', \"enumeration member\"),\n        _a[modes_1.SymbolKind.Event] = nls_1.localize('Event', \"event\"),\n        _a[modes_1.SymbolKind.Field] = nls_1.localize('Field', \"field\"),\n        _a[modes_1.SymbolKind.File] = nls_1.localize('File', \"file\"),\n        _a[modes_1.SymbolKind.Function] = nls_1.localize('Function', \"function\"),\n        _a[modes_1.SymbolKind.Interface] = nls_1.localize('Interface', \"interface\"),\n        _a[modes_1.SymbolKind.Key] = nls_1.localize('Key', \"key\"),\n        _a[modes_1.SymbolKind.Method] = nls_1.localize('Method', \"method\"),\n        _a[modes_1.SymbolKind.Module] = nls_1.localize('Module', \"module\"),\n        _a[modes_1.SymbolKind.Namespace] = nls_1.localize('Namespace', \"namespace\"),\n        _a[modes_1.SymbolKind.Null] = nls_1.localize('Null', \"null\"),\n        _a[modes_1.SymbolKind.Number] = nls_1.localize('Number', \"number\"),\n        _a[modes_1.SymbolKind.Object] = nls_1.localize('Object', \"object\"),\n        _a[modes_1.SymbolKind.Operator] = nls_1.localize('Operator', \"operator\"),\n        _a[modes_1.SymbolKind.Package] = nls_1.localize('Package', \"package\"),\n        _a[modes_1.SymbolKind.Property] = nls_1.localize('Property', \"property\"),\n        _a[modes_1.SymbolKind.String] = nls_1.localize('String', \"string\"),\n        _a[modes_1.SymbolKind.Struct] = nls_1.localize('Struct', \"struct\"),\n        _a[modes_1.SymbolKind.TypeParameter] = nls_1.localize('TypeParameter', \"type parameter\"),\n        _a[modes_1.SymbolKind.Variable] = nls_1.localize('Variable', \"variable\"),\n        _a);\n    OutlineElementRenderer = tslib_1.__decorate([\n        tslib_1.__param(0, configuration_1.IConfigurationService),\n        tslib_1.__param(1, themeService_1.IThemeService)\n    ], OutlineElementRenderer);\n    return OutlineElementRenderer;\n}());\nexports.OutlineElementRenderer = OutlineElementRenderer;\nvar OutlineSortOrder;\n(function (OutlineSortOrder) {\n    OutlineSortOrder[OutlineSortOrder[\"ByPosition\"] = 0] = \"ByPosition\";\n    OutlineSortOrder[OutlineSortOrder[\"ByName\"] = 1] = \"ByName\";\n    OutlineSortOrder[OutlineSortOrder[\"ByKind\"] = 2] = \"ByKind\";\n})(OutlineSortOrder = exports.OutlineSortOrder || (exports.OutlineSortOrder = {}));\nvar OutlineItemComparator = /** @class */ (function () {\n    function OutlineItemComparator(type) {\n        if (type === void 0) { type = OutlineSortOrder.ByPosition; }\n        this.type = type;\n    }\n    OutlineItemComparator.prototype.compare = function (a, b) {\n        if (a instanceof outlineModel_1.OutlineGroup && b instanceof outlineModel_1.OutlineGroup) {\n            return a.providerIndex - b.providerIndex;\n        }\n        else if (a instanceof outlineModel_1.OutlineElement && b instanceof outlineModel_1.OutlineElement) {\n            if (this.type === OutlineSortOrder.ByKind) {\n                return a.symbol.kind - b.symbol.kind || a.symbol.name.localeCompare(b.symbol.name);\n            }\n            else if (this.type === OutlineSortOrder.ByName) {\n                return a.symbol.name.localeCompare(b.symbol.name) || range_1.Range.compareRangesUsingStarts(a.symbol.range, b.symbol.range);\n            }\n            else if (this.type === OutlineSortOrder.ByPosition) {\n                return range_1.Range.compareRangesUsingStarts(a.symbol.range, b.symbol.range) || a.symbol.name.localeCompare(b.symbol.name);\n            }\n        }\n        return 0;\n    };\n    return OutlineItemComparator;\n}());\nexports.OutlineItemComparator = OutlineItemComparator;\nvar OutlineDataSource = /** @class */ (function () {\n    function OutlineDataSource() {\n    }\n    OutlineDataSource.prototype.getChildren = function (element) {\n        if (!element) {\n            return [];\n        }\n        return collections_1.values(element.children);\n    };\n    return OutlineDataSource;\n}());\nexports.OutlineDataSource = OutlineDataSource;\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/documentSymbols/outlineTree.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/contrib/documentSymbols/outlineTree.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from 'vs/base/browser/dom';\nimport { HighlightedLabel } from 'vs/base/browser/ui/highlightedlabel/highlightedLabel';\nimport { IIdentityProvider, IKeyboardNavigationLabelProvider, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { IDataSource, ITreeNode, ITreeRenderer, ITreeSorter } from 'vs/base/browser/ui/tree/tree';\nimport { values } from 'vs/base/common/collections';\nimport { createMatches, FuzzyScore } from 'vs/base/common/filters';\nimport 'vs/css!./media/outlineTree';\nimport 'vs/css!./media/symbol-icons';\nimport { Range } from 'vs/editor/common/core/range';\nimport { SymbolKind, symbolKindToCssClass } from 'vs/editor/common/modes';\nimport { OutlineElement, OutlineGroup, OutlineModel, TreeElement } from 'vs/editor/contrib/documentSymbols/outlineModel';\nimport { localize } from 'vs/nls';\nimport { IKeybindingService, IKeyboardEvent } from 'vs/platform/keybinding/common/keybinding';\nimport { IconLabel } from 'vs/base/browser/ui/iconLabel/iconLabel';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { OutlineConfigKeys } from 'vs/editor/contrib/documentSymbols/outline';\nimport { MarkerSeverity } from 'vs/platform/markers/common/markers';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { listErrorForeground, listWarningForeground } from 'vs/platform/theme/common/colorRegistry';\n\nexport type OutlineItem = OutlineGroup | OutlineElement;\n\nexport class OutlineNavigationLabelProvider implements IKeyboardNavigationLabelProvider<OutlineItem> {\n\n\tconstructor(@IKeybindingService private readonly _keybindingService: IKeybindingService) { }\n\n\tgetKeyboardNavigationLabel(element: OutlineItem): { toString(): string; } {\n\t\tif (element instanceof OutlineGroup) {\n\t\t\treturn element.provider.displayName || element.id;\n\t\t} else {\n\t\t\treturn element.symbol.name;\n\t\t}\n\t}\n\n\tmightProducePrintableCharacter(event: IKeyboardEvent): boolean {\n\t\treturn this._keybindingService.mightProducePrintableCharacter(event);\n\t}\n}\n\n\nexport class OutlineIdentityProvider implements IIdentityProvider<OutlineItem> {\n\tgetId(element: TreeElement): { toString(): string; } {\n\t\treturn element.id;\n\t}\n}\n\nexport class OutlineGroupTemplate {\n\tstatic id = 'OutlineGroupTemplate';\n\n\tlabelContainer: HTMLElement;\n\tlabel: HighlightedLabel;\n}\n\nexport class OutlineElementTemplate {\n\tstatic id = 'OutlineElementTemplate';\n\tcontainer: HTMLElement;\n\ticonLabel: IconLabel;\n\tdecoration: HTMLElement;\n}\n\nexport class OutlineVirtualDelegate implements IListVirtualDelegate<OutlineItem> {\n\n\tgetHeight(_element: OutlineItem): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: OutlineItem): string {\n\t\tif (element instanceof OutlineGroup) {\n\t\t\treturn OutlineGroupTemplate.id;\n\t\t} else {\n\t\t\treturn OutlineElementTemplate.id;\n\t\t}\n\t}\n}\n\nexport class OutlineGroupRenderer implements ITreeRenderer<OutlineGroup, FuzzyScore, OutlineGroupTemplate> {\n\n\treadonly templateId: string = OutlineGroupTemplate.id;\n\n\trenderTemplate(container: HTMLElement): OutlineGroupTemplate {\n\t\tconst labelContainer = dom.$('.outline-element-label');\n\t\tdom.addClass(container, 'outline-element');\n\t\tdom.append(container, labelContainer);\n\t\treturn { labelContainer, label: new HighlightedLabel(labelContainer, true) };\n\t}\n\n\trenderElement(node: ITreeNode<OutlineGroup, FuzzyScore>, index: number, template: OutlineGroupTemplate): void {\n\t\ttemplate.label.set(\n\t\t\tnode.element.provider.displayName || localize('provider', \"Outline Provider\"),\n\t\t\tcreateMatches(node.filterData)\n\t\t);\n\t}\n\n\tdisposeTemplate(_template: OutlineGroupTemplate): void {\n\t\t// nothing\n\t}\n}\n\nexport class OutlineElementRenderer implements ITreeRenderer<OutlineElement, FuzzyScore, OutlineElementTemplate> {\n\n\treadonly templateId: string = OutlineElementTemplate.id;\n\n\tconstructor(\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): OutlineElementTemplate {\n\t\tdom.addClass(container, 'outline-element');\n\t\tconst iconLabel = new IconLabel(container, { supportHighlights: true });\n\t\tconst decoration = dom.$('.outline-element-decoration');\n\t\tcontainer.appendChild(decoration);\n\t\treturn { container, iconLabel, decoration };\n\t}\n\n\trenderElement(node: ITreeNode<OutlineElement, FuzzyScore>, index: number, template: OutlineElementTemplate): void {\n\t\tconst { element } = node;\n\t\tconst options = {\n\t\t\tmatches: createMatches(node.filterData),\n\t\t\tlabelEscapeNewLines: true,\n\t\t\textraClasses: <string[]>[],\n\t\t\ttitle: localize('title.template', \"{0} ({1})\", element.symbol.name, OutlineElementRenderer._symbolKindNames[element.symbol.kind])\n\t\t};\n\t\tif (this._configurationService.getValue(OutlineConfigKeys.icons)) {\n\t\t\t// add styles for the icons\n\t\t\toptions.extraClasses.push(`outline-element-icon ${symbolKindToCssClass(element.symbol.kind, true)}`);\n\t\t}\n\t\ttemplate.iconLabel.setLabel(element.symbol.name, element.symbol.detail, options);\n\t\tthis._renderMarkerInfo(element, template);\n\t}\n\n\tprivate _renderMarkerInfo(element: OutlineElement, template: OutlineElementTemplate): void {\n\n\t\tif (!element.marker) {\n\t\t\tdom.hide(template.decoration);\n\t\t\ttemplate.container.style.removeProperty('--outline-element-color');\n\t\t\treturn;\n\t\t}\n\n\t\tconst { count, topSev } = element.marker;\n\t\tconst color = this._themeService.getTheme().getColor(topSev === MarkerSeverity.Error ? listErrorForeground : listWarningForeground);\n\t\tconst cssColor = color ? color.toString() : 'inherit';\n\n\t\t// color of the label\n\t\tif (this._configurationService.getValue(OutlineConfigKeys.problemsColors)) {\n\t\t\ttemplate.container.style.setProperty('--outline-element-color', cssColor);\n\t\t} else {\n\t\t\ttemplate.container.style.removeProperty('--outline-element-color');\n\t\t}\n\n\t\t// badge with color/rollup\n\t\tif (!this._configurationService.getValue(OutlineConfigKeys.problemsBadges)) {\n\t\t\tdom.hide(template.decoration);\n\n\t\t} else if (count > 0) {\n\t\t\tdom.show(template.decoration);\n\t\t\tdom.removeClass(template.decoration, 'bubble');\n\t\t\ttemplate.decoration.innerText = count < 10 ? count.toString() : '+9';\n\t\t\ttemplate.decoration.title = count === 1 ? localize('1.problem', \"1 problem in this element\") : localize('N.problem', \"{0} problems in this element\", count);\n\t\t\ttemplate.decoration.style.setProperty('--outline-element-color', cssColor);\n\n\t\t} else {\n\t\t\tdom.show(template.decoration);\n\t\t\tdom.addClass(template.decoration, 'bubble');\n\t\t\ttemplate.decoration.innerText = '\\uf052';\n\t\t\ttemplate.decoration.title = localize('deep.problem', \"Contains elements with problems\");\n\t\t\ttemplate.decoration.style.setProperty('--outline-element-color', cssColor);\n\t\t}\n\t}\n\n\tprivate static _symbolKindNames: { [symbol: number]: string } = {\n\t\t[SymbolKind.Array]: localize('Array', \"array\"),\n\t\t[SymbolKind.Boolean]: localize('Boolean', \"boolean\"),\n\t\t[SymbolKind.Class]: localize('Class', \"class\"),\n\t\t[SymbolKind.Constant]: localize('Constant', \"constant\"),\n\t\t[SymbolKind.Constructor]: localize('Constructor', \"constructor\"),\n\t\t[SymbolKind.Enum]: localize('Enum', \"enumeration\"),\n\t\t[SymbolKind.EnumMember]: localize('EnumMember', \"enumeration member\"),\n\t\t[SymbolKind.Event]: localize('Event', \"event\"),\n\t\t[SymbolKind.Field]: localize('Field', \"field\"),\n\t\t[SymbolKind.File]: localize('File', \"file\"),\n\t\t[SymbolKind.Function]: localize('Function', \"function\"),\n\t\t[SymbolKind.Interface]: localize('Interface', \"interface\"),\n\t\t[SymbolKind.Key]: localize('Key', \"key\"),\n\t\t[SymbolKind.Method]: localize('Method', \"method\"),\n\t\t[SymbolKind.Module]: localize('Module', \"module\"),\n\t\t[SymbolKind.Namespace]: localize('Namespace', \"namespace\"),\n\t\t[SymbolKind.Null]: localize('Null', \"null\"),\n\t\t[SymbolKind.Number]: localize('Number', \"number\"),\n\t\t[SymbolKind.Object]: localize('Object', \"object\"),\n\t\t[SymbolKind.Operator]: localize('Operator', \"operator\"),\n\t\t[SymbolKind.Package]: localize('Package', \"package\"),\n\t\t[SymbolKind.Property]: localize('Property', \"property\"),\n\t\t[SymbolKind.String]: localize('String', \"string\"),\n\t\t[SymbolKind.Struct]: localize('Struct', \"struct\"),\n\t\t[SymbolKind.TypeParameter]: localize('TypeParameter', \"type parameter\"),\n\t\t[SymbolKind.Variable]: localize('Variable', \"variable\"),\n\t};\n\n\tdisposeTemplate(_template: OutlineElementTemplate): void {\n\t\t_template.iconLabel.dispose();\n\t}\n}\n\nexport const enum OutlineSortOrder {\n\tByPosition,\n\tByName,\n\tByKind\n}\n\nexport class OutlineItemComparator implements ITreeSorter<OutlineItem> {\n\n\tconstructor(\n\t\tpublic type: OutlineSortOrder = OutlineSortOrder.ByPosition\n\t) { }\n\n\tcompare(a: OutlineItem, b: OutlineItem): number {\n\t\tif (a instanceof OutlineGroup && b instanceof OutlineGroup) {\n\t\t\treturn a.providerIndex - b.providerIndex;\n\n\t\t} else if (a instanceof OutlineElement && b instanceof OutlineElement) {\n\t\t\tif (this.type === OutlineSortOrder.ByKind) {\n\t\t\t\treturn a.symbol.kind - b.symbol.kind || a.symbol.name.localeCompare(b.symbol.name);\n\t\t\t} else if (this.type === OutlineSortOrder.ByName) {\n\t\t\t\treturn a.symbol.name.localeCompare(b.symbol.name) || Range.compareRangesUsingStarts(a.symbol.range, b.symbol.range);\n\t\t\t} else if (this.type === OutlineSortOrder.ByPosition) {\n\t\t\t\treturn Range.compareRangesUsingStarts(a.symbol.range, b.symbol.range) || a.symbol.name.localeCompare(b.symbol.name);\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n}\n\nexport class OutlineDataSource implements IDataSource<OutlineModel, OutlineItem> {\n\n\tgetChildren(element: undefined | OutlineModel | OutlineGroup | OutlineElement): OutlineItem[] {\n\t\tif (!element) {\n\t\t\treturn [];\n\t\t}\n\t\treturn values(element.children);\n\t}\n}\n"]}]}