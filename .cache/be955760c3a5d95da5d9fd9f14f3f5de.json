{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight.ts","mtime":1555102316000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nrequire(\"vs/css!./currentLineHighlight\");\nvar dynamicViewOverlay_1 = require(\"vs/editor/browser/view/dynamicViewOverlay\");\nvar editorColorRegistry_1 = require(\"vs/editor/common/view/editorColorRegistry\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar CurrentLineHighlightOverlay = /** @class */ (function (_super) {\n    tslib_1.__extends(CurrentLineHighlightOverlay, _super);\n    function CurrentLineHighlightOverlay(context) {\n        var _this = _super.call(this) || this;\n        _this._context = context;\n        _this._lineHeight = _this._context.configuration.editor.lineHeight;\n        _this._renderLineHighlight = _this._context.configuration.editor.viewInfo.renderLineHighlight;\n        _this._selectionIsEmpty = true;\n        _this._primaryCursorLineNumber = 1;\n        _this._scrollWidth = 0;\n        _this._contentWidth = _this._context.configuration.editor.layoutInfo.contentWidth;\n        _this._context.addEventHandler(_this);\n        return _this;\n    }\n    CurrentLineHighlightOverlay.prototype.dispose = function () {\n        this._context.removeEventHandler(this);\n        _super.prototype.dispose.call(this);\n    };\n    // --- begin event handlers\n    CurrentLineHighlightOverlay.prototype.onConfigurationChanged = function (e) {\n        if (e.lineHeight) {\n            this._lineHeight = this._context.configuration.editor.lineHeight;\n        }\n        if (e.viewInfo) {\n            this._renderLineHighlight = this._context.configuration.editor.viewInfo.renderLineHighlight;\n        }\n        if (e.layoutInfo) {\n            this._contentWidth = this._context.configuration.editor.layoutInfo.contentWidth;\n        }\n        return true;\n    };\n    CurrentLineHighlightOverlay.prototype.onCursorStateChanged = function (e) {\n        var hasChanged = false;\n        var primaryCursorLineNumber = e.selections[0].positionLineNumber;\n        if (this._primaryCursorLineNumber !== primaryCursorLineNumber) {\n            this._primaryCursorLineNumber = primaryCursorLineNumber;\n            hasChanged = true;\n        }\n        var selectionIsEmpty = e.selections[0].isEmpty();\n        if (this._selectionIsEmpty !== selectionIsEmpty) {\n            this._selectionIsEmpty = selectionIsEmpty;\n            return true;\n        }\n        return hasChanged;\n    };\n    CurrentLineHighlightOverlay.prototype.onFlushed = function (e) {\n        return true;\n    };\n    CurrentLineHighlightOverlay.prototype.onLinesDeleted = function (e) {\n        return true;\n    };\n    CurrentLineHighlightOverlay.prototype.onLinesInserted = function (e) {\n        return true;\n    };\n    CurrentLineHighlightOverlay.prototype.onScrollChanged = function (e) {\n        return e.scrollWidthChanged;\n    };\n    CurrentLineHighlightOverlay.prototype.onZonesChanged = function (e) {\n        return true;\n    };\n    // --- end event handlers\n    CurrentLineHighlightOverlay.prototype.prepareRender = function (ctx) {\n        this._scrollWidth = ctx.scrollWidth;\n    };\n    CurrentLineHighlightOverlay.prototype.render = function (startLineNumber, lineNumber) {\n        if (lineNumber === this._primaryCursorLineNumber) {\n            if (this._shouldShowCurrentLine()) {\n                var paintedInMargin = this._willRenderMarginCurrentLine();\n                var className = 'current-line' + (paintedInMargin ? ' current-line-both' : '');\n                return ('<div class=\"'\n                    + className\n                    + '\" style=\"width:'\n                    + String(Math.max(this._scrollWidth, this._contentWidth))\n                    + 'px; height:'\n                    + String(this._lineHeight)\n                    + 'px;\"></div>');\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    CurrentLineHighlightOverlay.prototype._shouldShowCurrentLine = function () {\n        return ((this._renderLineHighlight === 'line' || this._renderLineHighlight === 'all')\n            && this._selectionIsEmpty);\n    };\n    CurrentLineHighlightOverlay.prototype._willRenderMarginCurrentLine = function () {\n        return ((this._renderLineHighlight === 'gutter' || this._renderLineHighlight === 'all'));\n    };\n    return CurrentLineHighlightOverlay;\n}(dynamicViewOverlay_1.DynamicViewOverlay));\nexports.CurrentLineHighlightOverlay = CurrentLineHighlightOverlay;\nthemeService_1.registerThemingParticipant(function (theme, collector) {\n    var lineHighlight = theme.getColor(editorColorRegistry_1.editorLineHighlight);\n    if (lineHighlight) {\n        collector.addRule(\".monaco-editor .view-overlays .current-line { background-color: \" + lineHighlight + \"; }\");\n    }\n    if (!lineHighlight || lineHighlight.isTransparent() || theme.defines(editorColorRegistry_1.editorLineHighlightBorder)) {\n        var lineHighlightBorder = theme.getColor(editorColorRegistry_1.editorLineHighlightBorder);\n        if (lineHighlightBorder) {\n            collector.addRule(\".monaco-editor .view-overlays .current-line { border: 2px solid \" + lineHighlightBorder + \"; }\");\n            if (theme.type === 'hc') {\n                collector.addRule(\".monaco-editor .view-overlays .current-line { border-width: 1px; }\");\n            }\n        }\n    }\n});\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./currentLineHighlight';\nimport { DynamicViewOverlay } from 'vs/editor/browser/view/dynamicViewOverlay';\nimport { editorLineHighlight, editorLineHighlightBorder } from 'vs/editor/common/view/editorColorRegistry';\nimport { RenderingContext } from 'vs/editor/common/view/renderingContext';\nimport { ViewContext } from 'vs/editor/common/view/viewContext';\nimport * as viewEvents from 'vs/editor/common/view/viewEvents';\nimport { registerThemingParticipant } from 'vs/platform/theme/common/themeService';\n\nexport class CurrentLineHighlightOverlay extends DynamicViewOverlay {\n\tprivate readonly _context: ViewContext;\n\tprivate _lineHeight: number;\n\tprivate _renderLineHighlight: 'none' | 'gutter' | 'line' | 'all';\n\tprivate _selectionIsEmpty: boolean;\n\tprivate _primaryCursorLineNumber: number;\n\tprivate _scrollWidth: number;\n\tprivate _contentWidth: number;\n\n\tconstructor(context: ViewContext) {\n\t\tsuper();\n\t\tthis._context = context;\n\t\tthis._lineHeight = this._context.configuration.editor.lineHeight;\n\t\tthis._renderLineHighlight = this._context.configuration.editor.viewInfo.renderLineHighlight;\n\n\t\tthis._selectionIsEmpty = true;\n\t\tthis._primaryCursorLineNumber = 1;\n\t\tthis._scrollWidth = 0;\n\t\tthis._contentWidth = this._context.configuration.editor.layoutInfo.contentWidth;\n\n\t\tthis._context.addEventHandler(this);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis._context.removeEventHandler(this);\n\t\tsuper.dispose();\n\t}\n\n\t// --- begin event handlers\n\n\tpublic onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): boolean {\n\t\tif (e.lineHeight) {\n\t\t\tthis._lineHeight = this._context.configuration.editor.lineHeight;\n\t\t}\n\t\tif (e.viewInfo) {\n\t\t\tthis._renderLineHighlight = this._context.configuration.editor.viewInfo.renderLineHighlight;\n\t\t}\n\t\tif (e.layoutInfo) {\n\t\t\tthis._contentWidth = this._context.configuration.editor.layoutInfo.contentWidth;\n\t\t}\n\t\treturn true;\n\t}\n\tpublic onCursorStateChanged(e: viewEvents.ViewCursorStateChangedEvent): boolean {\n\t\tlet hasChanged = false;\n\n\t\tconst primaryCursorLineNumber = e.selections[0].positionLineNumber;\n\t\tif (this._primaryCursorLineNumber !== primaryCursorLineNumber) {\n\t\t\tthis._primaryCursorLineNumber = primaryCursorLineNumber;\n\t\t\thasChanged = true;\n\t\t}\n\n\t\tconst selectionIsEmpty = e.selections[0].isEmpty();\n\t\tif (this._selectionIsEmpty !== selectionIsEmpty) {\n\t\t\tthis._selectionIsEmpty = selectionIsEmpty;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn hasChanged;\n\t}\n\tpublic onFlushed(e: viewEvents.ViewFlushedEvent): boolean {\n\t\treturn true;\n\t}\n\tpublic onLinesDeleted(e: viewEvents.ViewLinesDeletedEvent): boolean {\n\t\treturn true;\n\t}\n\tpublic onLinesInserted(e: viewEvents.ViewLinesInsertedEvent): boolean {\n\t\treturn true;\n\t}\n\tpublic onScrollChanged(e: viewEvents.ViewScrollChangedEvent): boolean {\n\t\treturn e.scrollWidthChanged;\n\t}\n\tpublic onZonesChanged(e: viewEvents.ViewZonesChangedEvent): boolean {\n\t\treturn true;\n\t}\n\t// --- end event handlers\n\n\tpublic prepareRender(ctx: RenderingContext): void {\n\t\tthis._scrollWidth = ctx.scrollWidth;\n\t}\n\n\tpublic render(startLineNumber: number, lineNumber: number): string {\n\t\tif (lineNumber === this._primaryCursorLineNumber) {\n\t\t\tif (this._shouldShowCurrentLine()) {\n\t\t\t\tconst paintedInMargin = this._willRenderMarginCurrentLine();\n\t\t\t\tconst className = 'current-line' + (paintedInMargin ? ' current-line-both' : '');\n\t\t\t\treturn (\n\t\t\t\t\t'<div class=\"'\n\t\t\t\t\t+ className\n\t\t\t\t\t+ '\" style=\"width:'\n\t\t\t\t\t+ String(Math.max(this._scrollWidth, this._contentWidth))\n\t\t\t\t\t+ 'px; height:'\n\t\t\t\t\t+ String(this._lineHeight)\n\t\t\t\t\t+ 'px;\"></div>'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate _shouldShowCurrentLine(): boolean {\n\t\treturn (\n\t\t\t(this._renderLineHighlight === 'line' || this._renderLineHighlight === 'all')\n\t\t\t&& this._selectionIsEmpty\n\t\t);\n\t}\n\n\tprivate _willRenderMarginCurrentLine(): boolean {\n\t\treturn (\n\t\t\t(this._renderLineHighlight === 'gutter' || this._renderLineHighlight === 'all')\n\t\t);\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst lineHighlight = theme.getColor(editorLineHighlight);\n\tif (lineHighlight) {\n\t\tcollector.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${lineHighlight}; }`);\n\t}\n\tif (!lineHighlight || lineHighlight.isTransparent() || theme.defines(editorLineHighlightBorder)) {\n\t\tconst lineHighlightBorder = theme.getColor(editorLineHighlightBorder);\n\t\tif (lineHighlightBorder) {\n\t\t\tcollector.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${lineHighlightBorder}; }`);\n\t\t\tif (theme.type === 'hc') {\n\t\t\t\tcollector.addRule(`.monaco-editor .view-overlays .current-line { border-width: 1px; }`);\n\t\t\t}\n\t\t}\n\t}\n});\n"]}]}