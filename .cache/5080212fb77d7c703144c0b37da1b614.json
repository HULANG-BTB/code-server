{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinition.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinition.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar arrays_1 = require(\"vs/base/common/arrays\");\nvar cancellation_1 = require(\"vs/base/common/cancellation\");\nvar errors_1 = require(\"vs/base/common/errors\");\nvar editorExtensions_1 = require(\"vs/editor/browser/editorExtensions\");\nvar modes_1 = require(\"vs/editor/common/modes\");\nfunction getDefinitions(model, position, registry, provide) {\n    var provider = registry.ordered(model);\n    // get results\n    var promises = provider.map(function (provider) {\n        return Promise.resolve(provide(provider, model, position)).then(undefined, function (err) {\n            errors_1.onUnexpectedExternalError(err);\n            return null;\n        });\n    });\n    return Promise.all(promises)\n        .then(arrays_1.flatten)\n        .then(arrays_1.coalesce);\n}\nfunction getDefinitionsAtPosition(model, position, token) {\n    return getDefinitions(model, position, modes_1.DefinitionProviderRegistry, function (provider, model, position) {\n        return provider.provideDefinition(model, position, token);\n    });\n}\nexports.getDefinitionsAtPosition = getDefinitionsAtPosition;\nfunction getDeclarationsAtPosition(model, position, token) {\n    return getDefinitions(model, position, modes_1.DeclarationProviderRegistry, function (provider, model, position) {\n        return provider.provideDeclaration(model, position, token);\n    });\n}\nexports.getDeclarationsAtPosition = getDeclarationsAtPosition;\nfunction getImplementationsAtPosition(model, position, token) {\n    return getDefinitions(model, position, modes_1.ImplementationProviderRegistry, function (provider, model, position) {\n        return provider.provideImplementation(model, position, token);\n    });\n}\nexports.getImplementationsAtPosition = getImplementationsAtPosition;\nfunction getTypeDefinitionsAtPosition(model, position, token) {\n    return getDefinitions(model, position, modes_1.TypeDefinitionProviderRegistry, function (provider, model, position) {\n        return provider.provideTypeDefinition(model, position, token);\n    });\n}\nexports.getTypeDefinitionsAtPosition = getTypeDefinitionsAtPosition;\neditorExtensions_1.registerDefaultLanguageCommand('_executeDefinitionProvider', function (model, position) { return getDefinitionsAtPosition(model, position, cancellation_1.CancellationToken.None); });\neditorExtensions_1.registerDefaultLanguageCommand('_executeDeclarationProvider', function (model, position) { return getDeclarationsAtPosition(model, position, cancellation_1.CancellationToken.None); });\neditorExtensions_1.registerDefaultLanguageCommand('_executeImplementationProvider', function (model, position) { return getImplementationsAtPosition(model, position, cancellation_1.CancellationToken.None); });\neditorExtensions_1.registerDefaultLanguageCommand('_executeTypeDefinitionProvider', function (model, position) { return getTypeDefinitionsAtPosition(model, position, cancellation_1.CancellationToken.None); });\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinition.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/contrib/goToDefinition/goToDefinition.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { flatten, coalesce } from 'vs/base/common/arrays';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { onUnexpectedExternalError } from 'vs/base/common/errors';\nimport { registerDefaultLanguageCommand } from 'vs/editor/browser/editorExtensions';\nimport { Position } from 'vs/editor/common/core/position';\nimport { ITextModel } from 'vs/editor/common/model';\nimport { LocationLink, DefinitionProviderRegistry, ImplementationProviderRegistry, TypeDefinitionProviderRegistry, DeclarationProviderRegistry, ProviderResult } from 'vs/editor/common/modes';\nimport { LanguageFeatureRegistry } from 'vs/editor/common/modes/languageFeatureRegistry';\n\n\nfunction getDefinitions<T>(\n\tmodel: ITextModel,\n\tposition: Position,\n\tregistry: LanguageFeatureRegistry<T>,\n\tprovide: (provider: T, model: ITextModel, position: Position) => ProviderResult<LocationLink | LocationLink[]>\n): Promise<LocationLink[]> {\n\tconst provider = registry.ordered(model);\n\n\t// get results\n\tconst promises = provider.map((provider): Promise<LocationLink | LocationLink[] | null | undefined> => {\n\t\treturn Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n\t\t\tonUnexpectedExternalError(err);\n\t\t\treturn null;\n\t\t});\n\t});\n\treturn Promise.all(promises)\n\t\t.then(flatten)\n\t\t.then(coalesce);\n}\n\n\nexport function getDefinitionsAtPosition(model: ITextModel, position: Position, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getDefinitions(model, position, DefinitionProviderRegistry, (provider, model, position) => {\n\t\treturn provider.provideDefinition(model, position, token);\n\t});\n}\n\nexport function getDeclarationsAtPosition(model: ITextModel, position: Position, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getDefinitions(model, position, DeclarationProviderRegistry, (provider, model, position) => {\n\t\treturn provider.provideDeclaration(model, position, token);\n\t});\n}\n\nexport function getImplementationsAtPosition(model: ITextModel, position: Position, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getDefinitions(model, position, ImplementationProviderRegistry, (provider, model, position) => {\n\t\treturn provider.provideImplementation(model, position, token);\n\t});\n}\n\nexport function getTypeDefinitionsAtPosition(model: ITextModel, position: Position, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getDefinitions(model, position, TypeDefinitionProviderRegistry, (provider, model, position) => {\n\t\treturn provider.provideTypeDefinition(model, position, token);\n\t});\n}\n\nregisterDefaultLanguageCommand('_executeDefinitionProvider', (model, position) => getDefinitionsAtPosition(model, position, CancellationToken.None));\nregisterDefaultLanguageCommand('_executeDeclarationProvider', (model, position) => getDeclarationsAtPosition(model, position, CancellationToken.None));\nregisterDefaultLanguageCommand('_executeImplementationProvider', (model, position) => getImplementationsAtPosition(model, position, CancellationToken.None));\nregisterDefaultLanguageCommand('_executeTypeDefinitionProvider', (model, position) => getTypeDefinitionsAtPosition(model, position, CancellationToken.None));\n"]}]}