{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/base/parts/tree/browser/treeDefaults.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/base/parts/tree/browser/treeDefaults.ts","mtime":1555846338028},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar nls = require(\"vs/nls\");\nvar actions_1 = require(\"vs/base/common/actions\");\nvar platform = require(\"vs/base/common/platform\");\nvar browser = require(\"vs/base/browser/browser\");\nvar errors = require(\"vs/base/common/errors\");\nvar dom = require(\"vs/base/browser/dom\");\nvar keyCodes_1 = require(\"vs/base/common/keyCodes\");\nvar ClickBehavior;\n(function (ClickBehavior) {\n    /**\n     * Handle the click when the mouse button is pressed but not released yet.\n     */\n    ClickBehavior[ClickBehavior[\"ON_MOUSE_DOWN\"] = 0] = \"ON_MOUSE_DOWN\";\n    /**\n     * Handle the click when the mouse button is released.\n     */\n    ClickBehavior[ClickBehavior[\"ON_MOUSE_UP\"] = 1] = \"ON_MOUSE_UP\";\n})(ClickBehavior = exports.ClickBehavior || (exports.ClickBehavior = {}));\nvar OpenMode;\n(function (OpenMode) {\n    OpenMode[OpenMode[\"SINGLE_CLICK\"] = 0] = \"SINGLE_CLICK\";\n    OpenMode[OpenMode[\"DOUBLE_CLICK\"] = 1] = \"DOUBLE_CLICK\";\n})(OpenMode = exports.OpenMode || (exports.OpenMode = {}));\nvar KeybindingDispatcher = /** @class */ (function () {\n    function KeybindingDispatcher() {\n        this._arr = [];\n    }\n    KeybindingDispatcher.prototype.has = function (keybinding) {\n        var target = keyCodes_1.createKeybinding(keybinding, platform.OS);\n        if (target !== null) {\n            for (var _i = 0, _a = this._arr; _i < _a.length; _i++) {\n                var a = _a[_i];\n                if (target.equals(a.keybinding)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    KeybindingDispatcher.prototype.set = function (keybinding, callback) {\n        this._arr.push({\n            keybinding: keyCodes_1.createKeybinding(keybinding, platform.OS),\n            callback: callback\n        });\n    };\n    KeybindingDispatcher.prototype.dispatch = function (keybinding) {\n        // Loop from the last to the first to handle overwrites\n        for (var i = this._arr.length - 1; i >= 0; i--) {\n            var item = this._arr[i];\n            if (keybinding.toChord().equals(item.keybinding)) {\n                return item.callback;\n            }\n        }\n        return null;\n    };\n    return KeybindingDispatcher;\n}());\nexports.KeybindingDispatcher = KeybindingDispatcher;\nvar DefaultController = /** @class */ (function () {\n    function DefaultController(options) {\n        if (options === void 0) { options = { clickBehavior: ClickBehavior.ON_MOUSE_DOWN, keyboardSupport: true, openMode: OpenMode.SINGLE_CLICK }; }\n        var _this = this;\n        this.options = options;\n        this.downKeyBindingDispatcher = new KeybindingDispatcher();\n        this.upKeyBindingDispatcher = new KeybindingDispatcher();\n        if (typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport) {\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.UpArrow, function (t, e) { return _this.onUp(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.DownArrow, function (t, e) { return _this.onDown(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.LeftArrow, function (t, e) { return _this.onLeft(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.RightArrow, function (t, e) { return _this.onRight(t, e); });\n            if (browser.isMacintosh) {\n                this.downKeyBindingDispatcher.set(keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyCode.UpArrow, function (t, e) { return _this.onLeft(t, e); });\n                this.downKeyBindingDispatcher.set(keyCodes_1.KeyMod.WinCtrl | keyCodes_1.KeyCode.KEY_N, function (t, e) { return _this.onDown(t, e); });\n                this.downKeyBindingDispatcher.set(keyCodes_1.KeyMod.WinCtrl | keyCodes_1.KeyCode.KEY_P, function (t, e) { return _this.onUp(t, e); });\n            }\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.PageUp, function (t, e) { return _this.onPageUp(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.PageDown, function (t, e) { return _this.onPageDown(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.Home, function (t, e) { return _this.onHome(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.End, function (t, e) { return _this.onEnd(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.Space, function (t, e) { return _this.onSpace(t, e); });\n            this.downKeyBindingDispatcher.set(keyCodes_1.KeyCode.Escape, function (t, e) { return _this.onEscape(t, e); });\n            this.upKeyBindingDispatcher.set(keyCodes_1.KeyCode.Enter, this.onEnter.bind(this));\n            this.upKeyBindingDispatcher.set(keyCodes_1.KeyMod.CtrlCmd | keyCodes_1.KeyCode.Enter, this.onEnter.bind(this));\n        }\n    }\n    DefaultController.prototype.onMouseDown = function (tree, element, event, origin) {\n        if (origin === void 0) { origin = 'mouse'; }\n        if (this.options.clickBehavior === ClickBehavior.ON_MOUSE_DOWN && (event.leftButton || event.middleButton)) {\n            if (event.target) {\n                if (event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n                    return false; // Ignore event if target is a form input field (avoids browser specific issues)\n                }\n                if (dom.findParentWithClass(event.target, 'scrollbar', 'monaco-tree')) {\n                    return false;\n                }\n                if (dom.findParentWithClass(event.target, 'monaco-action-bar', 'row')) { // TODO@Joao not very nice way of checking for the action bar (implicit knowledge)\n                    return false; // Ignore event if target is over an action bar of the row\n                }\n            }\n            // Propagate to onLeftClick now\n            return this.onLeftClick(tree, element, event, origin);\n        }\n        return false;\n    };\n    DefaultController.prototype.onClick = function (tree, element, event) {\n        var isMac = browser.isMacintosh;\n        // A Ctrl click on the Mac is a context menu event\n        if (isMac && event.ctrlKey) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\n        }\n        if (this.options.clickBehavior === ClickBehavior.ON_MOUSE_DOWN && (event.leftButton || event.middleButton)) {\n            return false; // Already handled by onMouseDown\n        }\n        return this.onLeftClick(tree, element, event);\n    };\n    DefaultController.prototype.onLeftClick = function (tree, element, eventish, origin) {\n        if (origin === void 0) { origin = 'mouse'; }\n        var event = eventish;\n        var payload = { origin: origin, originalEvent: eventish, didClickOnTwistie: this.isClickOnTwistie(event) };\n        if (tree.getInput() === element) {\n            tree.clearFocus(payload);\n            tree.clearSelection(payload);\n        }\n        else {\n            var isSingleMouseDown = eventish && event.browserEvent && event.browserEvent.type === 'mousedown' && event.browserEvent.detail === 1;\n            if (!isSingleMouseDown) {\n                eventish.preventDefault(); // we cannot preventDefault onMouseDown with single click because this would break DND otherwise\n            }\n            eventish.stopPropagation();\n            tree.domFocus();\n            tree.setSelection([element], payload);\n            tree.setFocus(element, payload);\n            if (this.shouldToggleExpansion(element, event, origin)) {\n                if (tree.isExpanded(element)) {\n                    tree.collapse(element).then(undefined, errors.onUnexpectedError);\n                }\n                else {\n                    tree.expand(element).then(undefined, errors.onUnexpectedError);\n                }\n            }\n        }\n        return true;\n    };\n    DefaultController.prototype.shouldToggleExpansion = function (element, event, origin) {\n        var isDoubleClick = (origin === 'mouse' && event.detail === 2);\n        return this.openOnSingleClick || isDoubleClick || this.isClickOnTwistie(event);\n    };\n    DefaultController.prototype.setOpenMode = function (openMode) {\n        this.options.openMode = openMode;\n    };\n    Object.defineProperty(DefaultController.prototype, \"openOnSingleClick\", {\n        get: function () {\n            return this.options.openMode === OpenMode.SINGLE_CLICK;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DefaultController.prototype.isClickOnTwistie = function (event) {\n        var element = event.target;\n        if (!dom.hasClass(element, 'content')) {\n            return false;\n        }\n        var twistieStyle = window.getComputedStyle(element, ':before');\n        if (twistieStyle.backgroundImage === 'none' || twistieStyle.display === 'none') {\n            return false;\n        }\n        var twistieWidth = parseInt(twistieStyle.width) + parseInt(twistieStyle.paddingRight);\n        return event.browserEvent.offsetX <= twistieWidth;\n    };\n    DefaultController.prototype.onContextMenu = function (tree, element, event) {\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n            return false; // allow context menu on input fields\n        }\n        // Prevent native context menu from showing up\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        return false;\n    };\n    DefaultController.prototype.onTap = function (tree, element, event) {\n        var target = event.initialTarget;\n        if (target && target.tagName && target.tagName.toLowerCase() === 'input') {\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\n        }\n        return this.onLeftClick(tree, element, event, 'touch');\n    };\n    DefaultController.prototype.onKeyDown = function (tree, event) {\n        return this.onKey(this.downKeyBindingDispatcher, tree, event);\n    };\n    DefaultController.prototype.onKeyUp = function (tree, event) {\n        return this.onKey(this.upKeyBindingDispatcher, tree, event);\n    };\n    DefaultController.prototype.onKey = function (bindings, tree, event) {\n        var handler = bindings.dispatch(event.toKeybinding());\n        if (handler) {\n            // TODO: TS 3.1 upgrade. Why are we checking against void?\n            if (handler(tree, event)) {\n                event.preventDefault();\n                event.stopPropagation();\n                return true;\n            }\n        }\n        return false;\n    };\n    DefaultController.prototype.onUp = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            tree.focusPrevious(1, payload);\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onPageUp = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            tree.focusPreviousPage(payload);\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onDown = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            tree.focusNext(1, payload);\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onPageDown = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            tree.focusNextPage(payload);\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onHome = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            tree.focusFirst(payload);\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onEnd = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            tree.focusLast(payload);\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onLeft = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            var focus_1 = tree.getFocus();\n            tree.collapse(focus_1).then(function (didCollapse) {\n                if (focus_1 && !didCollapse) {\n                    tree.focusParent(payload);\n                    return tree.reveal(tree.getFocus());\n                }\n                return undefined;\n            }).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onRight = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n        }\n        else {\n            var focus_2 = tree.getFocus();\n            tree.expand(focus_2).then(function (didExpand) {\n                if (focus_2 && !didExpand) {\n                    tree.focusFirstChild(payload);\n                    return tree.reveal(tree.getFocus());\n                }\n                return undefined;\n            }).then(undefined, errors.onUnexpectedError);\n        }\n        return true;\n    };\n    DefaultController.prototype.onEnter = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            return false;\n        }\n        var focus = tree.getFocus();\n        if (focus) {\n            tree.setSelection([focus], payload);\n        }\n        return true;\n    };\n    DefaultController.prototype.onSpace = function (tree, event) {\n        if (tree.getHighlight()) {\n            return false;\n        }\n        var focus = tree.getFocus();\n        if (focus) {\n            tree.toggleExpansion(focus);\n        }\n        return true;\n    };\n    DefaultController.prototype.onEscape = function (tree, event) {\n        var payload = { origin: 'keyboard', originalEvent: event };\n        if (tree.getHighlight()) {\n            tree.clearHighlight(payload);\n            return true;\n        }\n        if (tree.getSelection().length) {\n            tree.clearSelection(payload);\n            return true;\n        }\n        if (tree.getFocus()) {\n            tree.clearFocus(payload);\n            return true;\n        }\n        return false;\n    };\n    return DefaultController;\n}());\nexports.DefaultController = DefaultController;\nvar DefaultDragAndDrop = /** @class */ (function () {\n    function DefaultDragAndDrop() {\n    }\n    DefaultDragAndDrop.prototype.getDragURI = function (tree, element) {\n        return null;\n    };\n    DefaultDragAndDrop.prototype.onDragStart = function (tree, data, originalEvent) {\n        return;\n    };\n    DefaultDragAndDrop.prototype.onDragOver = function (tree, data, targetElement, originalEvent) {\n        return null;\n    };\n    DefaultDragAndDrop.prototype.drop = function (tree, data, targetElement, originalEvent) {\n        return;\n    };\n    return DefaultDragAndDrop;\n}());\nexports.DefaultDragAndDrop = DefaultDragAndDrop;\nvar DefaultFilter = /** @class */ (function () {\n    function DefaultFilter() {\n    }\n    DefaultFilter.prototype.isVisible = function (tree, element) {\n        return true;\n    };\n    return DefaultFilter;\n}());\nexports.DefaultFilter = DefaultFilter;\nvar DefaultSorter = /** @class */ (function () {\n    function DefaultSorter() {\n    }\n    DefaultSorter.prototype.compare = function (tree, element, otherElement) {\n        return 0;\n    };\n    return DefaultSorter;\n}());\nexports.DefaultSorter = DefaultSorter;\nvar DefaultAccessibilityProvider = /** @class */ (function () {\n    function DefaultAccessibilityProvider() {\n    }\n    DefaultAccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\n        return null;\n    };\n    return DefaultAccessibilityProvider;\n}());\nexports.DefaultAccessibilityProvider = DefaultAccessibilityProvider;\nvar DefaultTreestyler = /** @class */ (function () {\n    function DefaultTreestyler(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    DefaultTreestyler.prototype.style = function (styles) {\n        var suffix = this.selectorSuffix ? \".\" + this.selectorSuffix : '';\n        var content = [];\n        if (styles.listFocusBackground) {\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: \" + styles.listFocusBackground + \"; }\");\n        }\n        if (styles.listFocusForeground) {\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: \" + styles.listFocusForeground + \"; }\");\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listActiveSelectionBackground + \"; }\");\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listActiveSelectionForeground + \"; }\");\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: \" + styles.listFocusAndSelectionBackground + \"; }\\n\\t\\t\\t\");\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: \" + styles.listFocusAndSelectionForeground + \"; }\\n\\t\\t\\t\");\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listInactiveSelectionBackground + \"; }\");\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listInactiveSelectionForeground + \"; }\");\n        }\n        if (styles.listHoverBackground) {\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: \" + styles.listHoverBackground + \"; }\");\n        }\n        if (styles.listHoverForeground) {\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: \" + styles.listHoverForeground + \"; }\");\n        }\n        if (styles.listDropBackground) {\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: \" + styles.listDropBackground + \" !important; color: inherit !important; }\\n\\t\\t\\t\");\n        }\n        if (styles.listFocusOutline) {\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; background: #000; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid transparent; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px dotted \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\");\n        }\n        var newStyles = content.join('\\n');\n        if (newStyles !== this.styleElement.innerHTML) {\n            this.styleElement.innerHTML = newStyles;\n        }\n    };\n    return DefaultTreestyler;\n}());\nexports.DefaultTreestyler = DefaultTreestyler;\nvar CollapseAllAction = /** @class */ (function (_super) {\n    tslib_1.__extends(CollapseAllAction, _super);\n    function CollapseAllAction(viewer, enabled) {\n        var _this = _super.call(this, 'vs.tree.collapse', nls.localize('collapse all', \"Collapse All\"), 'monaco-tree-action collapse-all', enabled) || this;\n        _this.viewer = viewer;\n        return _this;\n    }\n    CollapseAllAction.prototype.run = function (context) {\n        if (this.viewer.getHighlight()) {\n            return Promise.resolve(); // Global action disabled if user is in edit mode from another action\n        }\n        this.viewer.collapseAll();\n        this.viewer.clearSelection();\n        this.viewer.clearFocus();\n        this.viewer.domFocus();\n        this.viewer.focusFirst();\n        return Promise.resolve();\n    };\n    return CollapseAllAction;\n}(actions_1.Action));\nexports.CollapseAllAction = CollapseAllAction;\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/base/parts/tree/browser/treeDefaults.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/base/parts/tree/browser/treeDefaults.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport { Action } from 'vs/base/common/actions';\nimport * as platform from 'vs/base/common/platform';\nimport * as browser from 'vs/base/browser/browser';\nimport * as touch from 'vs/base/browser/touch';\nimport * as errors from 'vs/base/common/errors';\nimport * as dom from 'vs/base/browser/dom';\nimport * as mouse from 'vs/base/browser/mouseEvent';\nimport { IKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport * as _ from 'vs/base/parts/tree/browser/tree';\nimport { IDragAndDropData } from 'vs/base/browser/dnd';\nimport { KeyCode, KeyMod, Keybinding, SimpleKeybinding, createKeybinding } from 'vs/base/common/keyCodes';\n\nexport interface IKeyBindingCallback {\n\t(tree: _.ITree, event: IKeyboardEvent): void;\n}\n\nexport interface ICancelableEvent {\n\tpreventDefault(): void;\n\tstopPropagation(): void;\n}\n\nexport const enum ClickBehavior {\n\n\t/**\n\t * Handle the click when the mouse button is pressed but not released yet.\n\t */\n\tON_MOUSE_DOWN,\n\n\t/**\n\t * Handle the click when the mouse button is released.\n\t */\n\tON_MOUSE_UP\n}\n\nexport const enum OpenMode {\n\tSINGLE_CLICK,\n\tDOUBLE_CLICK\n}\n\nexport interface IControllerOptions {\n\tclickBehavior?: ClickBehavior;\n\topenMode?: OpenMode;\n\tkeyboardSupport?: boolean;\n}\n\ninterface IKeybindingDispatcherItem {\n\tkeybinding: Keybinding | null;\n\tcallback: IKeyBindingCallback;\n}\n\nexport class KeybindingDispatcher {\n\n\tprivate _arr: IKeybindingDispatcherItem[];\n\n\tconstructor() {\n\t\tthis._arr = [];\n\t}\n\n\tpublic has(keybinding: KeyCode): boolean {\n\t\tlet target = createKeybinding(keybinding, platform.OS);\n\t\tif (target !== null) {\n\t\t\tfor (const a of this._arr) {\n\t\t\t\tif (target.equals(a.keybinding)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic set(keybinding: number, callback: IKeyBindingCallback) {\n\t\tthis._arr.push({\n\t\t\tkeybinding: createKeybinding(keybinding, platform.OS),\n\t\t\tcallback: callback\n\t\t});\n\t}\n\n\tpublic dispatch(keybinding: SimpleKeybinding): IKeyBindingCallback | null {\n\t\t// Loop from the last to the first to handle overwrites\n\t\tfor (let i = this._arr.length - 1; i >= 0; i--) {\n\t\t\tlet item = this._arr[i];\n\t\t\tif (keybinding.toChord().equals(item.keybinding)) {\n\t\t\t\treturn item.callback;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport class DefaultController implements _.IController {\n\n\tprotected downKeyBindingDispatcher: KeybindingDispatcher;\n\tprotected upKeyBindingDispatcher: KeybindingDispatcher;\n\n\tprivate options: IControllerOptions;\n\n\tconstructor(options: IControllerOptions = { clickBehavior: ClickBehavior.ON_MOUSE_DOWN, keyboardSupport: true, openMode: OpenMode.SINGLE_CLICK }) {\n\t\tthis.options = options;\n\n\t\tthis.downKeyBindingDispatcher = new KeybindingDispatcher();\n\t\tthis.upKeyBindingDispatcher = new KeybindingDispatcher();\n\n\t\tif (typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport) {\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.UpArrow, (t, e) => this.onUp(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.DownArrow, (t, e) => this.onDown(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.LeftArrow, (t, e) => this.onLeft(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.RightArrow, (t, e) => this.onRight(t, e));\n\t\t\tif (browser.isMacintosh) {\n\t\t\t\tthis.downKeyBindingDispatcher.set(KeyMod.CtrlCmd | KeyCode.UpArrow, (t, e) => this.onLeft(t, e));\n\t\t\t\tthis.downKeyBindingDispatcher.set(KeyMod.WinCtrl | KeyCode.KEY_N, (t, e) => this.onDown(t, e));\n\t\t\t\tthis.downKeyBindingDispatcher.set(KeyMod.WinCtrl | KeyCode.KEY_P, (t, e) => this.onUp(t, e));\n\t\t\t}\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.PageUp, (t, e) => this.onPageUp(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.PageDown, (t, e) => this.onPageDown(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.Home, (t, e) => this.onHome(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.End, (t, e) => this.onEnd(t, e));\n\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.Space, (t, e) => this.onSpace(t, e));\n\t\t\tthis.downKeyBindingDispatcher.set(KeyCode.Escape, (t, e) => this.onEscape(t, e));\n\n\t\t\tthis.upKeyBindingDispatcher.set(KeyCode.Enter, this.onEnter.bind(this));\n\t\t\tthis.upKeyBindingDispatcher.set(KeyMod.CtrlCmd | KeyCode.Enter, this.onEnter.bind(this));\n\t\t}\n\t}\n\n\tpublic onMouseDown(tree: _.ITree, element: any, event: mouse.IMouseEvent, origin: string = 'mouse'): boolean {\n\t\tif (this.options.clickBehavior === ClickBehavior.ON_MOUSE_DOWN && (event.leftButton || event.middleButton)) {\n\t\t\tif (event.target) {\n\t\t\t\tif (event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n\t\t\t\t\treturn false; // Ignore event if target is a form input field (avoids browser specific issues)\n\t\t\t\t}\n\n\t\t\t\tif (dom.findParentWithClass(event.target, 'scrollbar', 'monaco-tree')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (dom.findParentWithClass(event.target, 'monaco-action-bar', 'row')) { // TODO@Joao not very nice way of checking for the action bar (implicit knowledge)\n\t\t\t\t\treturn false; // Ignore event if target is over an action bar of the row\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Propagate to onLeftClick now\n\t\t\treturn this.onLeftClick(tree, element, event, origin);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic onClick(tree: _.ITree, element: any, event: mouse.IMouseEvent): boolean {\n\t\tconst isMac = browser.isMacintosh;\n\n\t\t// A Ctrl click on the Mac is a context menu event\n\t\tif (isMac && event.ctrlKey) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n\t\t\treturn false; // Ignore event if target is a form input field (avoids browser specific issues)\n\t\t}\n\n\t\tif (this.options.clickBehavior === ClickBehavior.ON_MOUSE_DOWN && (event.leftButton || event.middleButton)) {\n\t\t\treturn false; // Already handled by onMouseDown\n\t\t}\n\n\t\treturn this.onLeftClick(tree, element, event);\n\t}\n\n\tprotected onLeftClick(tree: _.ITree, element: any, eventish: ICancelableEvent, origin: string = 'mouse'): boolean {\n\t\tconst event = <mouse.IMouseEvent>eventish;\n\t\tconst payload = { origin: origin, originalEvent: eventish, didClickOnTwistie: this.isClickOnTwistie(event) };\n\n\t\tif (tree.getInput() === element) {\n\t\t\ttree.clearFocus(payload);\n\t\t\ttree.clearSelection(payload);\n\t\t} else {\n\t\t\tconst isSingleMouseDown = eventish && event.browserEvent && event.browserEvent.type === 'mousedown' && event.browserEvent.detail === 1;\n\t\t\tif (!isSingleMouseDown) {\n\t\t\t\teventish.preventDefault(); // we cannot preventDefault onMouseDown with single click because this would break DND otherwise\n\t\t\t}\n\t\t\teventish.stopPropagation();\n\n\t\t\ttree.domFocus();\n\t\t\ttree.setSelection([element], payload);\n\t\t\ttree.setFocus(element, payload);\n\n\t\t\tif (this.shouldToggleExpansion(element, event, origin)) {\n\t\t\t\tif (tree.isExpanded(element)) {\n\t\t\t\t\ttree.collapse(element).then(undefined, errors.onUnexpectedError);\n\t\t\t\t} else {\n\t\t\t\t\ttree.expand(element).then(undefined, errors.onUnexpectedError);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprotected shouldToggleExpansion(element: any, event: mouse.IMouseEvent, origin: string): boolean {\n\t\tconst isDoubleClick = (origin === 'mouse' && event.detail === 2);\n\t\treturn this.openOnSingleClick || isDoubleClick || this.isClickOnTwistie(event);\n\t}\n\n\tprotected setOpenMode(openMode: OpenMode) {\n\t\tthis.options.openMode = openMode;\n\t}\n\n\tprotected get openOnSingleClick(): boolean {\n\t\treturn this.options.openMode === OpenMode.SINGLE_CLICK;\n\t}\n\n\tprotected isClickOnTwistie(event: mouse.IMouseEvent): boolean {\n\t\tlet element = event.target as HTMLElement;\n\n\t\tif (!dom.hasClass(element, 'content')) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst twistieStyle = window.getComputedStyle(element, ':before');\n\n\t\tif (twistieStyle.backgroundImage === 'none' || twistieStyle.display === 'none') {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst twistieWidth = parseInt(twistieStyle.width!) + parseInt(twistieStyle.paddingRight!);\n\t\treturn event.browserEvent.offsetX <= twistieWidth;\n\t}\n\n\tpublic onContextMenu(tree: _.ITree, element: any, event: _.ContextMenuEvent): boolean {\n\t\tif (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\n\t\t\treturn false; // allow context menu on input fields\n\t\t}\n\n\t\t// Prevent native context menu from showing up\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic onTap(tree: _.ITree, element: any, event: touch.GestureEvent): boolean {\n\t\tconst target = <HTMLElement>event.initialTarget;\n\n\t\tif (target && target.tagName && target.tagName.toLowerCase() === 'input') {\n\t\t\treturn false; // Ignore event if target is a form input field (avoids browser specific issues)\n\t\t}\n\n\t\treturn this.onLeftClick(tree, element, event, 'touch');\n\t}\n\n\tpublic onKeyDown(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\treturn this.onKey(this.downKeyBindingDispatcher, tree, event);\n\t}\n\n\tpublic onKeyUp(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\treturn this.onKey(this.upKeyBindingDispatcher, tree, event);\n\t}\n\n\tprivate onKey(bindings: KeybindingDispatcher, tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst handler: any = bindings.dispatch(event.toKeybinding());\n\t\tif (handler) {\n\t\t\t// TODO: TS 3.1 upgrade. Why are we checking against void?\n\t\t\tif (handler(tree, event)) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected onUp(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\ttree.focusPrevious(1, payload);\n\t\t\ttree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onPageUp(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\ttree.focusPreviousPage(payload);\n\t\t\ttree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onDown(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\ttree.focusNext(1, payload);\n\t\t\ttree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onPageDown(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\ttree.focusNextPage(payload);\n\t\t\ttree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onHome(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\ttree.focusFirst(payload);\n\t\t\ttree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onEnd(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\ttree.focusLast(payload);\n\t\t\ttree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onLeft(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\tconst focus = tree.getFocus();\n\t\t\ttree.collapse(focus).then(didCollapse => {\n\t\t\t\tif (focus && !didCollapse) {\n\t\t\t\t\ttree.focusParent(payload);\n\t\t\t\t\treturn tree.reveal(tree.getFocus());\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onRight(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t} else {\n\t\t\tconst focus = tree.getFocus();\n\t\t\ttree.expand(focus).then(didExpand => {\n\t\t\t\tif (focus && !didExpand) {\n\t\t\t\t\ttree.focusFirstChild(payload);\n\t\t\t\t\treturn tree.reveal(tree.getFocus());\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}).then(undefined, errors.onUnexpectedError);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onEnter(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst focus = tree.getFocus();\n\t\tif (focus) {\n\t\t\ttree.setSelection([focus], payload);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onSpace(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tif (tree.getHighlight()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst focus = tree.getFocus();\n\t\tif (focus) {\n\t\t\ttree.toggleExpansion(focus);\n\t\t}\n\t\treturn true;\n\t}\n\n\tprotected onEscape(tree: _.ITree, event: IKeyboardEvent): boolean {\n\t\tconst payload = { origin: 'keyboard', originalEvent: event };\n\n\t\tif (tree.getHighlight()) {\n\t\t\ttree.clearHighlight(payload);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (tree.getSelection().length) {\n\t\t\ttree.clearSelection(payload);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (tree.getFocus()) {\n\t\t\ttree.clearFocus(payload);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport class DefaultDragAndDrop implements _.IDragAndDrop {\n\n\tpublic getDragURI(tree: _.ITree, element: any): string | null {\n\t\treturn null;\n\t}\n\n\tpublic onDragStart(tree: _.ITree, data: IDragAndDropData, originalEvent: mouse.DragMouseEvent): void {\n\t\treturn;\n\t}\n\n\tpublic onDragOver(tree: _.ITree, data: IDragAndDropData, targetElement: any, originalEvent: mouse.DragMouseEvent): _.IDragOverReaction | null {\n\t\treturn null;\n\t}\n\n\tpublic drop(tree: _.ITree, data: IDragAndDropData, targetElement: any, originalEvent: mouse.DragMouseEvent): void {\n\t\treturn;\n\t}\n}\n\nexport class DefaultFilter implements _.IFilter {\n\n\tpublic isVisible(tree: _.ITree, element: any): boolean {\n\t\treturn true;\n\t}\n}\n\nexport class DefaultSorter implements _.ISorter {\n\n\tpublic compare(tree: _.ITree, element: any, otherElement: any): number {\n\t\treturn 0;\n\t}\n}\n\nexport class DefaultAccessibilityProvider implements _.IAccessibilityProvider {\n\n\tgetAriaLabel(tree: _.ITree, element: any): string | null {\n\t\treturn null;\n\t}\n}\n\nexport class DefaultTreestyler implements _.ITreeStyler {\n\n\tconstructor(private styleElement: HTMLStyleElement, private selectorSuffix?: string) { }\n\n\tstyle(styles: _.ITreeStyles): void {\n\t\tconst suffix = this.selectorSuffix ? `.${this.selectorSuffix}` : '';\n\t\tconst content: string[] = [];\n\n\t\tif (styles.listFocusBackground) {\n\t\t\tcontent.push(`.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: ${styles.listFocusBackground}; }`);\n\t\t}\n\n\t\tif (styles.listFocusForeground) {\n\t\t\tcontent.push(`.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: ${styles.listFocusForeground}; }`);\n\t\t}\n\n\t\tif (styles.listActiveSelectionBackground) {\n\t\t\tcontent.push(`.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: ${styles.listActiveSelectionBackground}; }`);\n\t\t}\n\n\t\tif (styles.listActiveSelectionForeground) {\n\t\t\tcontent.push(`.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: ${styles.listActiveSelectionForeground}; }`);\n\t\t}\n\n\t\tif (styles.listFocusAndSelectionBackground) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n\t\t}\n\n\t\tif (styles.listFocusAndSelectionForeground) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n\t\t}\n\n\t\tif (styles.listInactiveSelectionBackground) {\n\t\t\tcontent.push(`.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: ${styles.listInactiveSelectionBackground}; }`);\n\t\t}\n\n\t\tif (styles.listInactiveSelectionForeground) {\n\t\t\tcontent.push(`.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: ${styles.listInactiveSelectionForeground}; }`);\n\t\t}\n\n\t\tif (styles.listHoverBackground) {\n\t\t\tcontent.push(`.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n\t\t}\n\n\t\tif (styles.listHoverForeground) {\n\t\t\tcontent.push(`.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: ${styles.listHoverForeground}; }`);\n\t\t}\n\n\t\tif (styles.listDropBackground) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`);\n\t\t}\n\n\t\tif (styles.listFocusOutline) {\n\t\t\tcontent.push(`\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid ${styles.listFocusOutline}; background: #000; }\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted ${styles.listFocusOutline}; }\n\t\t\t\t.monaco-tree${suffix}.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid ${styles.listFocusOutline}; }\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid ${styles.listFocusOutline}; }\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed ${styles.listFocusOutline}; }\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree${suffix} .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed ${styles.listFocusOutline}; }\n\t\t\t`);\n\t\t}\n\n\t\tconst newStyles = content.join('\\n');\n\t\tif (newStyles !== this.styleElement.innerHTML) {\n\t\t\tthis.styleElement.innerHTML = newStyles;\n\t\t}\n\t}\n}\n\nexport class CollapseAllAction extends Action {\n\n\tconstructor(private viewer: _.ITree, enabled: boolean) {\n\t\tsuper('vs.tree.collapse', nls.localize('collapse all', \"Collapse All\"), 'monaco-tree-action collapse-all', enabled);\n\t}\n\n\tpublic run(context?: any): Promise<any> {\n\t\tif (this.viewer.getHighlight()) {\n\t\t\treturn Promise.resolve(); // Global action disabled if user is in edit mode from another action\n\t\t}\n\n\t\tthis.viewer.collapseAll();\n\t\tthis.viewer.clearSelection();\n\t\tthis.viewer.clearFocus();\n\t\tthis.viewer.domFocus();\n\t\tthis.viewer.focusFirst();\n\n\t\treturn Promise.resolve();\n\t}\n}\n"]}]}