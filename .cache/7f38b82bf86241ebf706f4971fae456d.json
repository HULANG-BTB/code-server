{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/contrib/find/simpleFindWidget.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/find/simpleFindWidget.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nrequire(\"vs/css!./simpleFindWidget\");\nvar nls = require(\"vs/nls\");\nvar dom = require(\"vs/base/browser/dom\");\nvar widget_1 = require(\"vs/base/browser/ui/widget\");\nvar async_1 = require(\"vs/base/common/async\");\nvar keyCodes_1 = require(\"vs/base/common/keyCodes\");\nvar findState_1 = require(\"vs/editor/contrib/find/findState\");\nvar findWidget_1 = require(\"vs/editor/contrib/find/findWidget\");\nvar contextkey_1 = require(\"vs/platform/contextkey/common/contextkey\");\nvar contextView_1 = require(\"vs/platform/contextview/browser/contextView\");\nvar colorRegistry_1 = require(\"vs/platform/theme/common/colorRegistry\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar contextScopedHistoryWidget_1 = require(\"vs/platform/browser/contextScopedHistoryWidget\");\nvar NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nvar NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nvar NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous match\");\nvar NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next match\");\nvar NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\nvar SimpleFindWidget = /** @class */ (function (_super) {\n    tslib_1.__extends(SimpleFindWidget, _super);\n    function SimpleFindWidget(_contextViewService, contextKeyService, _state, showOptionButtons) {\n        if (_state === void 0) { _state = new findState_1.FindReplaceState(); }\n        var _this = _super.call(this) || this;\n        _this._contextViewService = _contextViewService;\n        _this._state = _state;\n        _this._isVisible = false;\n        _this._findInput = _this._register(new contextScopedHistoryWidget_1.ContextScopedFindInput(null, _this._contextViewService, {\n            label: NLS_FIND_INPUT_LABEL,\n            placeholder: NLS_FIND_INPUT_PLACEHOLDER,\n        }, contextKeyService, showOptionButtons));\n        // Find History with update delayer\n        _this._updateHistoryDelayer = new async_1.Delayer(500);\n        _this.oninput(_this._findInput.domNode, function (e) {\n            _this.onInputChanged();\n            _this._delayedUpdateHistory();\n        });\n        _this._findInput.setRegex(!!_this._state.isRegex);\n        _this._findInput.setCaseSensitive(!!_this._state.matchCase);\n        _this._findInput.setWholeWords(!!_this._state.wholeWord);\n        _this._register(_this._findInput.onDidOptionChange(function () {\n            _this._state.change({\n                isRegex: _this._findInput.getRegex(),\n                wholeWord: _this._findInput.getWholeWords(),\n                matchCase: _this._findInput.getCaseSensitive()\n            }, true);\n        }));\n        _this._register(_this._state.onFindReplaceStateChange(function () {\n            _this._findInput.setRegex(_this._state.isRegex);\n            _this._findInput.setWholeWords(_this._state.wholeWord);\n            _this._findInput.setCaseSensitive(_this._state.matchCase);\n        }));\n        _this._register(_this._findInput.onKeyDown(function (e) {\n            if (e.equals(keyCodes_1.KeyCode.Enter)) {\n                _this.find(false);\n                e.preventDefault();\n                return;\n            }\n            if (e.equals(keyCodes_1.KeyMod.Shift | keyCodes_1.KeyCode.Enter)) {\n                _this.find(true);\n                e.preventDefault();\n                return;\n            }\n        }));\n        var prevBtn = new findWidget_1.SimpleButton({\n            label: NLS_PREVIOUS_MATCH_BTN_LABEL,\n            className: 'previous',\n            onTrigger: function () {\n                _this.find(true);\n            }\n        });\n        var nextBtn = new findWidget_1.SimpleButton({\n            label: NLS_NEXT_MATCH_BTN_LABEL,\n            className: 'next',\n            onTrigger: function () {\n                _this.find(false);\n            }\n        });\n        var closeBtn = new findWidget_1.SimpleButton({\n            label: NLS_CLOSE_BTN_LABEL,\n            className: 'close-fw',\n            onTrigger: function () {\n                _this.hide();\n            }\n        });\n        _this._innerDomNode = document.createElement('div');\n        _this._innerDomNode.classList.add('simple-find-part');\n        _this._innerDomNode.appendChild(_this._findInput.domNode);\n        _this._innerDomNode.appendChild(prevBtn.domNode);\n        _this._innerDomNode.appendChild(nextBtn.domNode);\n        _this._innerDomNode.appendChild(closeBtn.domNode);\n        // _domNode wraps _innerDomNode, ensuring that\n        _this._domNode = document.createElement('div');\n        _this._domNode.classList.add('simple-find-part-wrapper');\n        _this._domNode.appendChild(_this._innerDomNode);\n        _this.onkeyup(_this._innerDomNode, function (e) {\n            if (e.equals(keyCodes_1.KeyCode.Escape)) {\n                _this.hide();\n                e.preventDefault();\n                return;\n            }\n        });\n        _this._focusTracker = _this._register(dom.trackFocus(_this._innerDomNode));\n        _this._register(_this._focusTracker.onDidFocus(_this.onFocusTrackerFocus.bind(_this)));\n        _this._register(_this._focusTracker.onDidBlur(_this.onFocusTrackerBlur.bind(_this)));\n        _this._findInputFocusTracker = _this._register(dom.trackFocus(_this._findInput.domNode));\n        _this._register(_this._findInputFocusTracker.onDidFocus(_this.onFindInputFocusTrackerFocus.bind(_this)));\n        _this._register(_this._findInputFocusTracker.onDidBlur(_this.onFindInputFocusTrackerBlur.bind(_this)));\n        _this._register(dom.addDisposableListener(_this._innerDomNode, 'click', function (event) {\n            event.stopPropagation();\n        }));\n        return _this;\n    }\n    Object.defineProperty(SimpleFindWidget.prototype, \"inputValue\", {\n        get: function () {\n            return this._findInput.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SimpleFindWidget.prototype, \"focusTracker\", {\n        get: function () {\n            return this._focusTracker;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SimpleFindWidget.prototype.updateTheme = function (theme) {\n        var inputStyles = {\n            inputActiveOptionBorder: theme.getColor(colorRegistry_1.inputActiveOptionBorder),\n            inputBackground: theme.getColor(colorRegistry_1.inputBackground),\n            inputForeground: theme.getColor(colorRegistry_1.inputForeground),\n            inputBorder: theme.getColor(colorRegistry_1.inputBorder),\n            inputValidationInfoBackground: theme.getColor(colorRegistry_1.inputValidationInfoBackground),\n            inputValidationInfoForeground: theme.getColor(colorRegistry_1.inputValidationInfoForeground),\n            inputValidationInfoBorder: theme.getColor(colorRegistry_1.inputValidationInfoBorder),\n            inputValidationWarningBackground: theme.getColor(colorRegistry_1.inputValidationWarningBackground),\n            inputValidationWarningForeground: theme.getColor(colorRegistry_1.inputValidationWarningForeground),\n            inputValidationWarningBorder: theme.getColor(colorRegistry_1.inputValidationWarningBorder),\n            inputValidationErrorBackground: theme.getColor(colorRegistry_1.inputValidationErrorBackground),\n            inputValidationErrorForeground: theme.getColor(colorRegistry_1.inputValidationErrorForeground),\n            inputValidationErrorBorder: theme.getColor(colorRegistry_1.inputValidationErrorBorder)\n        };\n        this._findInput.style(inputStyles);\n    };\n    SimpleFindWidget.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._domNode && this._domNode.parentElement) {\n            this._domNode.parentElement.removeChild(this._domNode);\n        }\n    };\n    SimpleFindWidget.prototype.getDomNode = function () {\n        return this._domNode;\n    };\n    SimpleFindWidget.prototype.reveal = function (initialInput) {\n        var _this = this;\n        if (initialInput) {\n            this._findInput.setValue(initialInput);\n        }\n        if (this._isVisible) {\n            this._findInput.select();\n            return;\n        }\n        this._isVisible = true;\n        setTimeout(function () {\n            dom.addClass(_this._innerDomNode, 'visible');\n            dom.addClass(_this._innerDomNode, 'visible-transition');\n            _this._innerDomNode.setAttribute('aria-hidden', 'false');\n            _this._findInput.select();\n        }, 0);\n    };\n    SimpleFindWidget.prototype.show = function (initialInput) {\n        var _this = this;\n        if (initialInput && !this._isVisible) {\n            this._findInput.setValue(initialInput);\n        }\n        this._isVisible = true;\n        setTimeout(function () {\n            dom.addClass(_this._innerDomNode, 'visible');\n            dom.addClass(_this._innerDomNode, 'visible-transition');\n            _this._innerDomNode.setAttribute('aria-hidden', 'false');\n        }, 0);\n    };\n    SimpleFindWidget.prototype.hide = function () {\n        var _this = this;\n        if (this._isVisible) {\n            dom.removeClass(this._innerDomNode, 'visible-transition');\n            this._innerDomNode.setAttribute('aria-hidden', 'true');\n            // Need to delay toggling visibility until after Transition, then visibility hidden - removes from tabIndex list\n            setTimeout(function () {\n                _this._isVisible = false;\n                dom.removeClass(_this._innerDomNode, 'visible');\n            }, 200);\n        }\n    };\n    SimpleFindWidget.prototype._delayedUpdateHistory = function () {\n        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this));\n    };\n    SimpleFindWidget.prototype._updateHistory = function () {\n        this._findInput.inputBox.addToHistory();\n    };\n    SimpleFindWidget.prototype._getRegexValue = function () {\n        return this._findInput.getRegex();\n    };\n    SimpleFindWidget.prototype._getWholeWordValue = function () {\n        return this._findInput.getWholeWords();\n    };\n    SimpleFindWidget.prototype._getCaseSensitiveValue = function () {\n        return this._findInput.getCaseSensitive();\n    };\n    SimpleFindWidget = tslib_1.__decorate([\n        tslib_1.__param(0, contextView_1.IContextViewService),\n        tslib_1.__param(1, contextkey_1.IContextKeyService)\n    ], SimpleFindWidget);\n    return SimpleFindWidget;\n}(widget_1.Widget));\nexports.SimpleFindWidget = SimpleFindWidget;\n// theming\nthemeService_1.registerThemingParticipant(function (theme, collector) {\n    var findWidgetBGColor = theme.getColor(colorRegistry_1.editorWidgetBackground);\n    if (findWidgetBGColor) {\n        collector.addRule(\".monaco-workbench .simple-find-part { background-color: \" + findWidgetBGColor + \" !important; }\");\n    }\n    var widgetShadowColor = theme.getColor(colorRegistry_1.widgetShadow);\n    if (widgetShadowColor) {\n        collector.addRule(\".monaco-workbench .simple-find-part { box-shadow: 0 2px 8px \" + widgetShadowColor + \"; }\");\n    }\n});\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/contrib/find/simpleFindWidget.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/contrib/find/simpleFindWidget.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./simpleFindWidget';\nimport * as nls from 'vs/nls';\nimport * as dom from 'vs/base/browser/dom';\nimport { FindInput, IFindInputStyles } from 'vs/base/browser/ui/findinput/findInput';\nimport { Widget } from 'vs/base/browser/ui/widget';\nimport { Delayer } from 'vs/base/common/async';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { FindReplaceState } from 'vs/editor/contrib/find/findState';\nimport { SimpleButton } from 'vs/editor/contrib/find/findWidget';\nimport { IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IContextViewService } from 'vs/platform/contextview/browser/contextView';\nimport { editorWidgetBackground, inputActiveOptionBorder, inputBackground, inputBorder, inputForeground, inputValidationErrorBackground, inputValidationErrorBorder, inputValidationErrorForeground, inputValidationInfoBackground, inputValidationInfoBorder, inputValidationInfoForeground, inputValidationWarningBackground, inputValidationWarningBorder, inputValidationWarningForeground, widgetShadow } from 'vs/platform/theme/common/colorRegistry';\nimport { ITheme, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { ContextScopedFindInput } from 'vs/platform/browser/contextScopedHistoryWidget';\n\nconst NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nconst NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nconst NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous match\");\nconst NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next match\");\nconst NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\n\nexport abstract class SimpleFindWidget extends Widget {\n\tprivate readonly _findInput: FindInput;\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _innerDomNode: HTMLElement;\n\tprivate _isVisible: boolean = false;\n\tprivate readonly _focusTracker: dom.IFocusTracker;\n\tprivate readonly _findInputFocusTracker: dom.IFocusTracker;\n\tprivate readonly _updateHistoryDelayer: Delayer<void>;\n\n\tconstructor(\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\tprivate readonly _state: FindReplaceState = new FindReplaceState(),\n\t\tshowOptionButtons?: boolean\n\t) {\n\t\tsuper();\n\n\t\tthis._findInput = this._register(new ContextScopedFindInput(null, this._contextViewService, {\n\t\t\tlabel: NLS_FIND_INPUT_LABEL,\n\t\t\tplaceholder: NLS_FIND_INPUT_PLACEHOLDER,\n\t\t}, contextKeyService, showOptionButtons));\n\n\t\t// Find History with update delayer\n\t\tthis._updateHistoryDelayer = new Delayer<void>(500);\n\n\t\tthis.oninput(this._findInput.domNode, (e) => {\n\t\t\tthis.onInputChanged();\n\t\t\tthis._delayedUpdateHistory();\n\t\t});\n\n\t\tthis._findInput.setRegex(!!this._state.isRegex);\n\t\tthis._findInput.setCaseSensitive(!!this._state.matchCase);\n\t\tthis._findInput.setWholeWords(!!this._state.wholeWord);\n\n\t\tthis._register(this._findInput.onDidOptionChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tisRegex: this._findInput.getRegex(),\n\t\t\t\twholeWord: this._findInput.getWholeWords(),\n\t\t\t\tmatchCase: this._findInput.getCaseSensitive()\n\t\t\t}, true);\n\t\t}));\n\n\t\tthis._register(this._state.onFindReplaceStateChange(() => {\n\t\t\tthis._findInput.setRegex(this._state.isRegex);\n\t\t\tthis._findInput.setWholeWords(this._state.wholeWord);\n\t\t\tthis._findInput.setCaseSensitive(this._state.matchCase);\n\t\t}));\n\n\t\tthis._register(this._findInput.onKeyDown((e) => {\n\t\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\t\tthis.find(false);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.equals(KeyMod.Shift | KeyCode.Enter)) {\n\t\t\t\tthis.find(true);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}));\n\n\t\tconst prevBtn = new SimpleButton({\n\t\t\tlabel: NLS_PREVIOUS_MATCH_BTN_LABEL,\n\t\t\tclassName: 'previous',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.find(true);\n\t\t\t}\n\t\t});\n\n\t\tconst nextBtn = new SimpleButton({\n\t\t\tlabel: NLS_NEXT_MATCH_BTN_LABEL,\n\t\t\tclassName: 'next',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.find(false);\n\t\t\t}\n\t\t});\n\n\t\tconst closeBtn = new SimpleButton({\n\t\t\tlabel: NLS_CLOSE_BTN_LABEL,\n\t\t\tclassName: 'close-fw',\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t});\n\n\t\tthis._innerDomNode = document.createElement('div');\n\t\tthis._innerDomNode.classList.add('simple-find-part');\n\t\tthis._innerDomNode.appendChild(this._findInput.domNode);\n\t\tthis._innerDomNode.appendChild(prevBtn.domNode);\n\t\tthis._innerDomNode.appendChild(nextBtn.domNode);\n\t\tthis._innerDomNode.appendChild(closeBtn.domNode);\n\n\t\t// _domNode wraps _innerDomNode, ensuring that\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.classList.add('simple-find-part-wrapper');\n\t\tthis._domNode.appendChild(this._innerDomNode);\n\n\t\tthis.onkeyup(this._innerDomNode, e => {\n\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\tthis.hide();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tthis._focusTracker = this._register(dom.trackFocus(this._innerDomNode));\n\t\tthis._register(this._focusTracker.onDidFocus(this.onFocusTrackerFocus.bind(this)));\n\t\tthis._register(this._focusTracker.onDidBlur(this.onFocusTrackerBlur.bind(this)));\n\n\t\tthis._findInputFocusTracker = this._register(dom.trackFocus(this._findInput.domNode));\n\t\tthis._register(this._findInputFocusTracker.onDidFocus(this.onFindInputFocusTrackerFocus.bind(this)));\n\t\tthis._register(this._findInputFocusTracker.onDidBlur(this.onFindInputFocusTrackerBlur.bind(this)));\n\n\t\tthis._register(dom.addDisposableListener(this._innerDomNode, 'click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t}));\n\t}\n\n\tprotected abstract onInputChanged(): void;\n\tprotected abstract find(previous: boolean): void;\n\tprotected abstract onFocusTrackerFocus(): void;\n\tprotected abstract onFocusTrackerBlur(): void;\n\tprotected abstract onFindInputFocusTrackerFocus(): void;\n\tprotected abstract onFindInputFocusTrackerBlur(): void;\n\n\tprotected get inputValue() {\n\t\treturn this._findInput.getValue();\n\t}\n\n\tpublic get focusTracker(): dom.IFocusTracker {\n\t\treturn this._focusTracker;\n\t}\n\n\tpublic updateTheme(theme: ITheme): void {\n\t\tconst inputStyles: IFindInputStyles = {\n\t\t\tinputActiveOptionBorder: theme.getColor(inputActiveOptionBorder),\n\t\t\tinputBackground: theme.getColor(inputBackground),\n\t\t\tinputForeground: theme.getColor(inputForeground),\n\t\t\tinputBorder: theme.getColor(inputBorder),\n\t\t\tinputValidationInfoBackground: theme.getColor(inputValidationInfoBackground),\n\t\t\tinputValidationInfoForeground: theme.getColor(inputValidationInfoForeground),\n\t\t\tinputValidationInfoBorder: theme.getColor(inputValidationInfoBorder),\n\t\t\tinputValidationWarningBackground: theme.getColor(inputValidationWarningBackground),\n\t\t\tinputValidationWarningForeground: theme.getColor(inputValidationWarningForeground),\n\t\t\tinputValidationWarningBorder: theme.getColor(inputValidationWarningBorder),\n\t\t\tinputValidationErrorBackground: theme.getColor(inputValidationErrorBackground),\n\t\t\tinputValidationErrorForeground: theme.getColor(inputValidationErrorForeground),\n\t\t\tinputValidationErrorBorder: theme.getColor(inputValidationErrorBorder)\n\t\t};\n\t\tthis._findInput.style(inputStyles);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\n\t\tif (this._domNode && this._domNode.parentElement) {\n\t\t\tthis._domNode.parentElement.removeChild(this._domNode);\n\t\t}\n\t}\n\n\tpublic getDomNode() {\n\t\treturn this._domNode;\n\t}\n\n\tpublic reveal(initialInput?: string): void {\n\t\tif (initialInput) {\n\t\t\tthis._findInput.setValue(initialInput);\n\t\t}\n\n\t\tif (this._isVisible) {\n\t\t\tthis._findInput.select();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isVisible = true;\n\n\t\tsetTimeout(() => {\n\t\t\tdom.addClass(this._innerDomNode, 'visible');\n\t\t\tdom.addClass(this._innerDomNode, 'visible-transition');\n\t\t\tthis._innerDomNode.setAttribute('aria-hidden', 'false');\n\t\t\tthis._findInput.select();\n\t\t}, 0);\n\t}\n\n\tpublic show(initialInput?: string): void {\n\t\tif (initialInput && !this._isVisible) {\n\t\t\tthis._findInput.setValue(initialInput);\n\t\t}\n\n\t\tthis._isVisible = true;\n\n\t\tsetTimeout(() => {\n\t\t\tdom.addClass(this._innerDomNode, 'visible');\n\t\t\tdom.addClass(this._innerDomNode, 'visible-transition');\n\t\t\tthis._innerDomNode.setAttribute('aria-hidden', 'false');\n\t\t}, 0);\n\t}\n\n\tpublic hide(): void {\n\t\tif (this._isVisible) {\n\t\t\tdom.removeClass(this._innerDomNode, 'visible-transition');\n\t\t\tthis._innerDomNode.setAttribute('aria-hidden', 'true');\n\t\t\t// Need to delay toggling visibility until after Transition, then visibility hidden - removes from tabIndex list\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._isVisible = false;\n\t\t\t\tdom.removeClass(this._innerDomNode, 'visible');\n\t\t\t}, 200);\n\t\t}\n\t}\n\n\tprotected _delayedUpdateHistory() {\n\t\tthis._updateHistoryDelayer.trigger(this._updateHistory.bind(this));\n\t}\n\n\tprotected _updateHistory() {\n\t\tthis._findInput.inputBox.addToHistory();\n\t}\n\n\tprotected _getRegexValue(): boolean {\n\t\treturn this._findInput.getRegex();\n\t}\n\n\tprotected _getWholeWordValue(): boolean {\n\t\treturn this._findInput.getWholeWords();\n\t}\n\n\tprotected _getCaseSensitiveValue(): boolean {\n\t\treturn this._findInput.getCaseSensitive();\n\t}\n}\n\n// theming\nregisterThemingParticipant((theme, collector) => {\n\tconst findWidgetBGColor = theme.getColor(editorWidgetBackground);\n\tif (findWidgetBGColor) {\n\t\tcollector.addRule(`.monaco-workbench .simple-find-part { background-color: ${findWidgetBGColor} !important; }`);\n\t}\n\n\tconst widgetShadowColor = theme.getColor(widgetShadow);\n\tif (widgetShadowColor) {\n\t\tcollector.addRule(`.monaco-workbench .simple-find-part { box-shadow: 0 2px 8px ${widgetShadowColor}; }`);\n\t}\n});"]}]}