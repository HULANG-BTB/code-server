{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/dialog/dialog.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/dialog/dialog.ts","mtime":1555102316000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nrequire(\"vs/css!./dialog\");\nvar nls = require(\"vs/nls\");\nvar lifecycle_1 = require(\"vs/base/common/lifecycle\");\nvar dom_1 = require(\"vs/base/browser/dom\");\nvar event_1 = require(\"vs/base/browser/event\");\nvar keyboardEvent_1 = require(\"vs/base/browser/keyboardEvent\");\nvar keyCodes_1 = require(\"vs/base/common/keyCodes\");\nvar button_1 = require(\"vs/base/browser/ui/button/button\");\nvar actionbar_1 = require(\"vs/base/browser/ui/actionbar/actionbar\");\nvar actions_1 = require(\"vs/base/common/actions\");\nvar labels_1 = require(\"vs/base/common/labels\");\nvar Dialog = /** @class */ (function (_super) {\n    tslib_1.__extends(Dialog, _super);\n    function Dialog(container, message, buttons, options) {\n        var _this = _super.call(this) || this;\n        _this.container = container;\n        _this.message = message;\n        _this.buttons = buttons;\n        _this.options = options;\n        _this.modal = _this.container.appendChild(dom_1.$('.dialog-modal-block'));\n        _this.element = _this.modal.appendChild(dom_1.$('.dialog-box'));\n        dom_1.hide(_this.element);\n        var buttonsRowElement = _this.element.appendChild(dom_1.$('.dialog-buttons-row'));\n        _this.buttonsContainer = buttonsRowElement.appendChild(dom_1.$('.dialog-buttons'));\n        var messageRowElement = _this.element.appendChild(dom_1.$('.dialog-message-row'));\n        _this.iconElement = messageRowElement.appendChild(dom_1.$('.dialog-icon'));\n        var messageContainer = messageRowElement.appendChild(dom_1.$('.dialog-message-container'));\n        if (_this.options.detail) {\n            var messageElement = messageContainer.appendChild(dom_1.$('.dialog-message'));\n            messageElement.innerText = _this.message;\n        }\n        var messageDetailElement = messageContainer.appendChild(dom_1.$('.dialog-message-detail'));\n        messageDetailElement.innerText = _this.options.detail ? _this.options.detail : message;\n        var toolbarRowElement = _this.element.appendChild(dom_1.$('.dialog-toolbar-row'));\n        _this.toolbarContainer = toolbarRowElement.appendChild(dom_1.$('.dialog-toolbar'));\n        return _this;\n    }\n    Dialog.prototype.show = function () {\n        return tslib_1.__awaiter(this, void 0, Promise, function () {\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve) {\n                        if (!_this.element || !_this.buttonsContainer || !_this.iconElement || !_this.toolbarContainer) {\n                            resolve(0);\n                            return;\n                        }\n                        if (_this.modal) {\n                            _this._register(event_1.domEvent(_this.modal, 'mousedown')(function (e) {\n                                // Used to stop focusing of modal with mouse\n                                dom_1.EventHelper.stop(e, true);\n                            }));\n                        }\n                        dom_1.clearNode(_this.buttonsContainer);\n                        var focusedButton = 0;\n                        _this.buttonGroup = new button_1.ButtonGroup(_this.buttonsContainer, _this.buttons.length, { title: true });\n                        _this.buttonGroup.buttons.forEach(function (button, index) {\n                            button.label = labels_1.mnemonicButtonLabel(_this.buttons[index], true);\n                            _this._register(button.onDidClick(function (e) {\n                                dom_1.EventHelper.stop(e);\n                                resolve(index);\n                            }));\n                        });\n                        _this._register(event_1.domEvent(window, 'keydown', true)(function (e) {\n                            var evt = new keyboardEvent_1.StandardKeyboardEvent(e);\n                            if (evt.equals(keyCodes_1.KeyCode.Enter) || evt.equals(keyCodes_1.KeyCode.Space)) {\n                                return;\n                            }\n                            if (_this.buttonGroup) {\n                                if (evt.equals(keyCodes_1.KeyMod.Shift | keyCodes_1.KeyCode.Tab) || evt.equals(keyCodes_1.KeyCode.LeftArrow)) {\n                                    focusedButton = focusedButton + _this.buttonGroup.buttons.length - 1;\n                                    focusedButton = focusedButton % _this.buttonGroup.buttons.length;\n                                    _this.buttonGroup.buttons[focusedButton].focus();\n                                }\n                                else if (evt.equals(keyCodes_1.KeyCode.Tab) || evt.equals(keyCodes_1.KeyCode.RightArrow)) {\n                                    focusedButton++;\n                                    focusedButton = focusedButton % _this.buttonGroup.buttons.length;\n                                    _this.buttonGroup.buttons[focusedButton].focus();\n                                }\n                            }\n                            dom_1.EventHelper.stop(e, true);\n                        }));\n                        _this._register(event_1.domEvent(window, 'keyup', true)(function (e) {\n                            dom_1.EventHelper.stop(e, true);\n                            var evt = new keyboardEvent_1.StandardKeyboardEvent(e);\n                            if (evt.equals(keyCodes_1.KeyCode.Escape)) {\n                                resolve(_this.options.cancelId || 0);\n                            }\n                        }));\n                        dom_1.removeClasses(_this.iconElement, 'icon-error', 'icon-warning', 'icon-info');\n                        switch (_this.options.type) {\n                            case 'error':\n                                dom_1.addClass(_this.iconElement, 'icon-error');\n                                break;\n                            case 'warning':\n                                dom_1.addClass(_this.iconElement, 'icon-warning');\n                                break;\n                            case 'none':\n                            case 'info':\n                            case 'question':\n                            default:\n                                dom_1.addClass(_this.iconElement, 'icon-info');\n                                break;\n                        }\n                        var actionBar = new actionbar_1.ActionBar(_this.toolbarContainer, {});\n                        var action = new actions_1.Action('dialog.close', nls.localize('dialogClose', \"Close Dialog\"), 'dialog-close-action', true, function () {\n                            resolve(_this.options.cancelId || 0);\n                            return Promise.resolve();\n                        });\n                        actionBar.push(action, { icon: true, label: false, });\n                        _this.applyStyles();\n                        dom_1.show(_this.element);\n                        // Focus first element\n                        _this.buttonGroup.buttons[focusedButton].focus();\n                    })];\n            });\n        });\n    };\n    Dialog.prototype.applyStyles = function () {\n        if (this.styles) {\n            var style_1 = this.styles;\n            var fgColor = style_1.dialogForeground ? \"\" + style_1.dialogForeground : null;\n            var bgColor = style_1.dialogBackground ? \"\" + style_1.dialogBackground : null;\n            var shadowColor = style_1.dialogShadow ? \"0 0px 8px \" + style_1.dialogShadow : null;\n            var border = style_1.dialogBorder ? \"1px solid \" + style_1.dialogBorder : null;\n            if (this.element) {\n                this.element.style.color = fgColor;\n                this.element.style.backgroundColor = bgColor;\n                this.element.style.boxShadow = shadowColor;\n                this.element.style.border = border;\n                if (this.buttonGroup) {\n                    this.buttonGroup.buttons.forEach(function (button) { return button.style(style_1); });\n                }\n            }\n        }\n    };\n    Dialog.prototype.style = function (style) {\n        this.styles = style;\n        this.applyStyles();\n    };\n    Dialog.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this.modal) {\n            dom_1.removeNode(this.modal);\n            this.modal = undefined;\n        }\n    };\n    return Dialog;\n}(lifecycle_1.Disposable));\nexports.Dialog = Dialog;\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/dialog/dialog.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/base/browser/ui/dialog/dialog.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./dialog';\nimport * as nls from 'vs/nls';\nimport { Disposable } from 'vs/base/common/lifecycle';\nimport { $, hide, show, EventHelper, clearNode, removeClasses, addClass, removeNode } from 'vs/base/browser/dom';\nimport { domEvent } from 'vs/base/browser/event';\nimport { StandardKeyboardEvent } from 'vs/base/browser/keyboardEvent';\nimport { KeyCode, KeyMod } from 'vs/base/common/keyCodes';\nimport { Color } from 'vs/base/common/color';\nimport { ButtonGroup, IButtonStyles } from 'vs/base/browser/ui/button/button';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { Action } from 'vs/base/common/actions';\nimport { mnemonicButtonLabel } from 'vs/base/common/labels';\n\nexport interface IDialogOptions {\n\tcancelId?: number;\n\tdetail?: string;\n\ttype?: 'none' | 'info' | 'error' | 'question' | 'warning';\n}\n\nexport interface IDialogStyles extends IButtonStyles {\n\tdialogForeground?: Color;\n\tdialogBackground?: Color;\n\tdialogShadow?: Color;\n\tdialogBorder?: Color;\n}\n\nexport class Dialog extends Disposable {\n\tprivate element: HTMLElement | undefined;\n\tprivate modal: HTMLElement | undefined;\n\tprivate buttonsContainer: HTMLElement | undefined;\n\tprivate iconElement: HTMLElement | undefined;\n\tprivate toolbarContainer: HTMLElement | undefined;\n\tprivate buttonGroup: ButtonGroup | undefined;\n\tprivate styles: IDialogStyles | undefined;\n\n\tconstructor(private container: HTMLElement, private message: string, private buttons: string[], private options: IDialogOptions) {\n\t\tsuper();\n\t\tthis.modal = this.container.appendChild($('.dialog-modal-block'));\n\t\tthis.element = this.modal.appendChild($('.dialog-box'));\n\t\thide(this.element);\n\n\t\tconst buttonsRowElement = this.element.appendChild($('.dialog-buttons-row'));\n\t\tthis.buttonsContainer = buttonsRowElement.appendChild($('.dialog-buttons'));\n\n\t\tconst messageRowElement = this.element.appendChild($('.dialog-message-row'));\n\t\tthis.iconElement = messageRowElement.appendChild($('.dialog-icon'));\n\t\tconst messageContainer = messageRowElement.appendChild($('.dialog-message-container'));\n\n\t\tif (this.options.detail) {\n\t\t\tconst messageElement = messageContainer.appendChild($('.dialog-message'));\n\t\t\tmessageElement.innerText = this.message;\n\t\t}\n\n\t\tconst messageDetailElement = messageContainer.appendChild($('.dialog-message-detail'));\n\t\tmessageDetailElement.innerText = this.options.detail ? this.options.detail : message;\n\n\t\tconst toolbarRowElement = this.element.appendChild($('.dialog-toolbar-row'));\n\t\tthis.toolbarContainer = toolbarRowElement.appendChild($('.dialog-toolbar'));\n\t}\n\n\tasync show(): Promise<number> {\n\t\treturn new Promise<number>((resolve) => {\n\t\t\tif (!this.element || !this.buttonsContainer || !this.iconElement || !this.toolbarContainer) {\n\t\t\t\tresolve(0);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.modal) {\n\t\t\t\tthis._register(domEvent(this.modal, 'mousedown')(e => {\n\t\t\t\t\t// Used to stop focusing of modal with mouse\n\t\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tclearNode(this.buttonsContainer);\n\n\t\t\tlet focusedButton = 0;\n\t\t\tthis.buttonGroup = new ButtonGroup(this.buttonsContainer, this.buttons.length, { title: true });\n\t\t\tthis.buttonGroup.buttons.forEach((button, index) => {\n\t\t\t\tbutton.label = mnemonicButtonLabel(this.buttons[index], true);\n\n\t\t\t\tthis._register(button.onDidClick(e => {\n\t\t\t\t\tEventHelper.stop(e);\n\t\t\t\t\tresolve(index);\n\t\t\t\t}));\n\t\t\t});\n\n\t\t\tthis._register(domEvent(window, 'keydown', true)((e: KeyboardEvent) => {\n\t\t\t\tconst evt = new StandardKeyboardEvent(e);\n\t\t\t\tif (evt.equals(KeyCode.Enter) || evt.equals(KeyCode.Space)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.buttonGroup) {\n\t\t\t\t\tif (evt.equals(KeyMod.Shift | KeyCode.Tab) || evt.equals(KeyCode.LeftArrow)) {\n\t\t\t\t\t\tfocusedButton = focusedButton + this.buttonGroup.buttons.length - 1;\n\t\t\t\t\t\tfocusedButton = focusedButton % this.buttonGroup.buttons.length;\n\t\t\t\t\t\tthis.buttonGroup.buttons[focusedButton].focus();\n\t\t\t\t\t} else if (evt.equals(KeyCode.Tab) || evt.equals(KeyCode.RightArrow)) {\n\t\t\t\t\t\tfocusedButton++;\n\t\t\t\t\t\tfocusedButton = focusedButton % this.buttonGroup.buttons.length;\n\t\t\t\t\t\tthis.buttonGroup.buttons[focusedButton].focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tEventHelper.stop(e, true);\n\t\t\t}));\n\n\t\t\tthis._register(domEvent(window, 'keyup', true)((e: KeyboardEvent) => {\n\t\t\t\tEventHelper.stop(e, true);\n\t\t\t\tconst evt = new StandardKeyboardEvent(e);\n\n\t\t\t\tif (evt.equals(KeyCode.Escape)) {\n\t\t\t\t\tresolve(this.options.cancelId || 0);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tremoveClasses(this.iconElement, 'icon-error', 'icon-warning', 'icon-info');\n\n\t\t\tswitch (this.options.type) {\n\t\t\t\tcase 'error':\n\t\t\t\t\taddClass(this.iconElement, 'icon-error');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'warning':\n\t\t\t\t\taddClass(this.iconElement, 'icon-warning');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'none':\n\t\t\t\tcase 'info':\n\t\t\t\tcase 'question':\n\t\t\t\tdefault:\n\t\t\t\t\taddClass(this.iconElement, 'icon-info');\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst actionBar = new ActionBar(this.toolbarContainer, {});\n\n\t\t\tconst action = new Action('dialog.close', nls.localize('dialogClose', \"Close Dialog\"), 'dialog-close-action', true, () => {\n\t\t\t\tresolve(this.options.cancelId || 0);\n\t\t\t\treturn Promise.resolve();\n\t\t\t});\n\n\t\t\tactionBar.push(action, { icon: true, label: false, });\n\n\t\t\tthis.applyStyles();\n\n\t\t\tshow(this.element);\n\n\t\t\t// Focus first element\n\t\t\tthis.buttonGroup.buttons[focusedButton].focus();\n\t\t});\n\t}\n\n\tprivate applyStyles() {\n\t\tif (this.styles) {\n\t\t\tconst style = this.styles;\n\n\t\t\tconst fgColor = style.dialogForeground ? `${style.dialogForeground}` : null;\n\t\t\tconst bgColor = style.dialogBackground ? `${style.dialogBackground}` : null;\n\t\t\tconst shadowColor = style.dialogShadow ? `0 0px 8px ${style.dialogShadow}` : null;\n\t\t\tconst border = style.dialogBorder ? `1px solid ${style.dialogBorder}` : null;\n\n\t\t\tif (this.element) {\n\t\t\t\tthis.element.style.color = fgColor;\n\t\t\t\tthis.element.style.backgroundColor = bgColor;\n\t\t\t\tthis.element.style.boxShadow = shadowColor;\n\t\t\t\tthis.element.style.border = border;\n\n\t\t\t\tif (this.buttonGroup) {\n\t\t\t\t\tthis.buttonGroup.buttons.forEach(button => button.style(style));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstyle(style: IDialogStyles): void {\n\t\tthis.styles = style;\n\t\tthis.applyStyles();\n\t}\n\n\tdispose(): void {\n\t\tsuper.dispose();\n\t\tif (this.modal) {\n\t\t\tremoveNode(this.modal);\n\t\t\tthis.modal = undefined;\n\t\t}\n\t}\n}"]}]}