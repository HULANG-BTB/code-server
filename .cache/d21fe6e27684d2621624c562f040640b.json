{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/welcome/walkThrough/browser/walkThroughPart.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/welcome/walkThrough/browser/walkThroughPart.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nrequire(\"vs/css!./walkThroughPart\");\nvar scrollableElement_1 = require(\"vs/base/browser/ui/scrollbar/scrollableElement\");\nvar scrollable_1 = require(\"vs/base/common/scrollable\");\nvar strings = require(\"vs/base/common/strings\");\nvar uri_1 = require(\"vs/base/common/uri\");\nvar lifecycle_1 = require(\"vs/base/common/lifecycle\");\nvar baseEditor_1 = require(\"vs/workbench/browser/parts/editor/baseEditor\");\nvar telemetry_1 = require(\"vs/platform/telemetry/common/telemetry\");\nvar walkThroughInput_1 = require(\"vs/workbench/contrib/welcome/walkThrough/common/walkThroughInput\");\nvar opener_1 = require(\"vs/platform/opener/common/opener\");\nvar marked = require(\"vs/base/common/marked/marked\");\nvar modelService_1 = require(\"vs/editor/common/services/modelService\");\nvar codeEditorWidget_1 = require(\"vs/editor/browser/widget/codeEditorWidget\");\nvar instantiation_1 = require(\"vs/platform/instantiation/common/instantiation\");\nvar keybinding_1 = require(\"vs/platform/keybinding/common/keybinding\");\nvar nls_1 = require(\"vs/nls\");\nvar storage_1 = require(\"vs/platform/storage/common/storage\");\nvar contextkey_1 = require(\"vs/platform/contextkey/common/contextkey\");\nvar configuration_1 = require(\"vs/platform/configuration/common/configuration\");\nvar event_1 = require(\"vs/base/common/event\");\nvar types_1 = require(\"vs/base/common/types\");\nvar commands_1 = require(\"vs/platform/commands/common/commands\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar colorRegistry_1 = require(\"vs/platform/theme/common/colorRegistry\");\nvar walkThroughUtils_1 = require(\"vs/workbench/contrib/welcome/walkThrough/common/walkThroughUtils\");\nvar keybindingLabels_1 = require(\"vs/base/common/keybindingLabels\");\nvar platform_1 = require(\"vs/base/common/platform\");\nvar objects_1 = require(\"vs/base/common/objects\");\nvar notification_1 = require(\"vs/platform/notification/common/notification\");\nvar dom_1 = require(\"vs/base/browser/dom\");\nvar editorGroupsService_1 = require(\"vs/workbench/services/editor/common/editorGroupsService\");\nexports.WALK_THROUGH_FOCUS = new contextkey_1.RawContextKey('interactivePlaygroundFocus', false);\nvar UNBOUND_COMMAND = nls_1.localize('walkThrough.unboundCommand', \"unbound\");\nvar WALK_THROUGH_EDITOR_VIEW_STATE_PREFERENCE_KEY = 'walkThroughEditorViewState';\nvar WalkThroughPart = /** @class */ (function (_super) {\n    tslib_1.__extends(WalkThroughPart, _super);\n    function WalkThroughPart(telemetryService, themeService, modelService, instantiationService, openerService, keybindingService, storageService, contextKeyService, configurationService, notificationService, editorGroupService) {\n        var _this = _super.call(this, WalkThroughPart.ID, telemetryService, themeService, storageService) || this;\n        _this.instantiationService = instantiationService;\n        _this.openerService = openerService;\n        _this.keybindingService = keybindingService;\n        _this.contextKeyService = contextKeyService;\n        _this.configurationService = configurationService;\n        _this.notificationService = notificationService;\n        _this.disposables = [];\n        _this.contentDisposables = [];\n        _this.editorFocus = exports.WALK_THROUGH_FOCUS.bindTo(_this.contextKeyService);\n        _this.editorMemento = _this.getEditorMemento(editorGroupService, WALK_THROUGH_EDITOR_VIEW_STATE_PREFERENCE_KEY);\n        return _this;\n    }\n    WalkThroughPart.prototype.createEditor = function (container) {\n        var _this = this;\n        this.content = document.createElement('div');\n        this.content.tabIndex = 0;\n        this.content.style.outlineStyle = 'none';\n        this.scrollbar = new scrollableElement_1.DomScrollableElement(this.content, {\n            horizontal: scrollable_1.ScrollbarVisibility.Auto,\n            vertical: scrollable_1.ScrollbarVisibility.Auto\n        });\n        this.disposables.push(this.scrollbar);\n        container.appendChild(this.scrollbar.getDomNode());\n        this.registerFocusHandlers();\n        this.registerClickHandler();\n        this.disposables.push(this.scrollbar.onScroll(function (e) { return _this.updatedScrollPosition(); }));\n    };\n    WalkThroughPart.prototype.updatedScrollPosition = function () {\n        var scrollDimensions = this.scrollbar.getScrollDimensions();\n        var scrollPosition = this.scrollbar.getScrollPosition();\n        var scrollHeight = scrollDimensions.scrollHeight;\n        if (scrollHeight && this.input instanceof walkThroughInput_1.WalkThroughInput) {\n            var scrollTop = scrollPosition.scrollTop;\n            var height = scrollDimensions.height;\n            this.input.relativeScrollPosition(scrollTop / scrollHeight, (scrollTop + height) / scrollHeight);\n        }\n    };\n    WalkThroughPart.prototype.addEventListener = function (element, type, listener, useCapture) {\n        element.addEventListener(type, listener, useCapture);\n        return lifecycle_1.toDisposable(function () { element.removeEventListener(type, listener, useCapture); });\n    };\n    WalkThroughPart.prototype.registerFocusHandlers = function () {\n        var _this = this;\n        this.disposables.push(this.addEventListener(this.content, 'mousedown', function (e) {\n            _this.focus();\n        }));\n        this.disposables.push(this.addEventListener(this.content, 'focus', function (e) {\n            _this.editorFocus.set(true);\n        }));\n        this.disposables.push(this.addEventListener(this.content, 'blur', function (e) {\n            _this.editorFocus.reset();\n        }));\n        this.disposables.push(this.addEventListener(this.content, 'focusin', function (e) {\n            // Work around scrolling as side-effect of setting focus on the offscreen zone widget (#18929)\n            if (e.target instanceof HTMLElement && e.target.classList.contains('zone-widget-container')) {\n                var scrollPosition = _this.scrollbar.getScrollPosition();\n                _this.content.scrollTop = scrollPosition.scrollTop;\n                _this.content.scrollLeft = scrollPosition.scrollLeft;\n            }\n            if (e.target instanceof HTMLElement) {\n                _this.lastFocus = e.target;\n            }\n        }));\n    };\n    WalkThroughPart.prototype.registerClickHandler = function () {\n        var _this = this;\n        this.content.addEventListener('click', function (event) {\n            for (var node = event.target; node; node = node.parentNode) {\n                if (node instanceof HTMLAnchorElement && node.href) {\n                    var baseElement = window.document.getElementsByTagName('base')[0] || window.location;\n                    if (baseElement && node.href.indexOf(baseElement.href) >= 0 && node.hash) {\n                        var scrollTarget = _this.content.querySelector(node.hash);\n                        var innerContent = _this.content.firstElementChild;\n                        if (scrollTarget && innerContent) {\n                            var targetTop = scrollTarget.getBoundingClientRect().top - 20;\n                            var containerTop = innerContent.getBoundingClientRect().top;\n                            _this.scrollbar.setScrollPosition({ scrollTop: targetTop - containerTop });\n                        }\n                    }\n                    else {\n                        _this.open(uri_1.URI.parse(node.href));\n                    }\n                    event.preventDefault();\n                    break;\n                }\n                else if (node instanceof HTMLButtonElement) {\n                    var href = node.getAttribute('data-href');\n                    if (href) {\n                        _this.open(uri_1.URI.parse(href));\n                    }\n                    break;\n                }\n                else if (node === event.currentTarget) {\n                    break;\n                }\n            }\n        });\n    };\n    WalkThroughPart.prototype.open = function (uri) {\n        if (uri.scheme === 'command' && uri.path === 'git.clone' && !commands_1.CommandsRegistry.getCommand('git.clone')) {\n            this.notificationService.info(nls_1.localize('walkThrough.gitNotFound', \"It looks like Git is not installed on your system.\"));\n            return;\n        }\n        this.openerService.open(this.addFrom(uri));\n    };\n    WalkThroughPart.prototype.addFrom = function (uri) {\n        if (uri.scheme !== 'command' || !(this.input instanceof walkThroughInput_1.WalkThroughInput)) {\n            return uri;\n        }\n        var query = uri.query ? JSON.parse(uri.query) : {};\n        query.from = this.input.getTelemetryFrom();\n        return uri.with({ query: JSON.stringify(query) });\n    };\n    WalkThroughPart.prototype.layout = function (dimension) {\n        this.size = dimension;\n        dom_1.size(this.content, dimension.width, dimension.height);\n        this.updateSizeClasses();\n        this.contentDisposables.forEach(function (disposable) {\n            if (disposable instanceof codeEditorWidget_1.CodeEditorWidget) {\n                disposable.layout();\n            }\n        });\n        this.scrollbar.scanDomNode();\n    };\n    WalkThroughPart.prototype.updateSizeClasses = function () {\n        var innerContent = this.content.firstElementChild;\n        if (this.size && innerContent) {\n            var classList = innerContent.classList;\n            classList[this.size.height <= 685 ? 'add' : 'remove']('max-height-685px');\n        }\n    };\n    WalkThroughPart.prototype.focus = function () {\n        var active = document.activeElement;\n        while (active && active !== this.content) {\n            active = active.parentElement;\n        }\n        if (!active) {\n            (this.lastFocus || this.content).focus();\n        }\n        this.editorFocus.set(true);\n    };\n    WalkThroughPart.prototype.arrowUp = function () {\n        var scrollPosition = this.scrollbar.getScrollPosition();\n        this.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop - this.getArrowScrollHeight() });\n    };\n    WalkThroughPart.prototype.arrowDown = function () {\n        var scrollPosition = this.scrollbar.getScrollPosition();\n        this.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop + this.getArrowScrollHeight() });\n    };\n    WalkThroughPart.prototype.getArrowScrollHeight = function () {\n        var fontSize = this.configurationService.getValue('editor.fontSize');\n        if (typeof fontSize !== 'number' || fontSize < 1) {\n            fontSize = 12;\n        }\n        return 3 * fontSize;\n    };\n    WalkThroughPart.prototype.pageUp = function () {\n        var scrollDimensions = this.scrollbar.getScrollDimensions();\n        var scrollPosition = this.scrollbar.getScrollPosition();\n        this.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop - scrollDimensions.height });\n    };\n    WalkThroughPart.prototype.pageDown = function () {\n        var scrollDimensions = this.scrollbar.getScrollDimensions();\n        var scrollPosition = this.scrollbar.getScrollPosition();\n        this.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop + scrollDimensions.height });\n    };\n    WalkThroughPart.prototype.setInput = function (input, options, token) {\n        var _this = this;\n        if (this.input instanceof walkThroughInput_1.WalkThroughInput) {\n            this.saveTextEditorViewState(this.input);\n        }\n        this.contentDisposables = lifecycle_1.dispose(this.contentDisposables);\n        this.content.innerHTML = '';\n        return _super.prototype.setInput.call(this, input, options, token)\n            .then(function () {\n            return input.resolve();\n        })\n            .then(function (model) {\n            if (token.isCancellationRequested) {\n                return;\n            }\n            var content = model.main.textEditorModel.getLinesContent().join('\\n');\n            if (!strings.endsWith(input.getResource().path, '.md')) {\n                _this.content.innerHTML = content;\n                _this.updateSizeClasses();\n                _this.decorateContent();\n                _this.contentDisposables.push(_this.keybindingService.onDidUpdateKeybindings(function () { return _this.decorateContent(); }));\n                if (input.onReady) {\n                    input.onReady(_this.content.firstElementChild);\n                }\n                _this.scrollbar.scanDomNode();\n                _this.loadTextEditorViewState(input);\n                _this.updatedScrollPosition();\n                return;\n            }\n            var i = 0;\n            var renderer = new marked.Renderer();\n            renderer.code = function (code, lang) {\n                var id = \"snippet-\" + model.snippets[i++].textEditorModel.uri.fragment;\n                return \"<div id=\\\"\" + id + \"\\\" class=\\\"walkThroughEditorContainer\\\" ></div>\";\n            };\n            var innerContent = document.createElement('div');\n            innerContent.classList.add('walkThroughContent'); // only for markdown files\n            var markdown = _this.expandMacros(content);\n            innerContent.innerHTML = marked(markdown, { renderer: renderer });\n            _this.content.appendChild(innerContent);\n            model.snippets.forEach(function (snippet, i) {\n                var model = snippet.textEditorModel;\n                var id = \"snippet-\" + model.uri.fragment;\n                var div = innerContent.querySelector(\"#\" + id.replace(/\\./g, '\\\\.'));\n                var options = _this.getEditorOptions(snippet.textEditorModel.getModeId());\n                /* __GDPR__FRAGMENT__\n                    \"EditorTelemetryData\" : {\n                        \"target\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                        \"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n                    }\n                */\n                var telemetryData = {\n                    target: _this.input instanceof walkThroughInput_1.WalkThroughInput ? _this.input.getTelemetryFrom() : undefined,\n                    snippet: i\n                };\n                var editor = _this.instantiationService.createInstance(codeEditorWidget_1.CodeEditorWidget, div, options, {\n                    telemetryData: telemetryData\n                });\n                editor.setModel(model);\n                _this.contentDisposables.push(editor);\n                var updateHeight = function (initial) {\n                    var lineHeight = editor.getConfiguration().lineHeight;\n                    var height = Math.max(model.getLineCount() + 1, 4) * lineHeight + \"px\";\n                    if (div.style.height !== height) {\n                        div.style.height = height;\n                        editor.layout();\n                        if (!initial) {\n                            _this.scrollbar.scanDomNode();\n                        }\n                    }\n                };\n                updateHeight(true);\n                _this.contentDisposables.push(editor.onDidChangeModelContent(function () { return updateHeight(false); }));\n                _this.contentDisposables.push(editor.onDidChangeCursorPosition(function (e) {\n                    var innerContent = _this.content.firstElementChild;\n                    if (innerContent) {\n                        var targetTop = div.getBoundingClientRect().top;\n                        var containerTop = innerContent.getBoundingClientRect().top;\n                        var lineHeight = editor.getConfiguration().lineHeight;\n                        var lineTop = (targetTop + (e.position.lineNumber - 1) * lineHeight) - containerTop;\n                        var lineBottom = lineTop + lineHeight;\n                        var scrollDimensions = _this.scrollbar.getScrollDimensions();\n                        var scrollPosition = _this.scrollbar.getScrollPosition();\n                        var scrollTop = scrollPosition.scrollTop;\n                        var height = scrollDimensions.height;\n                        if (scrollTop > lineTop) {\n                            _this.scrollbar.setScrollPosition({ scrollTop: lineTop });\n                        }\n                        else if (scrollTop < lineBottom - height) {\n                            _this.scrollbar.setScrollPosition({ scrollTop: lineBottom - height });\n                        }\n                    }\n                }));\n                _this.contentDisposables.push(_this.configurationService.onDidChangeConfiguration(function () {\n                    if (snippet.textEditorModel) {\n                        editor.updateOptions(_this.getEditorOptions(snippet.textEditorModel.getModeId()));\n                    }\n                }));\n                _this.contentDisposables.push(event_1.Event.once(editor.onMouseDown)(function () {\n                    /* __GDPR__\n                        \"walkThroughSnippetInteraction\" : {\n                            \"from\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                            \"type\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                            \"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n                        }\n                    */\n                    _this.telemetryService.publicLog('walkThroughSnippetInteraction', {\n                        from: _this.input instanceof walkThroughInput_1.WalkThroughInput ? _this.input.getTelemetryFrom() : undefined,\n                        type: 'mouseDown',\n                        snippet: i\n                    });\n                }));\n                _this.contentDisposables.push(event_1.Event.once(editor.onKeyDown)(function () {\n                    /* __GDPR__\n                        \"walkThroughSnippetInteraction\" : {\n                            \"from\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                            \"type\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                            \"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n                        }\n                    */\n                    _this.telemetryService.publicLog('walkThroughSnippetInteraction', {\n                        from: _this.input instanceof walkThroughInput_1.WalkThroughInput ? _this.input.getTelemetryFrom() : undefined,\n                        type: 'keyDown',\n                        snippet: i\n                    });\n                }));\n                _this.contentDisposables.push(event_1.Event.once(editor.onDidChangeModelContent)(function () {\n                    /* __GDPR__\n                        \"walkThroughSnippetInteraction\" : {\n                            \"from\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                            \"type\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                            \"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n                        }\n                    */\n                    _this.telemetryService.publicLog('walkThroughSnippetInteraction', {\n                        from: _this.input instanceof walkThroughInput_1.WalkThroughInput ? _this.input.getTelemetryFrom() : undefined,\n                        type: 'changeModelContent',\n                        snippet: i\n                    });\n                }));\n            });\n            _this.updateSizeClasses();\n            _this.multiCursorModifier();\n            _this.contentDisposables.push(_this.configurationService.onDidChangeConfiguration(function (e) {\n                if (e.affectsConfiguration('editor.multiCursorModifier')) {\n                    _this.multiCursorModifier();\n                }\n            }));\n            if (input.onReady) {\n                input.onReady(innerContent);\n            }\n            _this.scrollbar.scanDomNode();\n            _this.loadTextEditorViewState(input);\n            _this.updatedScrollPosition();\n        });\n    };\n    WalkThroughPart.prototype.getEditorOptions = function (language) {\n        var config = objects_1.deepClone(this.configurationService.getValue('editor', { overrideIdentifier: language }));\n        return tslib_1.__assign({}, types_1.isObject(config) ? config : Object.create(null), { scrollBeyondLastLine: false, scrollbar: {\n                verticalScrollbarSize: 14,\n                horizontal: 'auto',\n                useShadows: true,\n                verticalHasArrows: false,\n                horizontalHasArrows: false\n            }, overviewRulerLanes: 3, fixedOverflowWidgets: true, lineNumbersMinChars: 1, minimap: { enabled: false } });\n    };\n    WalkThroughPart.prototype.expandMacros = function (input) {\n        var _this = this;\n        return input.replace(/kb\\(([a-z.\\d\\-]+)\\)/gi, function (match, kb) {\n            var keybinding = _this.keybindingService.lookupKeybinding(kb);\n            var shortcut = keybinding ? keybinding.getLabel() || '' : UNBOUND_COMMAND;\n            return \"<span class=\\\"shortcut\\\">\" + strings.escape(shortcut) + \"</span>\";\n        });\n    };\n    WalkThroughPart.prototype.decorateContent = function () {\n        var _this = this;\n        var keys = this.content.querySelectorAll('.shortcut[data-command]');\n        Array.prototype.forEach.call(keys, function (key) {\n            var command = key.getAttribute('data-command');\n            var keybinding = command && _this.keybindingService.lookupKeybinding(command);\n            var label = keybinding ? keybinding.getLabel() || '' : UNBOUND_COMMAND;\n            while (key.firstChild) {\n                key.removeChild(key.firstChild);\n            }\n            key.appendChild(document.createTextNode(label));\n        });\n        var ifkeys = this.content.querySelectorAll('.if_shortcut[data-command]');\n        Array.prototype.forEach.call(ifkeys, function (key) {\n            var command = key.getAttribute('data-command');\n            var keybinding = command && _this.keybindingService.lookupKeybinding(command);\n            key.style.display = !keybinding ? 'none' : '';\n        });\n    };\n    WalkThroughPart.prototype.multiCursorModifier = function () {\n        var labels = keybindingLabels_1.UILabelProvider.modifierLabels[platform_1.OS];\n        var value = this.configurationService.getValue('editor.multiCursorModifier');\n        var modifier = labels[value === 'ctrlCmd' ? (platform_1.OS === platform_1.OperatingSystem.Macintosh ? 'metaKey' : 'ctrlKey') : 'altKey'];\n        var keys = this.content.querySelectorAll('.multi-cursor-modifier');\n        Array.prototype.forEach.call(keys, function (key) {\n            while (key.firstChild) {\n                key.removeChild(key.firstChild);\n            }\n            key.appendChild(document.createTextNode(modifier));\n        });\n    };\n    WalkThroughPart.prototype.saveTextEditorViewState = function (input) {\n        var scrollPosition = this.scrollbar.getScrollPosition();\n        if (this.group) {\n            this.editorMemento.saveEditorState(this.group, input, {\n                viewState: {\n                    scrollTop: scrollPosition.scrollTop,\n                    scrollLeft: scrollPosition.scrollLeft\n                }\n            });\n        }\n    };\n    WalkThroughPart.prototype.loadTextEditorViewState = function (input) {\n        if (this.group) {\n            var state = this.editorMemento.loadEditorState(this.group, input);\n            if (state) {\n                this.scrollbar.setScrollPosition(state.viewState);\n            }\n        }\n    };\n    WalkThroughPart.prototype.clearInput = function () {\n        if (this.input instanceof walkThroughInput_1.WalkThroughInput) {\n            this.saveTextEditorViewState(this.input);\n        }\n        _super.prototype.clearInput.call(this);\n    };\n    WalkThroughPart.prototype.saveState = function () {\n        if (this.input instanceof walkThroughInput_1.WalkThroughInput) {\n            this.saveTextEditorViewState(this.input);\n        }\n        _super.prototype.saveState.call(this);\n    };\n    WalkThroughPart.prototype.dispose = function () {\n        this.editorFocus.reset();\n        this.contentDisposables = lifecycle_1.dispose(this.contentDisposables);\n        this.disposables = lifecycle_1.dispose(this.disposables);\n        _super.prototype.dispose.call(this);\n    };\n    WalkThroughPart.ID = 'workbench.editor.walkThroughPart';\n    WalkThroughPart = tslib_1.__decorate([\n        tslib_1.__param(0, telemetry_1.ITelemetryService),\n        tslib_1.__param(1, themeService_1.IThemeService),\n        tslib_1.__param(2, modelService_1.IModelService),\n        tslib_1.__param(3, instantiation_1.IInstantiationService),\n        tslib_1.__param(4, opener_1.IOpenerService),\n        tslib_1.__param(5, keybinding_1.IKeybindingService),\n        tslib_1.__param(6, storage_1.IStorageService),\n        tslib_1.__param(7, contextkey_1.IContextKeyService),\n        tslib_1.__param(8, configuration_1.IConfigurationService),\n        tslib_1.__param(9, notification_1.INotificationService),\n        tslib_1.__param(10, editorGroupsService_1.IEditorGroupsService)\n    ], WalkThroughPart);\n    return WalkThroughPart;\n}(baseEditor_1.BaseEditor));\nexports.WalkThroughPart = WalkThroughPart;\n// theming\nexports.embeddedEditorBackground = colorRegistry_1.registerColor('walkThrough.embeddedEditorBackground', { dark: null, light: null, hc: null }, nls_1.localize('walkThrough.embeddedEditorBackground', 'Background color for the embedded editors on the Interactive Playground.'));\nthemeService_1.registerThemingParticipant(function (theme, collector) {\n    var color = walkThroughUtils_1.getExtraColor(theme, exports.embeddedEditorBackground, { dark: 'rgba(0, 0, 0, .4)', extra_dark: 'rgba(200, 235, 255, .064)', light: '#f4f4f4', hc: null });\n    if (color) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent .monaco-editor-background,\\n\\t\\t\\t.monaco-workbench .part.editor > .content .walkThroughContent .margin-view-overlays { background: \" + color + \"; }\");\n    }\n    var link = theme.getColor(colorRegistry_1.textLinkForeground);\n    if (link) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent a { color: \" + link + \"; }\");\n    }\n    var activeLink = theme.getColor(colorRegistry_1.textLinkActiveForeground);\n    if (activeLink) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent a:hover,\\n\\t\\t\\t.monaco-workbench .part.editor > .content .walkThroughContent a:active { color: \" + activeLink + \"; }\");\n    }\n    var focusColor = theme.getColor(colorRegistry_1.focusBorder);\n    if (focusColor) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent a:focus { outline-color: \" + focusColor + \"; }\");\n    }\n    var shortcut = theme.getColor(colorRegistry_1.textPreformatForeground);\n    if (shortcut) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent code,\\n\\t\\t\\t.monaco-workbench .part.editor > .content .walkThroughContent .shortcut { color: \" + shortcut + \"; }\");\n    }\n    var border = theme.getColor(colorRegistry_1.contrastBorder);\n    if (border) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent .monaco-editor { border-color: \" + border + \"; }\");\n    }\n    var quoteBackground = theme.getColor(colorRegistry_1.textBlockQuoteBackground);\n    if (quoteBackground) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent blockquote { background: \" + quoteBackground + \"; }\");\n    }\n    var quoteBorder = theme.getColor(colorRegistry_1.textBlockQuoteBorder);\n    if (quoteBorder) {\n        collector.addRule(\".monaco-workbench .part.editor > .content .walkThroughContent blockquote { border-color: \" + quoteBorder + \"; }\");\n    }\n});\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/welcome/walkThrough/browser/walkThroughPart.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/welcome/walkThrough/browser/walkThroughPart.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./walkThroughPart';\nimport { DomScrollableElement } from 'vs/base/browser/ui/scrollbar/scrollableElement';\nimport { ScrollbarVisibility } from 'vs/base/common/scrollable';\nimport * as strings from 'vs/base/common/strings';\nimport { URI } from 'vs/base/common/uri';\nimport { IDisposable, dispose, toDisposable } from 'vs/base/common/lifecycle';\nimport { EditorOptions, IEditorMemento } from 'vs/workbench/common/editor';\nimport { BaseEditor } from 'vs/workbench/browser/parts/editor/baseEditor';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { WalkThroughInput } from 'vs/workbench/contrib/welcome/walkThrough/common/walkThroughInput';\nimport { IOpenerService } from 'vs/platform/opener/common/opener';\nimport * as marked from 'vs/base/common/marked/marked';\nimport { IModelService } from 'vs/editor/common/services/modelService';\nimport { CodeEditorWidget } from 'vs/editor/browser/widget/codeEditorWidget';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { localize } from 'vs/nls';\nimport { IStorageService } from 'vs/platform/storage/common/storage';\nimport { RawContextKey, IContextKey, IContextKeyService } from 'vs/platform/contextkey/common/contextkey';\nimport { IConfigurationService } from 'vs/platform/configuration/common/configuration';\nimport { Event } from 'vs/base/common/event';\nimport { isObject } from 'vs/base/common/types';\nimport { CommandsRegistry } from 'vs/platform/commands/common/commands';\nimport { IEditorOptions } from 'vs/editor/common/config/editorOptions';\nimport { IThemeService, registerThemingParticipant } from 'vs/platform/theme/common/themeService';\nimport { registerColor, focusBorder, textLinkForeground, textLinkActiveForeground, textPreformatForeground, contrastBorder, textBlockQuoteBackground, textBlockQuoteBorder } from 'vs/platform/theme/common/colorRegistry';\nimport { getExtraColor } from 'vs/workbench/contrib/welcome/walkThrough/common/walkThroughUtils';\nimport { UILabelProvider } from 'vs/base/common/keybindingLabels';\nimport { OS, OperatingSystem } from 'vs/base/common/platform';\nimport { deepClone } from 'vs/base/common/objects';\nimport { INotificationService } from 'vs/platform/notification/common/notification';\nimport { Dimension, size } from 'vs/base/browser/dom';\nimport { IEditorGroupsService } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { CancellationToken } from 'vs/base/common/cancellation';\n\nexport const WALK_THROUGH_FOCUS = new RawContextKey<boolean>('interactivePlaygroundFocus', false);\n\nconst UNBOUND_COMMAND = localize('walkThrough.unboundCommand', \"unbound\");\nconst WALK_THROUGH_EDITOR_VIEW_STATE_PREFERENCE_KEY = 'walkThroughEditorViewState';\n\ninterface IViewState {\n\tscrollTop: number;\n\tscrollLeft: number;\n}\n\ninterface IWalkThroughEditorViewState {\n\tviewState: IViewState;\n}\n\nexport class WalkThroughPart extends BaseEditor {\n\n\tstatic readonly ID: string = 'workbench.editor.walkThroughPart';\n\n\tprivate disposables: IDisposable[] = [];\n\tprivate contentDisposables: IDisposable[] = [];\n\tprivate content: HTMLDivElement;\n\tprivate scrollbar: DomScrollableElement;\n\tprivate editorFocus: IContextKey<boolean>;\n\tprivate lastFocus: HTMLElement;\n\tprivate size: Dimension;\n\tprivate editorMemento: IEditorMemento<IWalkThroughEditorViewState>;\n\n\tconstructor(\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IModelService modelService: IModelService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService\n\t) {\n\t\tsuper(WalkThroughPart.ID, telemetryService, themeService, storageService);\n\t\tthis.editorFocus = WALK_THROUGH_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.editorMemento = this.getEditorMemento<IWalkThroughEditorViewState>(editorGroupService, WALK_THROUGH_EDITOR_VIEW_STATE_PREFERENCE_KEY);\n\t}\n\n\tcreateEditor(container: HTMLElement): void {\n\t\tthis.content = document.createElement('div');\n\t\tthis.content.tabIndex = 0;\n\t\tthis.content.style.outlineStyle = 'none';\n\n\t\tthis.scrollbar = new DomScrollableElement(this.content, {\n\t\t\thorizontal: ScrollbarVisibility.Auto,\n\t\t\tvertical: ScrollbarVisibility.Auto\n\t\t});\n\t\tthis.disposables.push(this.scrollbar);\n\t\tcontainer.appendChild(this.scrollbar.getDomNode());\n\n\t\tthis.registerFocusHandlers();\n\t\tthis.registerClickHandler();\n\n\t\tthis.disposables.push(this.scrollbar.onScroll(e => this.updatedScrollPosition()));\n\t}\n\n\tprivate updatedScrollPosition() {\n\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tconst scrollHeight = scrollDimensions.scrollHeight;\n\t\tif (scrollHeight && this.input instanceof WalkThroughInput) {\n\t\t\tconst scrollTop = scrollPosition.scrollTop;\n\t\t\tconst height = scrollDimensions.height;\n\t\t\tthis.input.relativeScrollPosition(scrollTop / scrollHeight, (scrollTop + height) / scrollHeight);\n\t\t}\n\t}\n\n\tprivate addEventListener<K extends keyof HTMLElementEventMap, E extends HTMLElement>(element: E, type: K, listener: (this: E, ev: HTMLElementEventMap[K]) => any, useCapture?: boolean): IDisposable;\n\tprivate addEventListener<E extends HTMLElement>(element: E, type: string, listener: EventListenerOrEventListenerObject, useCapture?: boolean): IDisposable;\n\tprivate addEventListener<E extends HTMLElement>(element: E, type: string, listener: EventListenerOrEventListenerObject, useCapture?: boolean): IDisposable {\n\t\telement.addEventListener(type, listener, useCapture);\n\t\treturn toDisposable(() => { element.removeEventListener(type, listener, useCapture); });\n\t}\n\n\tprivate registerFocusHandlers() {\n\t\tthis.disposables.push(this.addEventListener(this.content, 'mousedown', e => {\n\t\t\tthis.focus();\n\t\t}));\n\t\tthis.disposables.push(this.addEventListener(this.content, 'focus', e => {\n\t\t\tthis.editorFocus.set(true);\n\t\t}));\n\t\tthis.disposables.push(this.addEventListener(this.content, 'blur', e => {\n\t\t\tthis.editorFocus.reset();\n\t\t}));\n\t\tthis.disposables.push(this.addEventListener(this.content, 'focusin', e => {\n\t\t\t// Work around scrolling as side-effect of setting focus on the offscreen zone widget (#18929)\n\t\t\tif (e.target instanceof HTMLElement && e.target.classList.contains('zone-widget-container')) {\n\t\t\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\t\t\tthis.content.scrollTop = scrollPosition.scrollTop;\n\t\t\t\tthis.content.scrollLeft = scrollPosition.scrollLeft;\n\t\t\t}\n\t\t\tif (e.target instanceof HTMLElement) {\n\t\t\t\tthis.lastFocus = e.target;\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate registerClickHandler() {\n\t\tthis.content.addEventListener('click', event => {\n\t\t\tfor (let node = event.target as HTMLElement; node; node = node.parentNode as HTMLElement) {\n\t\t\t\tif (node instanceof HTMLAnchorElement && node.href) {\n\t\t\t\t\tlet baseElement = window.document.getElementsByTagName('base')[0] || window.location;\n\t\t\t\t\tif (baseElement && node.href.indexOf(baseElement.href) >= 0 && node.hash) {\n\t\t\t\t\t\tconst scrollTarget = this.content.querySelector(node.hash);\n\t\t\t\t\t\tconst innerContent = this.content.firstElementChild;\n\t\t\t\t\t\tif (scrollTarget && innerContent) {\n\t\t\t\t\t\t\tconst targetTop = scrollTarget.getBoundingClientRect().top - 20;\n\t\t\t\t\t\t\tconst containerTop = innerContent.getBoundingClientRect().top;\n\t\t\t\t\t\t\tthis.scrollbar.setScrollPosition({ scrollTop: targetTop - containerTop });\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open(URI.parse(node.href));\n\t\t\t\t\t}\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (node instanceof HTMLButtonElement) {\n\t\t\t\t\tconst href = node.getAttribute('data-href');\n\t\t\t\t\tif (href) {\n\t\t\t\t\t\tthis.open(URI.parse(href));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (node === event.currentTarget) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate open(uri: URI) {\n\t\tif (uri.scheme === 'command' && uri.path === 'git.clone' && !CommandsRegistry.getCommand('git.clone')) {\n\t\t\tthis.notificationService.info(localize('walkThrough.gitNotFound', \"It looks like Git is not installed on your system.\"));\n\t\t\treturn;\n\t\t}\n\t\tthis.openerService.open(this.addFrom(uri));\n\t}\n\n\tprivate addFrom(uri: URI) {\n\t\tif (uri.scheme !== 'command' || !(this.input instanceof WalkThroughInput)) {\n\t\t\treturn uri;\n\t\t}\n\t\tconst query = uri.query ? JSON.parse(uri.query) : {};\n\t\tquery.from = this.input.getTelemetryFrom();\n\t\treturn uri.with({ query: JSON.stringify(query) });\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tthis.size = dimension;\n\t\tsize(this.content, dimension.width, dimension.height);\n\t\tthis.updateSizeClasses();\n\t\tthis.contentDisposables.forEach(disposable => {\n\t\t\tif (disposable instanceof CodeEditorWidget) {\n\t\t\t\tdisposable.layout();\n\t\t\t}\n\t\t});\n\t\tthis.scrollbar.scanDomNode();\n\t}\n\n\tprivate updateSizeClasses() {\n\t\tconst innerContent = this.content.firstElementChild;\n\t\tif (this.size && innerContent) {\n\t\t\tconst classList = innerContent.classList;\n\t\t\tclassList[this.size.height <= 685 ? 'add' : 'remove']('max-height-685px');\n\t\t}\n\t}\n\n\tfocus(): void {\n\t\tlet active = document.activeElement;\n\t\twhile (active && active !== this.content) {\n\t\t\tactive = active.parentElement;\n\t\t}\n\t\tif (!active) {\n\t\t\t(this.lastFocus || this.content).focus();\n\t\t}\n\t\tthis.editorFocus.set(true);\n\t}\n\n\tarrowUp() {\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop - this.getArrowScrollHeight() });\n\t}\n\n\tarrowDown() {\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop + this.getArrowScrollHeight() });\n\t}\n\n\tprivate getArrowScrollHeight() {\n\t\tlet fontSize = this.configurationService.getValue<number>('editor.fontSize');\n\t\tif (typeof fontSize !== 'number' || fontSize < 1) {\n\t\t\tfontSize = 12;\n\t\t}\n\t\treturn 3 * fontSize;\n\t}\n\n\tpageUp() {\n\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop - scrollDimensions.height });\n\t}\n\n\tpageDown() {\n\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\tthis.scrollbar.setScrollPosition({ scrollTop: scrollPosition.scrollTop + scrollDimensions.height });\n\t}\n\n\tsetInput(input: WalkThroughInput, options: EditorOptions, token: CancellationToken): Promise<void> {\n\t\tif (this.input instanceof WalkThroughInput) {\n\t\t\tthis.saveTextEditorViewState(this.input);\n\t\t}\n\n\t\tthis.contentDisposables = dispose(this.contentDisposables);\n\t\tthis.content.innerHTML = '';\n\n\t\treturn super.setInput(input, options, token)\n\t\t\t.then(() => {\n\t\t\t\treturn input.resolve();\n\t\t\t})\n\t\t\t.then(model => {\n\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst content = model.main.textEditorModel.getLinesContent().join('\\n');\n\t\t\t\tif (!strings.endsWith(input.getResource().path, '.md')) {\n\t\t\t\t\tthis.content.innerHTML = content;\n\t\t\t\t\tthis.updateSizeClasses();\n\t\t\t\t\tthis.decorateContent();\n\t\t\t\t\tthis.contentDisposables.push(this.keybindingService.onDidUpdateKeybindings(() => this.decorateContent()));\n\t\t\t\t\tif (input.onReady) {\n\t\t\t\t\t\tinput.onReady(this.content.firstElementChild as HTMLElement);\n\t\t\t\t\t}\n\t\t\t\t\tthis.scrollbar.scanDomNode();\n\t\t\t\t\tthis.loadTextEditorViewState(input);\n\t\t\t\t\tthis.updatedScrollPosition();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet i = 0;\n\t\t\t\tconst renderer = new marked.Renderer();\n\t\t\t\trenderer.code = (code, lang) => {\n\t\t\t\t\tconst id = `snippet-${model.snippets[i++].textEditorModel.uri.fragment}`;\n\t\t\t\t\treturn `<div id=\"${id}\" class=\"walkThroughEditorContainer\" ></div>`;\n\t\t\t\t};\n\t\t\t\tconst innerContent = document.createElement('div');\n\t\t\t\tinnerContent.classList.add('walkThroughContent'); // only for markdown files\n\t\t\t\tconst markdown = this.expandMacros(content);\n\t\t\t\tinnerContent.innerHTML = marked(markdown, { renderer });\n\t\t\t\tthis.content.appendChild(innerContent);\n\n\t\t\t\tmodel.snippets.forEach((snippet, i) => {\n\t\t\t\t\tconst model = snippet.textEditorModel;\n\t\t\t\t\tconst id = `snippet-${model.uri.fragment}`;\n\t\t\t\t\tconst div = innerContent.querySelector(`#${id.replace(/\\./g, '\\\\.')}`) as HTMLElement;\n\n\t\t\t\t\tconst options = this.getEditorOptions(snippet.textEditorModel.getModeId());\n\t\t\t\t\t/* __GDPR__FRAGMENT__\n\t\t\t\t\t\t\"EditorTelemetryData\" : {\n\t\t\t\t\t\t\t\"target\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\t\tconst telemetryData = {\n\t\t\t\t\t\ttarget: this.input instanceof WalkThroughInput ? this.input.getTelemetryFrom() : undefined,\n\t\t\t\t\t\tsnippet: i\n\t\t\t\t\t};\n\t\t\t\t\tconst editor = this.instantiationService.createInstance(CodeEditorWidget, div, options, {\n\t\t\t\t\t\ttelemetryData: telemetryData\n\t\t\t\t\t});\n\t\t\t\t\teditor.setModel(model);\n\t\t\t\t\tthis.contentDisposables.push(editor);\n\n\t\t\t\t\tconst updateHeight = (initial: boolean) => {\n\t\t\t\t\t\tconst lineHeight = editor.getConfiguration().lineHeight;\n\t\t\t\t\t\tconst height = `${Math.max(model.getLineCount() + 1, 4) * lineHeight}px`;\n\t\t\t\t\t\tif (div.style.height !== height) {\n\t\t\t\t\t\t\tdiv.style.height = height;\n\t\t\t\t\t\t\teditor.layout();\n\t\t\t\t\t\t\tif (!initial) {\n\t\t\t\t\t\t\t\tthis.scrollbar.scanDomNode();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tupdateHeight(true);\n\t\t\t\t\tthis.contentDisposables.push(editor.onDidChangeModelContent(() => updateHeight(false)));\n\t\t\t\t\tthis.contentDisposables.push(editor.onDidChangeCursorPosition(e => {\n\t\t\t\t\t\tconst innerContent = this.content.firstElementChild;\n\t\t\t\t\t\tif (innerContent) {\n\t\t\t\t\t\t\tconst targetTop = div.getBoundingClientRect().top;\n\t\t\t\t\t\t\tconst containerTop = innerContent.getBoundingClientRect().top;\n\t\t\t\t\t\t\tconst lineHeight = editor.getConfiguration().lineHeight;\n\t\t\t\t\t\t\tconst lineTop = (targetTop + (e.position.lineNumber - 1) * lineHeight) - containerTop;\n\t\t\t\t\t\t\tconst lineBottom = lineTop + lineHeight;\n\t\t\t\t\t\t\tconst scrollDimensions = this.scrollbar.getScrollDimensions();\n\t\t\t\t\t\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\t\t\t\t\t\t\tconst scrollTop = scrollPosition.scrollTop;\n\t\t\t\t\t\t\tconst height = scrollDimensions.height;\n\t\t\t\t\t\t\tif (scrollTop > lineTop) {\n\t\t\t\t\t\t\t\tthis.scrollbar.setScrollPosition({ scrollTop: lineTop });\n\t\t\t\t\t\t\t} else if (scrollTop < lineBottom - height) {\n\t\t\t\t\t\t\t\tthis.scrollbar.setScrollPosition({ scrollTop: lineBottom - height });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\n\t\t\t\t\tthis.contentDisposables.push(this.configurationService.onDidChangeConfiguration(() => {\n\t\t\t\t\t\tif (snippet.textEditorModel) {\n\t\t\t\t\t\t\teditor.updateOptions(this.getEditorOptions(snippet.textEditorModel.getModeId()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\n\t\t\t\t\tthis.contentDisposables.push(Event.once(editor.onMouseDown)(() => {\n\t\t\t\t\t\t/* __GDPR__\n\t\t\t\t\t\t\t\"walkThroughSnippetInteraction\" : {\n\t\t\t\t\t\t\t\t\"from\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\t\"type\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\t\"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tthis.telemetryService.publicLog('walkThroughSnippetInteraction', {\n\t\t\t\t\t\t\tfrom: this.input instanceof WalkThroughInput ? this.input.getTelemetryFrom() : undefined,\n\t\t\t\t\t\t\ttype: 'mouseDown',\n\t\t\t\t\t\t\tsnippet: i\n\t\t\t\t\t\t});\n\t\t\t\t\t}));\n\t\t\t\t\tthis.contentDisposables.push(Event.once(editor.onKeyDown)(() => {\n\t\t\t\t\t\t/* __GDPR__\n\t\t\t\t\t\t\t\"walkThroughSnippetInteraction\" : {\n\t\t\t\t\t\t\t\t\"from\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\t\"type\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\t\"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tthis.telemetryService.publicLog('walkThroughSnippetInteraction', {\n\t\t\t\t\t\t\tfrom: this.input instanceof WalkThroughInput ? this.input.getTelemetryFrom() : undefined,\n\t\t\t\t\t\t\ttype: 'keyDown',\n\t\t\t\t\t\t\tsnippet: i\n\t\t\t\t\t\t});\n\t\t\t\t\t}));\n\t\t\t\t\tthis.contentDisposables.push(Event.once(editor.onDidChangeModelContent)(() => {\n\t\t\t\t\t\t/* __GDPR__\n\t\t\t\t\t\t\t\"walkThroughSnippetInteraction\" : {\n\t\t\t\t\t\t\t\t\"from\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\t\"type\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\t\t\t\"snippet\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tthis.telemetryService.publicLog('walkThroughSnippetInteraction', {\n\t\t\t\t\t\t\tfrom: this.input instanceof WalkThroughInput ? this.input.getTelemetryFrom() : undefined,\n\t\t\t\t\t\t\ttype: 'changeModelContent',\n\t\t\t\t\t\t\tsnippet: i\n\t\t\t\t\t\t});\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t\tthis.updateSizeClasses();\n\t\t\t\tthis.multiCursorModifier();\n\t\t\t\tthis.contentDisposables.push(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\t\t\tif (e.affectsConfiguration('editor.multiCursorModifier')) {\n\t\t\t\t\t\tthis.multiCursorModifier();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\tif (input.onReady) {\n\t\t\t\t\tinput.onReady(innerContent);\n\t\t\t\t}\n\t\t\t\tthis.scrollbar.scanDomNode();\n\t\t\t\tthis.loadTextEditorViewState(input);\n\t\t\t\tthis.updatedScrollPosition();\n\t\t\t});\n\t}\n\n\tprivate getEditorOptions(language: string): IEditorOptions {\n\t\tconst config = deepClone(this.configurationService.getValue<IEditorOptions>('editor', { overrideIdentifier: language }));\n\t\treturn {\n\t\t\t...isObject(config) ? config : Object.create(null),\n\t\t\tscrollBeyondLastLine: false,\n\t\t\tscrollbar: {\n\t\t\t\tverticalScrollbarSize: 14,\n\t\t\t\thorizontal: 'auto',\n\t\t\t\tuseShadows: true,\n\t\t\t\tverticalHasArrows: false,\n\t\t\t\thorizontalHasArrows: false\n\t\t\t},\n\t\t\toverviewRulerLanes: 3,\n\t\t\tfixedOverflowWidgets: true,\n\t\t\tlineNumbersMinChars: 1,\n\t\t\tminimap: { enabled: false },\n\t\t};\n\t}\n\n\tprivate expandMacros(input: string) {\n\t\treturn input.replace(/kb\\(([a-z.\\d\\-]+)\\)/gi, (match: string, kb: string) => {\n\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(kb);\n\t\t\tconst shortcut = keybinding ? keybinding.getLabel() || '' : UNBOUND_COMMAND;\n\t\t\treturn `<span class=\"shortcut\">${strings.escape(shortcut)}</span>`;\n\t\t});\n\t}\n\n\tprivate decorateContent() {\n\t\tconst keys = this.content.querySelectorAll('.shortcut[data-command]');\n\t\tArray.prototype.forEach.call(keys, (key: Element) => {\n\t\t\tconst command = key.getAttribute('data-command');\n\t\t\tconst keybinding = command && this.keybindingService.lookupKeybinding(command);\n\t\t\tconst label = keybinding ? keybinding.getLabel() || '' : UNBOUND_COMMAND;\n\t\t\twhile (key.firstChild) {\n\t\t\t\tkey.removeChild(key.firstChild);\n\t\t\t}\n\t\t\tkey.appendChild(document.createTextNode(label));\n\t\t});\n\t\tconst ifkeys = this.content.querySelectorAll('.if_shortcut[data-command]');\n\t\tArray.prototype.forEach.call(ifkeys, (key: HTMLElement) => {\n\t\t\tconst command = key.getAttribute('data-command');\n\t\t\tconst keybinding = command && this.keybindingService.lookupKeybinding(command);\n\t\t\tkey.style.display = !keybinding ? 'none' : '';\n\t\t});\n\t}\n\n\tprivate multiCursorModifier() {\n\t\tconst labels = UILabelProvider.modifierLabels[OS];\n\t\tconst value = this.configurationService.getValue<string>('editor.multiCursorModifier');\n\t\tconst modifier = labels[value === 'ctrlCmd' ? (OS === OperatingSystem.Macintosh ? 'metaKey' : 'ctrlKey') : 'altKey'];\n\t\tconst keys = this.content.querySelectorAll('.multi-cursor-modifier');\n\t\tArray.prototype.forEach.call(keys, (key: Element) => {\n\t\t\twhile (key.firstChild) {\n\t\t\t\tkey.removeChild(key.firstChild);\n\t\t\t}\n\t\t\tkey.appendChild(document.createTextNode(modifier));\n\t\t});\n\t}\n\n\tprivate saveTextEditorViewState(input: WalkThroughInput): void {\n\t\tconst scrollPosition = this.scrollbar.getScrollPosition();\n\n\t\tif (this.group) {\n\t\t\tthis.editorMemento.saveEditorState(this.group, input, {\n\t\t\t\tviewState: {\n\t\t\t\t\tscrollTop: scrollPosition.scrollTop,\n\t\t\t\t\tscrollLeft: scrollPosition.scrollLeft\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate loadTextEditorViewState(input: WalkThroughInput) {\n\t\tif (this.group) {\n\t\t\tconst state = this.editorMemento.loadEditorState(this.group, input);\n\t\t\tif (state) {\n\t\t\t\tthis.scrollbar.setScrollPosition(state.viewState);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic clearInput(): void {\n\t\tif (this.input instanceof WalkThroughInput) {\n\t\t\tthis.saveTextEditorViewState(this.input);\n\t\t}\n\t\tsuper.clearInput();\n\t}\n\n\tprotected saveState(): void {\n\t\tif (this.input instanceof WalkThroughInput) {\n\t\t\tthis.saveTextEditorViewState(this.input);\n\t\t}\n\n\t\tsuper.saveState();\n\t}\n\n\tdispose(): void {\n\t\tthis.editorFocus.reset();\n\t\tthis.contentDisposables = dispose(this.contentDisposables);\n\t\tthis.disposables = dispose(this.disposables);\n\t\tsuper.dispose();\n\t}\n}\n\n// theming\n\nexport const embeddedEditorBackground = registerColor('walkThrough.embeddedEditorBackground', { dark: null, light: null, hc: null }, localize('walkThrough.embeddedEditorBackground', 'Background color for the embedded editors on the Interactive Playground.'));\n\nregisterThemingParticipant((theme, collector) => {\n\tconst color = getExtraColor(theme, embeddedEditorBackground, { dark: 'rgba(0, 0, 0, .4)', extra_dark: 'rgba(200, 235, 255, .064)', light: '#f4f4f4', hc: null });\n\tif (color) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent .monaco-editor-background,\n\t\t\t.monaco-workbench .part.editor > .content .walkThroughContent .margin-view-overlays { background: ${color}; }`);\n\t}\n\tconst link = theme.getColor(textLinkForeground);\n\tif (link) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent a { color: ${link}; }`);\n\t}\n\tconst activeLink = theme.getColor(textLinkActiveForeground);\n\tif (activeLink) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent a:hover,\n\t\t\t.monaco-workbench .part.editor > .content .walkThroughContent a:active { color: ${activeLink}; }`);\n\t}\n\tconst focusColor = theme.getColor(focusBorder);\n\tif (focusColor) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent a:focus { outline-color: ${focusColor}; }`);\n\t}\n\tconst shortcut = theme.getColor(textPreformatForeground);\n\tif (shortcut) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent code,\n\t\t\t.monaco-workbench .part.editor > .content .walkThroughContent .shortcut { color: ${shortcut}; }`);\n\t}\n\tconst border = theme.getColor(contrastBorder);\n\tif (border) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent .monaco-editor { border-color: ${border}; }`);\n\t}\n\tconst quoteBackground = theme.getColor(textBlockQuoteBackground);\n\tif (quoteBackground) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent blockquote { background: ${quoteBackground}; }`);\n\t}\n\tconst quoteBorder = theme.getColor(textBlockQuoteBorder);\n\tif (quoteBorder) {\n\t\tcollector.addRule(`.monaco-workbench .part.editor > .content .walkThroughContent blockquote { border-color: ${quoteBorder}; }`);\n\t}\n});\n"]}]}