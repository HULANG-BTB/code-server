{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/rulers/rulers.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/rulers/rulers.ts","mtime":1555102316000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nrequire(\"vs/css!./rulers\");\nvar fastDomNode_1 = require(\"vs/base/browser/fastDomNode\");\nvar viewPart_1 = require(\"vs/editor/browser/view/viewPart\");\nvar editorColorRegistry_1 = require(\"vs/editor/common/view/editorColorRegistry\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar Rulers = /** @class */ (function (_super) {\n    tslib_1.__extends(Rulers, _super);\n    function Rulers(context) {\n        var _this = _super.call(this, context) || this;\n        _this.domNode = fastDomNode_1.createFastDomNode(document.createElement('div'));\n        _this.domNode.setAttribute('role', 'presentation');\n        _this.domNode.setAttribute('aria-hidden', 'true');\n        _this.domNode.setClassName('view-rulers');\n        _this._renderedRulers = [];\n        _this._rulers = _this._context.configuration.editor.viewInfo.rulers;\n        _this._typicalHalfwidthCharacterWidth = _this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;\n        return _this;\n    }\n    Rulers.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n    };\n    // --- begin event handlers\n    Rulers.prototype.onConfigurationChanged = function (e) {\n        if (e.viewInfo || e.layoutInfo || e.fontInfo) {\n            this._rulers = this._context.configuration.editor.viewInfo.rulers;\n            this._typicalHalfwidthCharacterWidth = this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;\n            return true;\n        }\n        return false;\n    };\n    Rulers.prototype.onScrollChanged = function (e) {\n        return e.scrollHeightChanged;\n    };\n    // --- end event handlers\n    Rulers.prototype.prepareRender = function (ctx) {\n        // Nothing to read\n    };\n    Rulers.prototype._ensureRulersCount = function () {\n        var currentCount = this._renderedRulers.length;\n        var desiredCount = this._rulers.length;\n        if (currentCount === desiredCount) {\n            // Nothing to do\n            return;\n        }\n        if (currentCount < desiredCount) {\n            var tabSize = this._context.model.getOptions().tabSize;\n            var rulerWidth = tabSize;\n            var addCount = desiredCount - currentCount;\n            while (addCount > 0) {\n                var node = fastDomNode_1.createFastDomNode(document.createElement('div'));\n                node.setClassName('view-ruler');\n                node.setWidth(rulerWidth);\n                this.domNode.appendChild(node);\n                this._renderedRulers.push(node);\n                addCount--;\n            }\n            return;\n        }\n        var removeCount = currentCount - desiredCount;\n        while (removeCount > 0) {\n            var node = this._renderedRulers.pop();\n            this.domNode.removeChild(node);\n            removeCount--;\n        }\n    };\n    Rulers.prototype.render = function (ctx) {\n        this._ensureRulersCount();\n        for (var i = 0, len = this._rulers.length; i < len; i++) {\n            var node = this._renderedRulers[i];\n            node.setHeight(Math.min(ctx.scrollHeight, 1000000));\n            node.setLeft(this._rulers[i] * this._typicalHalfwidthCharacterWidth);\n        }\n    };\n    return Rulers;\n}(viewPart_1.ViewPart));\nexports.Rulers = Rulers;\nthemeService_1.registerThemingParticipant(function (theme, collector) {\n    var rulerColor = theme.getColor(editorColorRegistry_1.editorRuler);\n    if (rulerColor) {\n        collector.addRule(\".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 \" + rulerColor + \" inset; }\");\n    }\n});\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/rulers/rulers.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/editor/browser/viewParts/rulers/rulers.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport 'vs/css!./rulers';\nimport { FastDomNode, createFastDomNode } from 'vs/base/browser/fastDomNode';\nimport { ViewPart } from 'vs/editor/browser/view/viewPart';\nimport { editorRuler } from 'vs/editor/common/view/editorColorRegistry';\nimport { RenderingContext, RestrictedRenderingContext } from 'vs/editor/common/view/renderingContext';\nimport { ViewContext } from 'vs/editor/common/view/viewContext';\nimport * as viewEvents from 'vs/editor/common/view/viewEvents';\nimport { registerThemingParticipant } from 'vs/platform/theme/common/themeService';\n\nexport class Rulers extends ViewPart {\n\n\tpublic domNode: FastDomNode<HTMLElement>;\n\tprivate readonly _renderedRulers: FastDomNode<HTMLElement>[];\n\tprivate _rulers: number[];\n\tprivate _typicalHalfwidthCharacterWidth: number;\n\n\tconstructor(context: ViewContext) {\n\t\tsuper(context);\n\t\tthis.domNode = createFastDomNode<HTMLElement>(document.createElement('div'));\n\t\tthis.domNode.setAttribute('role', 'presentation');\n\t\tthis.domNode.setAttribute('aria-hidden', 'true');\n\t\tthis.domNode.setClassName('view-rulers');\n\t\tthis._renderedRulers = [];\n\t\tthis._rulers = this._context.configuration.editor.viewInfo.rulers;\n\t\tthis._typicalHalfwidthCharacterWidth = this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;\n\t}\n\n\tpublic dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\t// --- begin event handlers\n\n\tpublic onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): boolean {\n\t\tif (e.viewInfo || e.layoutInfo || e.fontInfo) {\n\t\t\tthis._rulers = this._context.configuration.editor.viewInfo.rulers;\n\t\t\tthis._typicalHalfwidthCharacterWidth = this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic onScrollChanged(e: viewEvents.ViewScrollChangedEvent): boolean {\n\t\treturn e.scrollHeightChanged;\n\t}\n\n\t// --- end event handlers\n\n\tpublic prepareRender(ctx: RenderingContext): void {\n\t\t// Nothing to read\n\t}\n\n\tprivate _ensureRulersCount(): void {\n\t\tconst currentCount = this._renderedRulers.length;\n\t\tconst desiredCount = this._rulers.length;\n\n\t\tif (currentCount === desiredCount) {\n\t\t\t// Nothing to do\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentCount < desiredCount) {\n\t\t\tconst { tabSize } = this._context.model.getOptions();\n\t\t\tconst rulerWidth = tabSize;\n\t\t\tlet addCount = desiredCount - currentCount;\n\t\t\twhile (addCount > 0) {\n\t\t\t\tconst node = createFastDomNode(document.createElement('div'));\n\t\t\t\tnode.setClassName('view-ruler');\n\t\t\t\tnode.setWidth(rulerWidth);\n\t\t\t\tthis.domNode.appendChild(node);\n\t\t\t\tthis._renderedRulers.push(node);\n\t\t\t\taddCount--;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tlet removeCount = currentCount - desiredCount;\n\t\twhile (removeCount > 0) {\n\t\t\tconst node = this._renderedRulers.pop()!;\n\t\t\tthis.domNode.removeChild(node);\n\t\t\tremoveCount--;\n\t\t}\n\t}\n\n\tpublic render(ctx: RestrictedRenderingContext): void {\n\n\t\tthis._ensureRulersCount();\n\n\t\tfor (let i = 0, len = this._rulers.length; i < len; i++) {\n\t\t\tconst node = this._renderedRulers[i];\n\n\t\t\tnode.setHeight(Math.min(ctx.scrollHeight, 1000000));\n\t\t\tnode.setLeft(this._rulers[i] * this._typicalHalfwidthCharacterWidth);\n\t\t}\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst rulerColor = theme.getColor(editorRuler);\n\tif (rulerColor) {\n\t\tcollector.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${rulerColor} inset; }`);\n\t}\n});\n"]}]}