{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/files/browser/views/openEditorsView.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/files/browser/views/openEditorsView.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar nls = require(\"vs/nls\");\nvar async_1 = require(\"vs/base/common/async\");\nvar actions_1 = require(\"vs/base/common/actions\");\nvar dom = require(\"vs/base/browser/dom\");\nvar contextView_1 = require(\"vs/platform/contextview/browser/contextView\");\nvar instantiation_1 = require(\"vs/platform/instantiation/common/instantiation\");\nvar editorGroupsService_1 = require(\"vs/workbench/services/editor/common/editorGroupsService\");\nvar configuration_1 = require(\"vs/platform/configuration/common/configuration\");\nvar keybinding_1 = require(\"vs/platform/keybinding/common/keybinding\");\nvar fileActions_1 = require(\"vs/workbench/contrib/files/browser/fileActions\");\nvar files_1 = require(\"vs/workbench/contrib/files/common/files\");\nvar textfiles_1 = require(\"vs/workbench/services/textfile/common/textfiles\");\nvar untitledEditorService_1 = require(\"vs/workbench/services/untitled/common/untitledEditorService\");\nvar editorActions_1 = require(\"vs/workbench/browser/parts/editor/editorActions\");\nvar layoutActions_1 = require(\"vs/workbench/browser/actions/layoutActions\");\nvar contextkey_1 = require(\"vs/platform/contextkey/common/contextkey\");\nvar styler_1 = require(\"vs/platform/theme/common/styler\");\nvar themeService_1 = require(\"vs/platform/theme/common/themeService\");\nvar colorRegistry_1 = require(\"vs/platform/theme/common/colorRegistry\");\nvar listService_1 = require(\"vs/platform/list/browser/listService\");\nvar labels_1 = require(\"vs/workbench/browser/labels\");\nvar actionbar_1 = require(\"vs/base/browser/ui/actionbar/actionbar\");\nvar telemetry_1 = require(\"vs/platform/telemetry/common/telemetry\");\nvar editorService_1 = require(\"vs/workbench/services/editor/common/editorService\");\nvar lifecycle_1 = require(\"vs/base/common/lifecycle\");\nvar menuItemActionItem_1 = require(\"vs/platform/actions/browser/menuItemActionItem\");\nvar actions_2 = require(\"vs/platform/actions/common/actions\");\nvar fileCommands_1 = require(\"vs/workbench/contrib/files/browser/fileCommands\");\nvar resources_1 = require(\"vs/workbench/common/resources\");\nvar dnd_1 = require(\"vs/workbench/browser/dnd\");\nvar panelViewlet_1 = require(\"vs/workbench/browser/parts/views/panelViewlet\");\nvar dnd_2 = require(\"vs/base/browser/dnd\");\nvar decorators_1 = require(\"vs/base/common/decorators\");\nvar listView_1 = require(\"vs/base/browser/ui/list/listView\");\nvar types_1 = require(\"vs/base/common/types\");\nvar $ = dom.$;\nvar OpenEditorsView = /** @class */ (function (_super) {\n    tslib_1.__extends(OpenEditorsView, _super);\n    function OpenEditorsView(options, instantiationService, contextMenuService, textFileService, editorService, editorGroupService, configurationService, keybindingService, untitledEditorService, contextKeyService, themeService, telemetryService, menuService) {\n        var _this = _super.call(this, tslib_1.__assign({}, options, { ariaHeaderLabel: nls.localize({ key: 'openEditosrSection', comment: ['Open is an adjective'] }, \"Open Editors Section\") }), keybindingService, contextMenuService, configurationService) || this;\n        _this.instantiationService = instantiationService;\n        _this.textFileService = textFileService;\n        _this.editorService = editorService;\n        _this.editorGroupService = editorGroupService;\n        _this.untitledEditorService = untitledEditorService;\n        _this.contextKeyService = contextKeyService;\n        _this.themeService = themeService;\n        _this.telemetryService = telemetryService;\n        _this.menuService = menuService;\n        _this.structuralRefreshDelay = 0;\n        _this.listRefreshScheduler = new async_1.RunOnceScheduler(function () {\n            var previousLength = _this.list.length;\n            _this.list.splice(0, _this.list.length, _this.elements);\n            _this.focusActiveEditor();\n            if (previousLength !== _this.list.length) {\n                _this.updateSize();\n            }\n            _this.needsRefresh = false;\n        }, _this.structuralRefreshDelay);\n        _this.registerUpdateEvents();\n        // Also handle configuration updates\n        _this.disposables.push(_this.configurationService.onDidChangeConfiguration(function (e) { return _this.onConfigurationChange(e); }));\n        // Handle dirty counter\n        _this.disposables.push(_this.untitledEditorService.onDidChangeDirty(function () { return _this.updateDirtyIndicator(); }));\n        _this.disposables.push(_this.textFileService.models.onModelsDirty(function () { return _this.updateDirtyIndicator(); }));\n        _this.disposables.push(_this.textFileService.models.onModelsSaved(function () { return _this.updateDirtyIndicator(); }));\n        _this.disposables.push(_this.textFileService.models.onModelsSaveError(function () { return _this.updateDirtyIndicator(); }));\n        _this.disposables.push(_this.textFileService.models.onModelsReverted(function () { return _this.updateDirtyIndicator(); }));\n        return _this;\n    }\n    OpenEditorsView.prototype.registerUpdateEvents = function () {\n        var _this = this;\n        var updateWholeList = function () {\n            if (!_this.isBodyVisible() || !_this.list) {\n                _this.needsRefresh = true;\n                return;\n            }\n            _this.listRefreshScheduler.schedule(_this.structuralRefreshDelay);\n        };\n        var groupDisposables = new Map();\n        var addGroupListener = function (group) {\n            groupDisposables.set(group.id, group.onDidGroupChange(function (e) {\n                if (_this.listRefreshScheduler.isScheduled()) {\n                    return;\n                }\n                if (!_this.isBodyVisible() || !_this.list) {\n                    _this.needsRefresh = true;\n                    return;\n                }\n                var index = _this.getIndex(group, e.editor);\n                switch (e.kind) {\n                    case editorGroupsService_1.GroupChangeKind.GROUP_LABEL: {\n                        if (_this.showGroups) {\n                            _this.list.splice(index, 1, [group]);\n                        }\n                        break;\n                    }\n                    case editorGroupsService_1.GroupChangeKind.GROUP_ACTIVE:\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_ACTIVE: {\n                        _this.focusActiveEditor();\n                        break;\n                    }\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_DIRTY:\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_LABEL:\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_PIN: {\n                        _this.list.splice(index, 1, [new files_1.OpenEditor(e.editor, group)]);\n                        break;\n                    }\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_OPEN: {\n                        _this.list.splice(index, 0, [new files_1.OpenEditor(e.editor, group)]);\n                        setTimeout(function () { return _this.updateSize(); }, _this.structuralRefreshDelay);\n                        break;\n                    }\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_CLOSE: {\n                        var previousIndex = _this.getIndex(group, undefined) + (e.editorIndex || 0) + (_this.showGroups ? 1 : 0);\n                        _this.list.splice(previousIndex, 1);\n                        _this.updateSize();\n                        break;\n                    }\n                    case editorGroupsService_1.GroupChangeKind.EDITOR_MOVE: {\n                        _this.listRefreshScheduler.schedule();\n                        break;\n                    }\n                }\n            }));\n            _this.disposables.push(groupDisposables.get(group.id));\n        };\n        this.editorGroupService.groups.forEach(function (g) { return addGroupListener(g); });\n        this.disposables.push(this.editorGroupService.onDidAddGroup(function (group) {\n            addGroupListener(group);\n            updateWholeList();\n        }));\n        this.disposables.push(this.editorGroupService.onDidMoveGroup(function () { return updateWholeList(); }));\n        this.disposables.push(this.editorGroupService.onDidRemoveGroup(function (group) {\n            lifecycle_1.dispose(groupDisposables.get(group.id));\n            updateWholeList();\n        }));\n    };\n    OpenEditorsView.prototype.renderHeaderTitle = function (container) {\n        var _this = this;\n        _super.prototype.renderHeaderTitle.call(this, container, this.title);\n        var count = dom.append(container, $('.count'));\n        this.dirtyCountElement = dom.append(count, $('.monaco-count-badge'));\n        this.disposables.push((styler_1.attachStylerCallback(this.themeService, { badgeBackground: colorRegistry_1.badgeBackground, badgeForeground: colorRegistry_1.badgeForeground, contrastBorder: colorRegistry_1.contrastBorder }, function (colors) {\n            var background = colors.badgeBackground ? colors.badgeBackground.toString() : null;\n            var foreground = colors.badgeForeground ? colors.badgeForeground.toString() : null;\n            var border = colors.contrastBorder ? colors.contrastBorder.toString() : null;\n            _this.dirtyCountElement.style.backgroundColor = background;\n            _this.dirtyCountElement.style.color = foreground;\n            _this.dirtyCountElement.style.borderWidth = border ? '1px' : null;\n            _this.dirtyCountElement.style.borderStyle = border ? 'solid' : null;\n            _this.dirtyCountElement.style.borderColor = border;\n        })));\n        this.updateDirtyIndicator();\n    };\n    OpenEditorsView.prototype.renderBody = function (container) {\n        var _this = this;\n        dom.addClass(container, 'explorer-open-editors');\n        dom.addClass(container, 'show-file-icons');\n        var delegate = new OpenEditorsDelegate();\n        if (this.list) {\n            this.list.dispose();\n        }\n        if (this.listLabels) {\n            this.listLabels.clear();\n        }\n        this.listLabels = this.instantiationService.createInstance(labels_1.ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n        this.list = this.instantiationService.createInstance(listService_1.WorkbenchList, container, delegate, [\n            new EditorGroupRenderer(this.keybindingService, this.instantiationService),\n            new OpenEditorRenderer(this.listLabels, this.instantiationService, this.keybindingService, this.configurationService)\n        ], {\n            identityProvider: { getId: function (element) { return element instanceof files_1.OpenEditor ? element.getId() : element.id.toString(); } },\n            dnd: new OpenEditorsDragAndDrop(this.instantiationService, this.editorGroupService)\n        });\n        this.disposables.push(this.list);\n        this.disposables.push(this.listLabels);\n        this.contributedContextMenu = this.menuService.createMenu(actions_2.MenuId.OpenEditorsContext, this.list.contextKeyService);\n        this.disposables.push(this.contributedContextMenu);\n        this.updateSize();\n        // Bind context keys\n        files_1.OpenEditorsFocusedContext.bindTo(this.list.contextKeyService);\n        files_1.ExplorerFocusedContext.bindTo(this.list.contextKeyService);\n        this.resourceContext = this.instantiationService.createInstance(resources_1.ResourceContextKey);\n        this.disposables.push(this.resourceContext);\n        this.groupFocusedContext = fileCommands_1.OpenEditorsGroupContext.bindTo(this.contextKeyService);\n        this.dirtyEditorFocusedContext = fileCommands_1.DirtyEditorContext.bindTo(this.contextKeyService);\n        this.disposables.push(this.list.onContextMenu(function (e) { return _this.onListContextMenu(e); }));\n        this.list.onFocusChange(function (e) {\n            _this.resourceContext.reset();\n            _this.groupFocusedContext.reset();\n            _this.dirtyEditorFocusedContext.reset();\n            var element = e.elements.length ? e.elements[0] : undefined;\n            if (element instanceof files_1.OpenEditor) {\n                _this.dirtyEditorFocusedContext.set(_this.textFileService.isDirty(types_1.withNullAsUndefined(element.getResource())));\n                _this.resourceContext.set(element.getResource());\n            }\n            else if (!!element) {\n                _this.groupFocusedContext.set(true);\n            }\n        });\n        // Open when selecting via keyboard\n        this.disposables.push(this.list.onMouseMiddleClick(function (e) {\n            if (e && e.element instanceof files_1.OpenEditor) {\n                e.element.group.closeEditor(e.element.editor, { preserveFocus: true });\n            }\n        }));\n        this.disposables.push(this.list.onDidOpen(function (e) {\n            var browserEvent = e.browserEvent;\n            var openToSide = false;\n            var isSingleClick = false;\n            var isDoubleClick = false;\n            if (browserEvent instanceof MouseEvent) {\n                isSingleClick = browserEvent.detail === 1;\n                isDoubleClick = browserEvent.detail === 2;\n                openToSide = _this.list.useAltAsMultipleSelectionModifier ? (browserEvent.ctrlKey || browserEvent.metaKey) : browserEvent.altKey;\n            }\n            var focused = _this.list.getFocusedElements();\n            var element = focused.length ? focused[0] : undefined;\n            if (element instanceof files_1.OpenEditor) {\n                _this.openEditor(element, { preserveFocus: isSingleClick, pinned: isDoubleClick, sideBySide: openToSide });\n            }\n            else if (element) {\n                _this.editorGroupService.activateGroup(element);\n            }\n        }));\n        this.listRefreshScheduler.schedule(0);\n        this.disposables.push(this.onDidChangeBodyVisibility(function (visible) {\n            if (visible && _this.needsRefresh) {\n                _this.listRefreshScheduler.schedule(0);\n            }\n        }));\n    };\n    OpenEditorsView.prototype.getActions = function () {\n        return [\n            this.instantiationService.createInstance(layoutActions_1.ToggleEditorLayoutAction, layoutActions_1.ToggleEditorLayoutAction.ID, layoutActions_1.ToggleEditorLayoutAction.LABEL),\n            this.instantiationService.createInstance(fileActions_1.SaveAllAction, fileActions_1.SaveAllAction.ID, fileActions_1.SaveAllAction.LABEL),\n            this.instantiationService.createInstance(editorActions_1.CloseAllEditorsAction, editorActions_1.CloseAllEditorsAction.ID, editorActions_1.CloseAllEditorsAction.LABEL)\n        ];\n    };\n    OpenEditorsView.prototype.focus = function () {\n        _super.prototype.focus.call(this);\n        this.list.domFocus();\n    };\n    OpenEditorsView.prototype.getList = function () {\n        return this.list;\n    };\n    OpenEditorsView.prototype.layoutBody = function (height, width) {\n        if (this.list) {\n            this.list.layout(height, width);\n        }\n    };\n    Object.defineProperty(OpenEditorsView.prototype, \"showGroups\", {\n        get: function () {\n            return this.editorGroupService.groups.length > 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OpenEditorsView.prototype, \"elements\", {\n        get: function () {\n            var _this = this;\n            var result = [];\n            this.editorGroupService.getGroups(editorGroupsService_1.GroupsOrder.GRID_APPEARANCE).forEach(function (g) {\n                if (_this.showGroups) {\n                    result.push(g);\n                }\n                result.push.apply(result, g.editors.map(function (ei) { return new files_1.OpenEditor(ei, g); }));\n            });\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OpenEditorsView.prototype.getIndex = function (group, editor) {\n        var index = editor ? group.getIndexOfEditor(editor) : 0;\n        if (!this.showGroups) {\n            return index;\n        }\n        for (var _i = 0, _a = this.editorGroupService.getGroups(editorGroupsService_1.GroupsOrder.GRID_APPEARANCE); _i < _a.length; _i++) {\n            var g = _a[_i];\n            if (g.id === group.id) {\n                return index + (!!editor ? 1 : 0);\n            }\n            else {\n                index += g.count + 1;\n            }\n        }\n        return -1;\n    };\n    OpenEditorsView.prototype.openEditor = function (element, options) {\n        var _this = this;\n        if (element) {\n            /* __GDPR__\n                \"workbenchActionExecuted\" : {\n                    \"id\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n                    \"from\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n                }\n            */\n            this.telemetryService.publicLog('workbenchActionExecuted', { id: 'workbench.files.openFile', from: 'openEditors' });\n            var preserveActivateGroup_1 = options.sideBySide && options.preserveFocus; // needed for https://github.com/Microsoft/vscode/issues/42399\n            if (!preserveActivateGroup_1) {\n                this.editorGroupService.activateGroup(element.groupId); // needed for https://github.com/Microsoft/vscode/issues/6672\n            }\n            this.editorService.openEditor(element.editor, options, options.sideBySide ? editorService_1.SIDE_GROUP : editorService_1.ACTIVE_GROUP).then(function (editor) {\n                if (editor && !preserveActivateGroup_1 && editor.group) {\n                    _this.editorGroupService.activateGroup(editor.group);\n                }\n            });\n        }\n    };\n    OpenEditorsView.prototype.onListContextMenu = function (e) {\n        var _this = this;\n        if (!e.element) {\n            return;\n        }\n        var element = e.element;\n        this.contextMenuService.showContextMenu({\n            getAnchor: function () { return e.anchor; },\n            getActions: function () {\n                var actions = [];\n                menuItemActionItem_1.fillInContextMenuActions(_this.contributedContextMenu, { shouldForwardArgs: true, arg: element instanceof files_1.OpenEditor ? element.editor.getResource() : {} }, actions, _this.contextMenuService);\n                return actions;\n            },\n            getActionsContext: function () { return element instanceof files_1.OpenEditor ? { groupId: element.groupId, editorIndex: element.editorIndex } : { groupId: element.id }; }\n        });\n    };\n    OpenEditorsView.prototype.focusActiveEditor = function () {\n        if (this.list.length && this.editorGroupService.activeGroup) {\n            var index = this.getIndex(this.editorGroupService.activeGroup, this.editorGroupService.activeGroup.activeEditor);\n            this.list.setFocus([index]);\n            this.list.setSelection([index]);\n            this.list.reveal(index);\n        }\n        else {\n            this.list.setFocus([]);\n            this.list.setSelection([]);\n        }\n    };\n    OpenEditorsView.prototype.onConfigurationChange = function (event) {\n        if (event.affectsConfiguration('explorer.openEditors')) {\n            this.updateSize();\n        }\n        // Trigger a 'repaint' when decoration settings change\n        if (event.affectsConfiguration('explorer.decorations')) {\n            this.listRefreshScheduler.schedule();\n        }\n    };\n    OpenEditorsView.prototype.updateSize = function () {\n        // Adjust expanded body size\n        this.minimumBodySize = this.getMinExpandedBodySize();\n        this.maximumBodySize = this.getMaxExpandedBodySize();\n    };\n    OpenEditorsView.prototype.updateDirtyIndicator = function () {\n        var dirty = this.textFileService.getAutoSaveMode() !== textfiles_1.AutoSaveMode.AFTER_SHORT_DELAY ? this.textFileService.getDirty().length\n            : this.untitledEditorService.getDirty().length;\n        if (dirty === 0) {\n            dom.addClass(this.dirtyCountElement, 'hidden');\n        }\n        else {\n            this.dirtyCountElement.textContent = nls.localize('dirtyCounter', \"{0} unsaved\", dirty);\n            dom.removeClass(this.dirtyCountElement, 'hidden');\n        }\n    };\n    Object.defineProperty(OpenEditorsView.prototype, \"elementCount\", {\n        get: function () {\n            return this.editorGroupService.groups.map(function (g) { return g.count; })\n                .reduce(function (first, second) { return first + second; }, this.showGroups ? this.editorGroupService.groups.length : 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OpenEditorsView.prototype.getMaxExpandedBodySize = function () {\n        return this.elementCount * OpenEditorsDelegate.ITEM_HEIGHT;\n    };\n    OpenEditorsView.prototype.getMinExpandedBodySize = function () {\n        var visibleOpenEditors = this.configurationService.getValue('explorer.openEditors.visible');\n        if (typeof visibleOpenEditors !== 'number') {\n            visibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS;\n        }\n        return this.computeMinExpandedBodySize(visibleOpenEditors);\n    };\n    OpenEditorsView.prototype.computeMinExpandedBodySize = function (visibleOpenEditors) {\n        if (visibleOpenEditors === void 0) { visibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS; }\n        var itemsToShow = Math.min(Math.max(visibleOpenEditors, 1), this.elementCount);\n        return itemsToShow * OpenEditorsDelegate.ITEM_HEIGHT;\n    };\n    OpenEditorsView.prototype.setStructuralRefreshDelay = function (delay) {\n        this.structuralRefreshDelay = delay;\n    };\n    OpenEditorsView.prototype.getOptimalWidth = function () {\n        var parentNode = this.list.getHTMLElement();\n        var childNodes = [].slice.call(parentNode.querySelectorAll('.open-editor > a'));\n        return dom.getLargestChildWidth(parentNode, childNodes);\n    };\n    OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS = 9;\n    OpenEditorsView.ID = 'workbench.explorer.openEditorsView';\n    OpenEditorsView.NAME = nls.localize({ key: 'openEditors', comment: ['Open is an adjective'] }, \"Open Editors\");\n    OpenEditorsView = tslib_1.__decorate([\n        tslib_1.__param(1, instantiation_1.IInstantiationService),\n        tslib_1.__param(2, contextView_1.IContextMenuService),\n        tslib_1.__param(3, textfiles_1.ITextFileService),\n        tslib_1.__param(4, editorService_1.IEditorService),\n        tslib_1.__param(5, editorGroupsService_1.IEditorGroupsService),\n        tslib_1.__param(6, configuration_1.IConfigurationService),\n        tslib_1.__param(7, keybinding_1.IKeybindingService),\n        tslib_1.__param(8, untitledEditorService_1.IUntitledEditorService),\n        tslib_1.__param(9, contextkey_1.IContextKeyService),\n        tslib_1.__param(10, themeService_1.IThemeService),\n        tslib_1.__param(11, telemetry_1.ITelemetryService),\n        tslib_1.__param(12, actions_2.IMenuService)\n    ], OpenEditorsView);\n    return OpenEditorsView;\n}(panelViewlet_1.ViewletPanel));\nexports.OpenEditorsView = OpenEditorsView;\nvar OpenEditorActionRunner = /** @class */ (function (_super) {\n    tslib_1.__extends(OpenEditorActionRunner, _super);\n    function OpenEditorActionRunner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OpenEditorActionRunner.prototype.run = function (action, context) {\n        return _super.prototype.run.call(this, action, { groupId: this.editor.groupId, editorIndex: this.editor.editorIndex });\n    };\n    return OpenEditorActionRunner;\n}(actions_1.ActionRunner));\nvar OpenEditorsDelegate = /** @class */ (function () {\n    function OpenEditorsDelegate() {\n    }\n    OpenEditorsDelegate.prototype.getHeight = function (element) {\n        return OpenEditorsDelegate.ITEM_HEIGHT;\n    };\n    OpenEditorsDelegate.prototype.getTemplateId = function (element) {\n        if (element instanceof files_1.OpenEditor) {\n            return OpenEditorRenderer.ID;\n        }\n        return EditorGroupRenderer.ID;\n    };\n    OpenEditorsDelegate.ITEM_HEIGHT = 22;\n    return OpenEditorsDelegate;\n}());\nvar EditorGroupRenderer = /** @class */ (function () {\n    function EditorGroupRenderer(keybindingService, instantiationService) {\n        this.keybindingService = keybindingService;\n        this.instantiationService = instantiationService;\n        // noop\n    }\n    Object.defineProperty(EditorGroupRenderer.prototype, \"templateId\", {\n        get: function () {\n            return EditorGroupRenderer.ID;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EditorGroupRenderer.prototype.renderTemplate = function (container) {\n        var editorGroupTemplate = Object.create(null);\n        editorGroupTemplate.root = dom.append(container, $('.editor-group'));\n        editorGroupTemplate.name = dom.append(editorGroupTemplate.root, $('span.name'));\n        editorGroupTemplate.actionBar = new actionbar_1.ActionBar(container);\n        var saveAllInGroupAction = this.instantiationService.createInstance(fileActions_1.SaveAllInGroupAction, fileActions_1.SaveAllInGroupAction.ID, fileActions_1.SaveAllInGroupAction.LABEL);\n        var saveAllInGroupKey = this.keybindingService.lookupKeybinding(saveAllInGroupAction.id);\n        editorGroupTemplate.actionBar.push(saveAllInGroupAction, { icon: true, label: false, keybinding: saveAllInGroupKey ? saveAllInGroupKey.getLabel() : undefined });\n        var closeGroupAction = this.instantiationService.createInstance(fileActions_1.CloseGroupAction, fileActions_1.CloseGroupAction.ID, fileActions_1.CloseGroupAction.LABEL);\n        var closeGroupActionKey = this.keybindingService.lookupKeybinding(closeGroupAction.id);\n        editorGroupTemplate.actionBar.push(closeGroupAction, { icon: true, label: false, keybinding: closeGroupActionKey ? closeGroupActionKey.getLabel() : undefined });\n        return editorGroupTemplate;\n    };\n    EditorGroupRenderer.prototype.renderElement = function (editorGroup, index, templateData) {\n        templateData.editorGroup = editorGroup;\n        templateData.name.textContent = editorGroup.label;\n        templateData.actionBar.context = { groupId: editorGroup.id };\n    };\n    EditorGroupRenderer.prototype.disposeTemplate = function (templateData) {\n        templateData.actionBar.dispose();\n    };\n    EditorGroupRenderer.ID = 'editorgroup';\n    return EditorGroupRenderer;\n}());\nvar OpenEditorRenderer = /** @class */ (function () {\n    function OpenEditorRenderer(labels, instantiationService, keybindingService, configurationService) {\n        this.labels = labels;\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.configurationService = configurationService;\n        // noop\n    }\n    Object.defineProperty(OpenEditorRenderer.prototype, \"templateId\", {\n        get: function () {\n            return OpenEditorRenderer.ID;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OpenEditorRenderer.prototype.renderTemplate = function (container) {\n        var editorTemplate = Object.create(null);\n        editorTemplate.container = container;\n        editorTemplate.actionRunner = new OpenEditorActionRunner();\n        editorTemplate.actionBar = new actionbar_1.ActionBar(container, { actionRunner: editorTemplate.actionRunner });\n        container.draggable = true;\n        var closeEditorAction = this.instantiationService.createInstance(editorActions_1.CloseEditorAction, editorActions_1.CloseEditorAction.ID, editorActions_1.CloseEditorAction.LABEL);\n        var key = this.keybindingService.lookupKeybinding(closeEditorAction.id);\n        editorTemplate.actionBar.push(closeEditorAction, { icon: true, label: false, keybinding: key ? key.getLabel() : undefined });\n        editorTemplate.root = this.labels.create(container);\n        return editorTemplate;\n    };\n    OpenEditorRenderer.prototype.renderElement = function (editor, index, templateData) {\n        templateData.actionRunner.editor = editor;\n        editor.isDirty() ? dom.addClass(templateData.container, 'dirty') : dom.removeClass(templateData.container, 'dirty');\n        templateData.root.setEditor(editor.editor, {\n            italic: editor.isPreview(),\n            extraClasses: ['open-editor'],\n            fileDecorations: this.configurationService.getValue().explorer.decorations\n        });\n    };\n    OpenEditorRenderer.prototype.disposeTemplate = function (templateData) {\n        templateData.actionBar.dispose();\n        templateData.root.dispose();\n        templateData.actionRunner.dispose();\n    };\n    OpenEditorRenderer.ID = 'openeditor';\n    return OpenEditorRenderer;\n}());\nvar OpenEditorsDragAndDrop = /** @class */ (function () {\n    function OpenEditorsDragAndDrop(instantiationService, editorGroupService) {\n        this.instantiationService = instantiationService;\n        this.editorGroupService = editorGroupService;\n    }\n    Object.defineProperty(OpenEditorsDragAndDrop.prototype, \"dropHandler\", {\n        get: function () {\n            return this.instantiationService.createInstance(dnd_1.ResourcesDropHandler, { allowWorkspaceOpen: false });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OpenEditorsDragAndDrop.prototype.getDragURI = function (element) {\n        if (element instanceof files_1.OpenEditor) {\n            var resource = element.getResource();\n            if (resource) {\n                return resource.toString();\n            }\n        }\n        return null;\n    };\n    OpenEditorsDragAndDrop.prototype.getDragLabel = function (elements) {\n        if (elements.length > 1) {\n            return String(elements.length);\n        }\n        var element = elements[0];\n        return element instanceof files_1.OpenEditor ? types_1.withNullAsUndefined(element.editor.getName()) : element.label;\n    };\n    OpenEditorsDragAndDrop.prototype.onDragStart = function (data, originalEvent) {\n        var items = data.elements;\n        var resources = [];\n        if (items) {\n            items.forEach(function (i) {\n                if (i instanceof files_1.OpenEditor) {\n                    var resource = i.getResource();\n                    if (resource) {\n                        resources.push(resource);\n                    }\n                }\n            });\n        }\n        if (resources.length) {\n            // Apply some datatransfer types to allow for dragging the element outside of the application\n            this.instantiationService.invokeFunction(dnd_1.fillResourceDataTransfers, resources, originalEvent);\n        }\n    };\n    OpenEditorsDragAndDrop.prototype.onDragOver = function (data, targetElement, targetIndex, originalEvent) {\n        if (data instanceof listView_1.DesktopDragAndDropData && originalEvent.dataTransfer) {\n            var types = originalEvent.dataTransfer.types;\n            var typesArray = [];\n            for (var i = 0; i < types.length; i++) {\n                typesArray.push(types[i].toLowerCase()); // somehow the types are lowercase\n            }\n            if (typesArray.indexOf(dnd_2.DataTransfers.FILES.toLowerCase()) === -1 && typesArray.indexOf(dnd_1.CodeDataTransfers.FILES.toLowerCase()) === -1) {\n                return false;\n            }\n        }\n        return true;\n    };\n    OpenEditorsDragAndDrop.prototype.drop = function (data, targetElement, targetIndex, originalEvent) {\n        var group = targetElement instanceof files_1.OpenEditor ? targetElement.group : targetElement;\n        var index = targetElement instanceof files_1.OpenEditor ? targetElement.group.getIndexOfEditor(targetElement.editor) : 0;\n        if (data instanceof listView_1.ElementsDragAndDropData) {\n            var elementsData = data.elements;\n            elementsData.forEach(function (oe, offset) {\n                oe.group.moveEditor(oe.editor, group, { index: index + offset, preserveFocus: true });\n            });\n            this.editorGroupService.activateGroup(group);\n        }\n        else {\n            this.dropHandler.handleDrop(originalEvent, function () { return group; }, function () { return group.focus(); }, index);\n        }\n    };\n    tslib_1.__decorate([\n        decorators_1.memoize\n    ], OpenEditorsDragAndDrop.prototype, \"dropHandler\", null);\n    return OpenEditorsDragAndDrop;\n}());\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/files/browser/views/openEditorsView.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/files/browser/views/openEditorsView.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from 'vs/nls';\nimport { RunOnceScheduler } from 'vs/base/common/async';\nimport { IAction, ActionRunner } from 'vs/base/common/actions';\nimport * as dom from 'vs/base/browser/dom';\nimport { IContextMenuService } from 'vs/platform/contextview/browser/contextView';\nimport { IInstantiationService } from 'vs/platform/instantiation/common/instantiation';\nimport { IEditorGroupsService, IEditorGroup, GroupChangeKind, GroupsOrder } from 'vs/workbench/services/editor/common/editorGroupsService';\nimport { IConfigurationService, IConfigurationChangeEvent } from 'vs/platform/configuration/common/configuration';\nimport { IKeybindingService } from 'vs/platform/keybinding/common/keybinding';\nimport { IEditorInput } from 'vs/workbench/common/editor';\nimport { SaveAllAction, SaveAllInGroupAction, CloseGroupAction } from 'vs/workbench/contrib/files/browser/fileActions';\nimport { OpenEditorsFocusedContext, ExplorerFocusedContext, IFilesConfiguration, OpenEditor } from 'vs/workbench/contrib/files/common/files';\nimport { ITextFileService, AutoSaveMode } from 'vs/workbench/services/textfile/common/textfiles';\nimport { IUntitledEditorService } from 'vs/workbench/services/untitled/common/untitledEditorService';\nimport { CloseAllEditorsAction, CloseEditorAction } from 'vs/workbench/browser/parts/editor/editorActions';\nimport { ToggleEditorLayoutAction } from 'vs/workbench/browser/actions/layoutActions';\nimport { IContextKeyService, IContextKey } from 'vs/platform/contextkey/common/contextkey';\nimport { attachStylerCallback } from 'vs/platform/theme/common/styler';\nimport { IThemeService } from 'vs/platform/theme/common/themeService';\nimport { badgeBackground, badgeForeground, contrastBorder } from 'vs/platform/theme/common/colorRegistry';\nimport { WorkbenchList } from 'vs/platform/list/browser/listService';\nimport { IListVirtualDelegate, IListRenderer, IListContextMenuEvent, IListDragAndDrop, IListDragOverReaction } from 'vs/base/browser/ui/list/list';\nimport { ResourceLabels, IResourceLabel, IResourceLabelsContainer } from 'vs/workbench/browser/labels';\nimport { ActionBar } from 'vs/base/browser/ui/actionbar/actionbar';\nimport { ITelemetryService } from 'vs/platform/telemetry/common/telemetry';\nimport { IEditorService, SIDE_GROUP, ACTIVE_GROUP } from 'vs/workbench/services/editor/common/editorService';\nimport { IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport { fillInContextMenuActions } from 'vs/platform/actions/browser/menuItemActionItem';\nimport { IMenuService, MenuId, IMenu } from 'vs/platform/actions/common/actions';\nimport { DirtyEditorContext, OpenEditorsGroupContext } from 'vs/workbench/contrib/files/browser/fileCommands';\nimport { ResourceContextKey } from 'vs/workbench/common/resources';\nimport { ResourcesDropHandler, fillResourceDataTransfers, CodeDataTransfers } from 'vs/workbench/browser/dnd';\nimport { ViewletPanel, IViewletPanelOptions } from 'vs/workbench/browser/parts/views/panelViewlet';\nimport { IViewletViewOptions } from 'vs/workbench/browser/parts/views/viewsViewlet';\nimport { IDragAndDropData, DataTransfers } from 'vs/base/browser/dnd';\nimport { memoize } from 'vs/base/common/decorators';\nimport { ElementsDragAndDropData, DesktopDragAndDropData } from 'vs/base/browser/ui/list/listView';\nimport { URI } from 'vs/base/common/uri';\nimport { withNullAsUndefined } from 'vs/base/common/types';\n\nconst $ = dom.$;\n\nexport class OpenEditorsView extends ViewletPanel {\n\n\tprivate static readonly DEFAULT_VISIBLE_OPEN_EDITORS = 9;\n\tstatic readonly ID = 'workbench.explorer.openEditorsView';\n\tstatic NAME = nls.localize({ key: 'openEditors', comment: ['Open is an adjective'] }, \"Open Editors\");\n\n\tprivate dirtyCountElement: HTMLElement;\n\tprivate listRefreshScheduler: RunOnceScheduler;\n\tprivate structuralRefreshDelay: number;\n\tprivate list: WorkbenchList<OpenEditor | IEditorGroup>;\n\tprivate listLabels: ResourceLabels;\n\tprivate contributedContextMenu: IMenu;\n\tprivate needsRefresh: boolean;\n\tprivate resourceContext: ResourceContextKey;\n\tprivate groupFocusedContext: IContextKey<boolean>;\n\tprivate dirtyEditorFocusedContext: IContextKey<boolean>;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@ITextFileService private readonly textFileService: ITextFileService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IUntitledEditorService private readonly untitledEditorService: IUntitledEditorService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IMenuService private readonly menuService: IMenuService\n\t) {\n\t\tsuper({\n\t\t\t...(options as IViewletPanelOptions),\n\t\t\tariaHeaderLabel: nls.localize({ key: 'openEditosrSection', comment: ['Open is an adjective'] }, \"Open Editors Section\"),\n\t\t}, keybindingService, contextMenuService, configurationService);\n\n\t\tthis.structuralRefreshDelay = 0;\n\t\tthis.listRefreshScheduler = new RunOnceScheduler(() => {\n\t\t\tconst previousLength = this.list.length;\n\t\t\tthis.list.splice(0, this.list.length, this.elements);\n\t\t\tthis.focusActiveEditor();\n\t\t\tif (previousLength !== this.list.length) {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t\tthis.needsRefresh = false;\n\t\t}, this.structuralRefreshDelay);\n\n\t\tthis.registerUpdateEvents();\n\n\t\t// Also handle configuration updates\n\t\tthis.disposables.push(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationChange(e)));\n\n\t\t// Handle dirty counter\n\t\tthis.disposables.push(this.untitledEditorService.onDidChangeDirty(() => this.updateDirtyIndicator()));\n\t\tthis.disposables.push(this.textFileService.models.onModelsDirty(() => this.updateDirtyIndicator()));\n\t\tthis.disposables.push(this.textFileService.models.onModelsSaved(() => this.updateDirtyIndicator()));\n\t\tthis.disposables.push(this.textFileService.models.onModelsSaveError(() => this.updateDirtyIndicator()));\n\t\tthis.disposables.push(this.textFileService.models.onModelsReverted(() => this.updateDirtyIndicator()));\n\t}\n\n\tprivate registerUpdateEvents(): void {\n\t\tconst updateWholeList = () => {\n\t\t\tif (!this.isBodyVisible() || !this.list) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.listRefreshScheduler.schedule(this.structuralRefreshDelay);\n\t\t};\n\n\t\tconst groupDisposables = new Map<number, IDisposable>();\n\t\tconst addGroupListener = (group: IEditorGroup) => {\n\t\t\tgroupDisposables.set(group.id, group.onDidGroupChange(e => {\n\t\t\t\tif (this.listRefreshScheduler.isScheduled()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this.isBodyVisible() || !this.list) {\n\t\t\t\t\tthis.needsRefresh = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst index = this.getIndex(group, e.editor);\n\t\t\t\tswitch (e.kind) {\n\t\t\t\t\tcase GroupChangeKind.GROUP_LABEL: {\n\t\t\t\t\t\tif (this.showGroups) {\n\t\t\t\t\t\t\tthis.list.splice(index, 1, [group]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase GroupChangeKind.GROUP_ACTIVE:\n\t\t\t\t\tcase GroupChangeKind.EDITOR_ACTIVE: {\n\t\t\t\t\t\tthis.focusActiveEditor();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase GroupChangeKind.EDITOR_DIRTY:\n\t\t\t\t\tcase GroupChangeKind.EDITOR_LABEL:\n\t\t\t\t\tcase GroupChangeKind.EDITOR_PIN: {\n\t\t\t\t\t\tthis.list.splice(index, 1, [new OpenEditor(e.editor!, group)]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase GroupChangeKind.EDITOR_OPEN: {\n\t\t\t\t\t\tthis.list.splice(index, 0, [new OpenEditor(e.editor!, group)]);\n\t\t\t\t\t\tsetTimeout(() => this.updateSize(), this.structuralRefreshDelay);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase GroupChangeKind.EDITOR_CLOSE: {\n\t\t\t\t\t\tconst previousIndex = this.getIndex(group, undefined) + (e.editorIndex || 0) + (this.showGroups ? 1 : 0);\n\t\t\t\t\t\tthis.list.splice(previousIndex, 1);\n\t\t\t\t\t\tthis.updateSize();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase GroupChangeKind.EDITOR_MOVE: {\n\t\t\t\t\t\tthis.listRefreshScheduler.schedule();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis.disposables.push(groupDisposables.get(group.id)!);\n\t\t};\n\n\t\tthis.editorGroupService.groups.forEach(g => addGroupListener(g));\n\t\tthis.disposables.push(this.editorGroupService.onDidAddGroup(group => {\n\t\t\taddGroupListener(group);\n\t\t\tupdateWholeList();\n\t\t}));\n\t\tthis.disposables.push(this.editorGroupService.onDidMoveGroup(() => updateWholeList()));\n\t\tthis.disposables.push(this.editorGroupService.onDidRemoveGroup(group => {\n\t\t\tdispose(groupDisposables.get(group.id));\n\t\t\tupdateWholeList();\n\t\t}));\n\t}\n\n\tprotected renderHeaderTitle(container: HTMLElement): void {\n\t\tsuper.renderHeaderTitle(container, this.title);\n\n\t\tconst count = dom.append(container, $('.count'));\n\t\tthis.dirtyCountElement = dom.append(count, $('.monaco-count-badge'));\n\n\t\tthis.disposables.push((attachStylerCallback(this.themeService, { badgeBackground, badgeForeground, contrastBorder }, colors => {\n\t\t\tconst background = colors.badgeBackground ? colors.badgeBackground.toString() : null;\n\t\t\tconst foreground = colors.badgeForeground ? colors.badgeForeground.toString() : null;\n\t\t\tconst border = colors.contrastBorder ? colors.contrastBorder.toString() : null;\n\n\t\t\tthis.dirtyCountElement.style.backgroundColor = background;\n\t\t\tthis.dirtyCountElement.style.color = foreground;\n\n\t\t\tthis.dirtyCountElement.style.borderWidth = border ? '1px' : null;\n\t\t\tthis.dirtyCountElement.style.borderStyle = border ? 'solid' : null;\n\t\t\tthis.dirtyCountElement.style.borderColor = border;\n\t\t})));\n\n\t\tthis.updateDirtyIndicator();\n\t}\n\n\tpublic renderBody(container: HTMLElement): void {\n\t\tdom.addClass(container, 'explorer-open-editors');\n\t\tdom.addClass(container, 'show-file-icons');\n\n\t\tconst delegate = new OpenEditorsDelegate();\n\n\t\tif (this.list) {\n\t\t\tthis.list.dispose();\n\t\t}\n\t\tif (this.listLabels) {\n\t\t\tthis.listLabels.clear();\n\t\t}\n\t\tthis.listLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility } as IResourceLabelsContainer);\n\t\tthis.list = this.instantiationService.createInstance(WorkbenchList, container, delegate, [\n\t\t\tnew EditorGroupRenderer(this.keybindingService, this.instantiationService),\n\t\t\tnew OpenEditorRenderer(this.listLabels, this.instantiationService, this.keybindingService, this.configurationService)\n\t\t], {\n\t\t\t\tidentityProvider: { getId: (element: OpenEditor | IEditorGroup) => element instanceof OpenEditor ? element.getId() : element.id.toString() },\n\t\t\t\tdnd: new OpenEditorsDragAndDrop(this.instantiationService, this.editorGroupService)\n\t\t\t}) as WorkbenchList<OpenEditor | IEditorGroup>;\n\t\tthis.disposables.push(this.list);\n\t\tthis.disposables.push(this.listLabels);\n\n\t\tthis.contributedContextMenu = this.menuService.createMenu(MenuId.OpenEditorsContext, this.list.contextKeyService);\n\t\tthis.disposables.push(this.contributedContextMenu);\n\n\t\tthis.updateSize();\n\n\t\t// Bind context keys\n\t\tOpenEditorsFocusedContext.bindTo(this.list.contextKeyService);\n\t\tExplorerFocusedContext.bindTo(this.list.contextKeyService);\n\n\t\tthis.resourceContext = this.instantiationService.createInstance(ResourceContextKey);\n\t\tthis.disposables.push(this.resourceContext);\n\t\tthis.groupFocusedContext = OpenEditorsGroupContext.bindTo(this.contextKeyService);\n\t\tthis.dirtyEditorFocusedContext = DirtyEditorContext.bindTo(this.contextKeyService);\n\n\t\tthis.disposables.push(this.list.onContextMenu(e => this.onListContextMenu(e)));\n\t\tthis.list.onFocusChange(e => {\n\t\t\tthis.resourceContext.reset();\n\t\t\tthis.groupFocusedContext.reset();\n\t\t\tthis.dirtyEditorFocusedContext.reset();\n\t\t\tconst element = e.elements.length ? e.elements[0] : undefined;\n\t\t\tif (element instanceof OpenEditor) {\n\t\t\t\tthis.dirtyEditorFocusedContext.set(this.textFileService.isDirty(withNullAsUndefined(element.getResource())));\n\t\t\t\tthis.resourceContext.set(element.getResource());\n\t\t\t} else if (!!element) {\n\t\t\t\tthis.groupFocusedContext.set(true);\n\t\t\t}\n\t\t});\n\n\t\t// Open when selecting via keyboard\n\t\tthis.disposables.push(this.list.onMouseMiddleClick(e => {\n\t\t\tif (e && e.element instanceof OpenEditor) {\n\t\t\t\te.element.group.closeEditor(e.element.editor, { preserveFocus: true });\n\t\t\t}\n\t\t}));\n\t\tthis.disposables.push(this.list.onDidOpen(e => {\n\t\t\tconst browserEvent = e.browserEvent;\n\n\t\t\tlet openToSide = false;\n\t\t\tlet isSingleClick = false;\n\t\t\tlet isDoubleClick = false;\n\t\t\tif (browserEvent instanceof MouseEvent) {\n\t\t\t\tisSingleClick = browserEvent.detail === 1;\n\t\t\t\tisDoubleClick = browserEvent.detail === 2;\n\t\t\t\topenToSide = this.list.useAltAsMultipleSelectionModifier ? (browserEvent.ctrlKey || browserEvent.metaKey) : browserEvent.altKey;\n\t\t\t}\n\n\t\t\tconst focused = this.list.getFocusedElements();\n\t\t\tconst element = focused.length ? focused[0] : undefined;\n\t\t\tif (element instanceof OpenEditor) {\n\t\t\t\tthis.openEditor(element, { preserveFocus: isSingleClick, pinned: isDoubleClick, sideBySide: openToSide });\n\t\t\t} else if (element) {\n\t\t\t\tthis.editorGroupService.activateGroup(element);\n\t\t\t}\n\t\t}));\n\n\t\tthis.listRefreshScheduler.schedule(0);\n\n\t\tthis.disposables.push(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\tthis.listRefreshScheduler.schedule(0);\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic getActions(): IAction[] {\n\t\treturn [\n\t\t\tthis.instantiationService.createInstance(ToggleEditorLayoutAction, ToggleEditorLayoutAction.ID, ToggleEditorLayoutAction.LABEL),\n\t\t\tthis.instantiationService.createInstance(SaveAllAction, SaveAllAction.ID, SaveAllAction.LABEL),\n\t\t\tthis.instantiationService.createInstance(CloseAllEditorsAction, CloseAllEditorsAction.ID, CloseAllEditorsAction.LABEL)\n\t\t];\n\t}\n\n\tpublic focus(): void {\n\t\tsuper.focus();\n\t\tthis.list.domFocus();\n\t}\n\n\tpublic getList(): WorkbenchList<OpenEditor | IEditorGroup> {\n\t\treturn this.list;\n\t}\n\n\tprotected layoutBody(height: number, width: number): void {\n\t\tif (this.list) {\n\t\t\tthis.list.layout(height, width);\n\t\t}\n\t}\n\n\tprivate get showGroups(): boolean {\n\t\treturn this.editorGroupService.groups.length > 1;\n\t}\n\n\tprivate get elements(): Array<IEditorGroup | OpenEditor> {\n\t\tconst result: Array<IEditorGroup | OpenEditor> = [];\n\t\tthis.editorGroupService.getGroups(GroupsOrder.GRID_APPEARANCE).forEach(g => {\n\t\t\tif (this.showGroups) {\n\t\t\t\tresult.push(g);\n\t\t\t}\n\t\t\tresult.push(...g.editors.map(ei => new OpenEditor(ei, g)));\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tprivate getIndex(group: IEditorGroup, editor: IEditorInput | undefined | null): number {\n\t\tlet index = editor ? group.getIndexOfEditor(editor) : 0;\n\t\tif (!this.showGroups) {\n\t\t\treturn index;\n\t\t}\n\n\t\tfor (let g of this.editorGroupService.getGroups(GroupsOrder.GRID_APPEARANCE)) {\n\t\t\tif (g.id === group.id) {\n\t\t\t\treturn index + (!!editor ? 1 : 0);\n\t\t\t} else {\n\t\t\t\tindex += g.count + 1;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\tprivate openEditor(element: OpenEditor, options: { preserveFocus: boolean; pinned: boolean; sideBySide: boolean; }): void {\n\t\tif (element) {\n\t\t\t/* __GDPR__\n\t\t\t\t\"workbenchActionExecuted\" : {\n\t\t\t\t\t\"id\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\t\t\t\"from\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\t\t\t}\n\t\t\t*/\n\t\t\tthis.telemetryService.publicLog('workbenchActionExecuted', { id: 'workbench.files.openFile', from: 'openEditors' });\n\n\t\t\tconst preserveActivateGroup = options.sideBySide && options.preserveFocus; // needed for https://github.com/Microsoft/vscode/issues/42399\n\t\t\tif (!preserveActivateGroup) {\n\t\t\t\tthis.editorGroupService.activateGroup(element.groupId); // needed for https://github.com/Microsoft/vscode/issues/6672\n\t\t\t}\n\t\t\tthis.editorService.openEditor(element.editor, options, options.sideBySide ? SIDE_GROUP : ACTIVE_GROUP).then(editor => {\n\t\t\t\tif (editor && !preserveActivateGroup && editor.group) {\n\t\t\t\t\tthis.editorGroupService.activateGroup(editor.group);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onListContextMenu(e: IListContextMenuEvent<OpenEditor | IEditorGroup>): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = e.element;\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => {\n\t\t\t\tconst actions: IAction[] = [];\n\t\t\t\tfillInContextMenuActions(this.contributedContextMenu, { shouldForwardArgs: true, arg: element instanceof OpenEditor ? element.editor.getResource() : {} }, actions, this.contextMenuService);\n\t\t\t\treturn actions;\n\t\t\t},\n\t\t\tgetActionsContext: () => element instanceof OpenEditor ? { groupId: element.groupId, editorIndex: element.editorIndex } : { groupId: element.id }\n\t\t});\n\t}\n\n\tprivate focusActiveEditor(): void {\n\t\tif (this.list.length && this.editorGroupService.activeGroup) {\n\t\t\tconst index = this.getIndex(this.editorGroupService.activeGroup, this.editorGroupService.activeGroup.activeEditor);\n\t\t\tthis.list.setFocus([index]);\n\t\t\tthis.list.setSelection([index]);\n\t\t\tthis.list.reveal(index);\n\t\t} else {\n\t\t\tthis.list.setFocus([]);\n\t\t\tthis.list.setSelection([]);\n\t\t}\n\t}\n\n\tprivate onConfigurationChange(event: IConfigurationChangeEvent): void {\n\t\tif (event.affectsConfiguration('explorer.openEditors')) {\n\t\t\tthis.updateSize();\n\t\t}\n\n\t\t// Trigger a 'repaint' when decoration settings change\n\t\tif (event.affectsConfiguration('explorer.decorations')) {\n\t\t\tthis.listRefreshScheduler.schedule();\n\t\t}\n\t}\n\n\tprivate updateSize(): void {\n\t\t// Adjust expanded body size\n\t\tthis.minimumBodySize = this.getMinExpandedBodySize();\n\t\tthis.maximumBodySize = this.getMaxExpandedBodySize();\n\t}\n\n\tprivate updateDirtyIndicator(): void {\n\t\tlet dirty = this.textFileService.getAutoSaveMode() !== AutoSaveMode.AFTER_SHORT_DELAY ? this.textFileService.getDirty().length\n\t\t\t: this.untitledEditorService.getDirty().length;\n\t\tif (dirty === 0) {\n\t\t\tdom.addClass(this.dirtyCountElement, 'hidden');\n\t\t} else {\n\t\t\tthis.dirtyCountElement.textContent = nls.localize('dirtyCounter', \"{0} unsaved\", dirty);\n\t\t\tdom.removeClass(this.dirtyCountElement, 'hidden');\n\t\t}\n\t}\n\n\tprivate get elementCount(): number {\n\t\treturn this.editorGroupService.groups.map(g => g.count)\n\t\t\t.reduce((first, second) => first + second, this.showGroups ? this.editorGroupService.groups.length : 0);\n\t}\n\n\tprivate getMaxExpandedBodySize(): number {\n\t\treturn this.elementCount * OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tprivate getMinExpandedBodySize(): number {\n\t\tlet visibleOpenEditors = this.configurationService.getValue<number>('explorer.openEditors.visible');\n\t\tif (typeof visibleOpenEditors !== 'number') {\n\t\t\tvisibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS;\n\t\t}\n\n\t\treturn this.computeMinExpandedBodySize(visibleOpenEditors);\n\t}\n\n\tprivate computeMinExpandedBodySize(visibleOpenEditors = OpenEditorsView.DEFAULT_VISIBLE_OPEN_EDITORS): number {\n\t\tconst itemsToShow = Math.min(Math.max(visibleOpenEditors, 1), this.elementCount);\n\t\treturn itemsToShow * OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tpublic setStructuralRefreshDelay(delay: number): void {\n\t\tthis.structuralRefreshDelay = delay;\n\t}\n\n\tpublic getOptimalWidth(): number {\n\t\tlet parentNode = this.list.getHTMLElement();\n\t\tlet childNodes: HTMLElement[] = [].slice.call(parentNode.querySelectorAll('.open-editor > a'));\n\n\t\treturn dom.getLargestChildWidth(parentNode, childNodes);\n\t}\n}\n\ninterface IOpenEditorTemplateData {\n\tcontainer: HTMLElement;\n\troot: IResourceLabel;\n\tactionBar: ActionBar;\n\tactionRunner: OpenEditorActionRunner;\n}\n\ninterface IEditorGroupTemplateData {\n\troot: HTMLElement;\n\tname: HTMLSpanElement;\n\tactionBar: ActionBar;\n\teditorGroup: IEditorGroup;\n}\n\nclass OpenEditorActionRunner extends ActionRunner {\n\tpublic editor: OpenEditor;\n\n\trun(action: IAction, context?: any): Promise<void> {\n\t\treturn super.run(action, { groupId: this.editor.groupId, editorIndex: this.editor.editorIndex });\n\t}\n}\n\nclass OpenEditorsDelegate implements IListVirtualDelegate<OpenEditor | IEditorGroup> {\n\n\tpublic static readonly ITEM_HEIGHT = 22;\n\n\tgetHeight(element: OpenEditor | IEditorGroup): number {\n\t\treturn OpenEditorsDelegate.ITEM_HEIGHT;\n\t}\n\n\tgetTemplateId(element: OpenEditor | IEditorGroup): string {\n\t\tif (element instanceof OpenEditor) {\n\t\t\treturn OpenEditorRenderer.ID;\n\t\t}\n\n\t\treturn EditorGroupRenderer.ID;\n\t}\n}\n\nclass EditorGroupRenderer implements IListRenderer<IEditorGroup, IEditorGroupTemplateData> {\n\tstatic readonly ID = 'editorgroup';\n\n\tconstructor(\n\t\tprivate keybindingService: IKeybindingService,\n\t\tprivate instantiationService: IInstantiationService,\n\t) {\n\t\t// noop\n\t}\n\n\tget templateId() {\n\t\treturn EditorGroupRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IEditorGroupTemplateData {\n\t\tconst editorGroupTemplate: IEditorGroupTemplateData = Object.create(null);\n\t\teditorGroupTemplate.root = dom.append(container, $('.editor-group'));\n\t\teditorGroupTemplate.name = dom.append(editorGroupTemplate.root, $('span.name'));\n\t\teditorGroupTemplate.actionBar = new ActionBar(container);\n\n\t\tconst saveAllInGroupAction = this.instantiationService.createInstance(SaveAllInGroupAction, SaveAllInGroupAction.ID, SaveAllInGroupAction.LABEL);\n\t\tconst saveAllInGroupKey = this.keybindingService.lookupKeybinding(saveAllInGroupAction.id);\n\t\teditorGroupTemplate.actionBar.push(saveAllInGroupAction, { icon: true, label: false, keybinding: saveAllInGroupKey ? saveAllInGroupKey.getLabel() : undefined });\n\n\t\tconst closeGroupAction = this.instantiationService.createInstance(CloseGroupAction, CloseGroupAction.ID, CloseGroupAction.LABEL);\n\t\tconst closeGroupActionKey = this.keybindingService.lookupKeybinding(closeGroupAction.id);\n\t\teditorGroupTemplate.actionBar.push(closeGroupAction, { icon: true, label: false, keybinding: closeGroupActionKey ? closeGroupActionKey.getLabel() : undefined });\n\n\t\treturn editorGroupTemplate;\n\t}\n\n\trenderElement(editorGroup: IEditorGroup, index: number, templateData: IEditorGroupTemplateData): void {\n\t\ttemplateData.editorGroup = editorGroup;\n\t\ttemplateData.name.textContent = editorGroup.label;\n\t\ttemplateData.actionBar.context = { groupId: editorGroup.id };\n\t}\n\n\tdisposeTemplate(templateData: IEditorGroupTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\nclass OpenEditorRenderer implements IListRenderer<OpenEditor, IOpenEditorTemplateData> {\n\tstatic readonly ID = 'openeditor';\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels,\n\t\tprivate instantiationService: IInstantiationService,\n\t\tprivate keybindingService: IKeybindingService,\n\t\tprivate configurationService: IConfigurationService\n\t) {\n\t\t// noop\n\t}\n\n\tget templateId() {\n\t\treturn OpenEditorRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IOpenEditorTemplateData {\n\t\tconst editorTemplate: IOpenEditorTemplateData = Object.create(null);\n\t\teditorTemplate.container = container;\n\t\teditorTemplate.actionRunner = new OpenEditorActionRunner();\n\t\teditorTemplate.actionBar = new ActionBar(container, { actionRunner: editorTemplate.actionRunner });\n\t\tcontainer.draggable = true;\n\n\t\tconst closeEditorAction = this.instantiationService.createInstance(CloseEditorAction, CloseEditorAction.ID, CloseEditorAction.LABEL);\n\t\tconst key = this.keybindingService.lookupKeybinding(closeEditorAction.id);\n\t\teditorTemplate.actionBar.push(closeEditorAction, { icon: true, label: false, keybinding: key ? key.getLabel() : undefined });\n\n\t\teditorTemplate.root = this.labels.create(container);\n\n\t\treturn editorTemplate;\n\t}\n\n\trenderElement(editor: OpenEditor, index: number, templateData: IOpenEditorTemplateData): void {\n\t\ttemplateData.actionRunner.editor = editor;\n\t\teditor.isDirty() ? dom.addClass(templateData.container, 'dirty') : dom.removeClass(templateData.container, 'dirty');\n\t\ttemplateData.root.setEditor(editor.editor, {\n\t\t\titalic: editor.isPreview(),\n\t\t\textraClasses: ['open-editor'],\n\t\t\tfileDecorations: this.configurationService.getValue<IFilesConfiguration>().explorer.decorations\n\t\t});\n\t}\n\n\tdisposeTemplate(templateData: IOpenEditorTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t\ttemplateData.root.dispose();\n\t\ttemplateData.actionRunner.dispose();\n\t}\n}\n\nclass OpenEditorsDragAndDrop implements IListDragAndDrop<OpenEditor | IEditorGroup> {\n\n\tconstructor(\n\t\tprivate instantiationService: IInstantiationService,\n\t\tprivate editorGroupService: IEditorGroupsService\n\t) { }\n\n\t@memoize private get dropHandler(): ResourcesDropHandler {\n\t\treturn this.instantiationService.createInstance(ResourcesDropHandler, { allowWorkspaceOpen: false });\n\t}\n\n\tgetDragURI(element: OpenEditor | IEditorGroup): string | null {\n\t\tif (element instanceof OpenEditor) {\n\t\t\tconst resource = element.getResource();\n\t\t\tif (resource) {\n\t\t\t\treturn resource.toString();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetDragLabel?(elements: (OpenEditor | IEditorGroup)[]): string | undefined {\n\t\tif (elements.length > 1) {\n\t\t\treturn String(elements.length);\n\t\t}\n\t\tconst element = elements[0];\n\n\t\treturn element instanceof OpenEditor ? withNullAsUndefined(element.editor.getName()) : element.label;\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tconst items = (data as ElementsDragAndDropData<OpenEditor | IEditorGroup>).elements;\n\t\tconst resources: URI[] = [];\n\t\tif (items) {\n\t\t\titems.forEach(i => {\n\t\t\t\tif (i instanceof OpenEditor) {\n\t\t\t\t\tconst resource = i.getResource();\n\t\t\t\t\tif (resource) {\n\t\t\t\t\t\tresources.push(resource);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (resources.length) {\n\t\t\t// Apply some datatransfer types to allow for dragging the element outside of the application\n\t\t\tthis.instantiationService.invokeFunction(fillResourceDataTransfers, resources, originalEvent);\n\t\t}\n\t}\n\n\tonDragOver(data: IDragAndDropData, targetElement: OpenEditor | IEditorGroup, targetIndex: number, originalEvent: DragEvent): boolean | IListDragOverReaction {\n\t\tif (data instanceof DesktopDragAndDropData && originalEvent.dataTransfer) {\n\t\t\tconst types = originalEvent.dataTransfer.types;\n\t\t\tconst typesArray: string[] = [];\n\t\t\tfor (let i = 0; i < types.length; i++) {\n\t\t\t\ttypesArray.push(types[i].toLowerCase()); // somehow the types are lowercase\n\t\t\t}\n\n\t\t\tif (typesArray.indexOf(DataTransfers.FILES.toLowerCase()) === -1 && typesArray.indexOf(CodeDataTransfers.FILES.toLowerCase()) === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tdrop(data: IDragAndDropData, targetElement: OpenEditor | IEditorGroup, targetIndex: number, originalEvent: DragEvent): void {\n\t\tconst group = targetElement instanceof OpenEditor ? targetElement.group : targetElement;\n\t\tconst index = targetElement instanceof OpenEditor ? targetElement.group.getIndexOfEditor(targetElement.editor) : 0;\n\n\t\tif (data instanceof ElementsDragAndDropData) {\n\t\t\tconst elementsData = data.elements;\n\t\t\telementsData.forEach((oe, offset) => {\n\t\t\t\toe.group.moveEditor(oe.editor, group, { index: index + offset, preserveFocus: true });\n\t\t\t});\n\t\t\tthis.editorGroupService.activateGroup(group);\n\t\t} else {\n\t\t\tthis.dropHandler.handleDrop(originalEvent, () => group, () => group.focus(), index);\n\t\t}\n\t}\n}\n"]}]}