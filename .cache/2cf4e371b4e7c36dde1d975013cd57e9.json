{"remainingRequest":"/home/coding/workspace/node_modules/ts-loader/index.js?{\"happyPackMode\":true,\"compilerOptions\":{\"target\":\"es5\",\"lib\":[\"dom\",\"esnext\"]}}!/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.ts","dependencies":[{"path":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.ts","mtime":1555102317000},{"path":"/home/coding/workspace/node_modules/cache-loader/dist/cjs.js","mtime":1555844183884},{"path":"/home/coding/workspace/node_modules/ts-loader/index.js","mtime":1555844217316}],"contextDependencies":[],"result":["\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar cancellation_1 = require(\"vs/base/common/cancellation\");\nvar filters_1 = require(\"vs/base/common/filters\");\nvar iconLabel_1 = require(\"vs/base/browser/ui/iconLabel/iconLabel\");\nvar modes_1 = require(\"vs/editor/common/modes\");\nvar range_1 = require(\"vs/editor/common/core/range\");\nvar hash_1 = require(\"vs/base/common/hash\");\nvar Call = /** @class */ (function () {\n    function Call(item, locations, parent) {\n        this.item = item;\n        this.locations = locations;\n        this.parent = parent;\n    }\n    return Call;\n}());\nexports.Call = Call;\nvar SingleDirectionDataSource = /** @class */ (function () {\n    function SingleDirectionDataSource(provider, getDirection) {\n        this.provider = provider;\n        this.getDirection = getDirection;\n    }\n    SingleDirectionDataSource.prototype.hasChildren = function () {\n        return true;\n    };\n    SingleDirectionDataSource.prototype.getChildren = function (element) {\n        return tslib_1.__awaiter(this, void 0, Promise, function () {\n            var direction, calls, _a;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(element instanceof Call)) return [3 /*break*/, 5];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        direction = this.getDirection();\n                        return [4 /*yield*/, this.provider.resolveCallHierarchyItem(element.item, direction, cancellation_1.CancellationToken.None)];\n                    case 2:\n                        calls = _b.sent();\n                        if (!calls) {\n                            return [2 /*return*/, []];\n                        }\n                        return [2 /*return*/, calls.map(function (_a) {\n                                var item = _a[0], locations = _a[1];\n                                return new Call(item, locations, element);\n                            })];\n                    case 3:\n                        _a = _b.sent();\n                        return [2 /*return*/, []];\n                    case 4: return [3 /*break*/, 6];\n                    case 5: \n                    // 'root'\n                    return [2 /*return*/, [new Call(element, [{ uri: element.uri, range: range_1.Range.lift(element.range).collapseToStart() }], undefined)]];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return SingleDirectionDataSource;\n}());\nexports.SingleDirectionDataSource = SingleDirectionDataSource;\nvar IdentityProvider = /** @class */ (function () {\n    function IdentityProvider() {\n    }\n    IdentityProvider.prototype.getId = function (element) {\n        return hash_1.hash(element.item.uri.toString(), hash_1.hash(JSON.stringify(element.item.range))).toString() + (element.parent ? this.getId(element.parent) : '');\n    };\n    return IdentityProvider;\n}());\nexports.IdentityProvider = IdentityProvider;\nvar CallRenderingTemplate = /** @class */ (function () {\n    function CallRenderingTemplate() {\n    }\n    return CallRenderingTemplate;\n}());\nvar CallRenderer = /** @class */ (function () {\n    function CallRenderer() {\n        this.templateId = CallRenderer.id;\n    }\n    CallRenderer.prototype.renderTemplate = function (container) {\n        var iconLabel = new iconLabel_1.IconLabel(container, { supportHighlights: true });\n        return { iconLabel: iconLabel };\n    };\n    CallRenderer.prototype.renderElement = function (node, _index, template) {\n        var element = node.element, filterData = node.filterData;\n        template.iconLabel.setLabel(element.item.name, element.item.detail, {\n            labelEscapeNewLines: true,\n            matches: filters_1.createMatches(filterData),\n            extraClasses: [modes_1.symbolKindToCssClass(element.item.kind, true)]\n        });\n    };\n    CallRenderer.prototype.disposeTemplate = function (template) {\n        template.iconLabel.dispose();\n    };\n    CallRenderer.id = 'CallRenderer';\n    return CallRenderer;\n}());\nexports.CallRenderer = CallRenderer;\nvar VirtualDelegate = /** @class */ (function () {\n    function VirtualDelegate() {\n    }\n    VirtualDelegate.prototype.getHeight = function (_element) {\n        return 22;\n    };\n    VirtualDelegate.prototype.getTemplateId = function (_element) {\n        return CallRenderer.id;\n    };\n    return VirtualDelegate;\n}());\nexports.VirtualDelegate = VirtualDelegate;\n",{"version":3,"file":"/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.ts","sourceRoot":"","sources":["/home/coding/workspace/lib/vscode/src/vs/workbench/contrib/callHierarchy/browser/callHierarchyTree.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAsyncDataSource, ITreeRenderer, ITreeNode } from 'vs/base/browser/ui/tree/tree';\nimport { CallHierarchyItem, CallHierarchyDirection, CallHierarchyProvider } from 'vs/workbench/contrib/callHierarchy/common/callHierarchy';\nimport { CancellationToken } from 'vs/base/common/cancellation';\nimport { IIdentityProvider, IListVirtualDelegate } from 'vs/base/browser/ui/list/list';\nimport { FuzzyScore, createMatches } from 'vs/base/common/filters';\nimport { IconLabel } from 'vs/base/browser/ui/iconLabel/iconLabel';\nimport { symbolKindToCssClass, Location } from 'vs/editor/common/modes';\nimport { Range } from 'vs/editor/common/core/range';\nimport { hash } from 'vs/base/common/hash';\n\nexport class Call {\n\tconstructor(\n\t\treadonly item: CallHierarchyItem,\n\t\treadonly locations: Location[],\n\t\treadonly parent: Call | undefined\n\t) { }\n}\n\nexport class SingleDirectionDataSource implements IAsyncDataSource<CallHierarchyItem, Call> {\n\n\tconstructor(\n\t\tpublic provider: CallHierarchyProvider,\n\t\tpublic getDirection: () => CallHierarchyDirection\n\t) { }\n\n\thasChildren(): boolean {\n\t\treturn true;\n\t}\n\n\tasync getChildren(element: CallHierarchyItem | Call): Promise<Call[]> {\n\t\tif (element instanceof Call) {\n\t\t\ttry {\n\t\t\t\tconst direction = this.getDirection();\n\t\t\t\tconst calls = await this.provider.resolveCallHierarchyItem(element.item, direction, CancellationToken.None);\n\t\t\t\tif (!calls) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\treturn calls.map(([item, locations]) => new Call(item, locations, element));\n\t\t\t} catch {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t} else {\n\t\t\t// 'root'\n\t\t\treturn [new Call(element, [{ uri: element.uri, range: Range.lift(element.range).collapseToStart() }], undefined)];\n\t\t}\n\t}\n}\n\nexport class IdentityProvider implements IIdentityProvider<Call> {\n\tgetId(element: Call): { toString(): string; } {\n\t\treturn hash(element.item.uri.toString(), hash(JSON.stringify(element.item.range))).toString() + (element.parent ? this.getId(element.parent) : '');\n\t}\n}\n\nclass CallRenderingTemplate {\n\treadonly iconLabel: IconLabel;\n}\n\nexport class CallRenderer implements ITreeRenderer<Call, FuzzyScore, CallRenderingTemplate> {\n\n\tstatic id = 'CallRenderer';\n\n\ttemplateId: string = CallRenderer.id;\n\n\trenderTemplate(container: HTMLElement): CallRenderingTemplate {\n\t\tconst iconLabel = new IconLabel(container, { supportHighlights: true });\n\t\treturn { iconLabel };\n\t}\n\n\trenderElement(node: ITreeNode<Call, FuzzyScore>, _index: number, template: CallRenderingTemplate): void {\n\t\tconst { element, filterData } = node;\n\n\t\ttemplate.iconLabel.setLabel(\n\t\t\telement.item.name,\n\t\t\telement.item.detail,\n\t\t\t{\n\t\t\t\tlabelEscapeNewLines: true,\n\t\t\t\tmatches: createMatches(filterData),\n\t\t\t\textraClasses: [symbolKindToCssClass(element.item.kind, true)]\n\t\t\t}\n\t\t);\n\t}\n\tdisposeTemplate(template: CallRenderingTemplate): void {\n\t\ttemplate.iconLabel.dispose();\n\t}\n}\n\nexport class VirtualDelegate implements IListVirtualDelegate<Call> {\n\n\tgetHeight(_element: Call): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(_element: Call): string {\n\t\treturn CallRenderer.id;\n\t}\n}\n"]}]}